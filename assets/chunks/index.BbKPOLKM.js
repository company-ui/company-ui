import{d as se,o as q,c as U,r as ae,n as dt,aY as le,aB as It,j as F,M as ce,e as bt,t as ue,b as fe,F as de,E as he,a as pe,aC as ge,P as ve,az as me}from"./framework.mjeL-1fK.js";var ye=!0;const qt={},be=Object.freeze(Object.defineProperty({__proto__:null,default:qt},Symbol.toStringTag,{value:"Module"}));var wt={exports:{}},Ct=function(){return Ct=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)};function rt(t,e,n,i){function s(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function l(b){try{o(i.next(b))}catch(y){a(y)}}function u(b){try{o(i.throw(b))}catch(y){a(y)}}function o(b){b.done?r(b.value):s(b.value).then(l,u)}o((i=i.apply(t,[])).next())})}function st(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,s,r,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(o){return function(b){return u([o,b])}}function u(o){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(n=0)),n;)try{if(i=1,s&&(r=o[0]&2?s.return:o[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,o[1])).done)return r;switch(s=0,r&&(o=[o[0]&2,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,s=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){n.label=o[1];break}if(o[0]===6&&n.label<r[1]){n.label=r[1],r=o;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(o);break}r[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(t,n)}catch(b){o=[6,b],s=0}finally{i=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var we=function(e){return e===void 0},xe=function(e,n,i){return e.replace(new RegExp(n,"g"),i)},Se=function(e){return e.replace(/(<([^>]+)>)/gi,"")},Ce=function(e){try{var n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}},ke=function(e,n){return n===void 0&&(n=""),n+Object.keys(e).map(function(i){return"".concat(i,"=").concat(e[i])}).join("&")},_e=function(e,n){for(var i=[],s=0;s<e.length;s+=n)i.push(e.slice(s,s+n));return i},Be=["https://image.qcc.com/logo/{id}.jpg","https://image.qcc.com/auto/{id}.jpg"],Ae=function(t,e){return rt(void 0,void 0,void 0,function(){var n,i,s,r;return st(this,function(a){switch(a.label){case 0:return n=t.dataset.id||"",e.avatarUrl?(i=t,[4,kt(n,[e.avatarUrl])]):[3,2];case 1:return i.src=a.sent(),[2];case 2:switch(s=e.api,s){case"qcc_open":return[3,3]}return[3,5];case 3:return r=t,[4,kt(n,Be)];case 4:return r.src=a.sent(),[3,5];case 5:return[2]}})})},kt=function(t,e){return rt(void 0,void 0,void 0,function(){var n,i,s,r,a,l,u;return st(this,function(o){switch(o.label){case 0:n=0,i=e,o.label=1;case 1:if(!(n<i.length))return[3,8];s=i[n],o.label=2;case 2:return o.trys.push([2,6,,7]),r=xe(s,"{id}",t),[4,fetch(r)];case 3:return a=o.sent(),a.status!==200?[3,5]:[4,a.blob()];case 4:return l=o.sent(),[2,URL.createObjectURL(l)];case 5:return[3,7];case 6:return u=o.sent(),console.error(u),[3,7];case 7:return n++,[3,1];case 8:return[2,""]}})})},nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wt={exports:{}};function Te(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xt={exports:{}},Lt;function Ie(){return Lt||(Lt=1,function(t,e){(function(n,i){t.exports=i()})(nt,function(){var n=n||function(i,s){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof nt<"u"&&nt.crypto&&(r=nt.crypto),!r&&typeof Te=="function")try{r=qt||be}catch{}var a=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function c(){}return function(f){var v;return c.prototype=f,v=new c,c.prototype=null,v}}(),u={},o=u.lib={},b=o.Base=function(){return{extend:function(c){var f=l(this);return c&&f.mixIn(c),(!f.hasOwnProperty("init")||this.init===f.init)&&(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var f in c)c.hasOwnProperty(f)&&(this[f]=c[f]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=o.WordArray=b.extend({init:function(c,f){c=this.words=c||[],f!=s?this.sigBytes=f:this.sigBytes=c.length*4},toString:function(c){return(c||S).stringify(this)},concat:function(c){var f=this.words,v=c.words,x=this.sigBytes,_=c.sigBytes;if(this.clamp(),x%4)for(var A=0;A<_;A++){var O=v[A>>>2]>>>24-A%4*8&255;f[x+A>>>2]|=O<<24-(x+A)%4*8}else for(var I=0;I<_;I+=4)f[x+I>>>2]=v[I>>>2];return this.sigBytes+=_,this},clamp:function(){var c=this.words,f=this.sigBytes;c[f>>>2]&=4294967295<<32-f%4*8,c.length=i.ceil(f/4)},clone:function(){var c=b.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var f=[],v=0;v<c;v+=4)f.push(a());return new y.init(f,c)}}),C=u.enc={},S=C.Hex={stringify:function(c){for(var f=c.words,v=c.sigBytes,x=[],_=0;_<v;_++){var A=f[_>>>2]>>>24-_%4*8&255;x.push((A>>>4).toString(16)),x.push((A&15).toString(16))}return x.join("")},parse:function(c){for(var f=c.length,v=[],x=0;x<f;x+=2)v[x>>>3]|=parseInt(c.substr(x,2),16)<<24-x%8*4;return new y.init(v,f/2)}},k=C.Latin1={stringify:function(c){for(var f=c.words,v=c.sigBytes,x=[],_=0;_<v;_++){var A=f[_>>>2]>>>24-_%4*8&255;x.push(String.fromCharCode(A))}return x.join("")},parse:function(c){for(var f=c.length,v=[],x=0;x<f;x++)v[x>>>2]|=(c.charCodeAt(x)&255)<<24-x%4*8;return new y.init(v,f)}},m=C.Utf8={stringify:function(c){try{return decodeURIComponent(escape(k.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return k.parse(unescape(encodeURIComponent(c)))}},w=o.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=m.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var f,v=this._data,x=v.words,_=v.sigBytes,A=this.blockSize,O=A*4,I=_/O;c?I=i.ceil(I):I=i.max((I|0)-this._minBufferSize,0);var R=I*A,z=i.min(R*4,_);if(R){for(var L=0;L<R;L+=A)this._doProcessBlock(x,L);f=x.splice(0,R),v.sigBytes-=z}return new y.init(f,z)},clone:function(){var c=b.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0});o.Hasher=w.extend({cfg:b.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var f=this._doFinalize();return f},blockSize:16,_createHelper:function(c){return function(f,v){return new c.init(v).finalize(f)}},_createHmacHelper:function(c){return function(f,v){return new B.HMAC.init(c,v).finalize(f)}}});var B=u.algo={};return u}(Math);return n})}(xt)),xt.exports}(function(t,e){(function(n,i){t.exports=i(Ie())})(nt,function(n){return function(i){var s=n,r=s.lib,a=r.WordArray,l=r.Hasher,u=s.algo,o=[];(function(){for(var m=0;m<64;m++)o[m]=i.abs(i.sin(m+1))*4294967296|0})();var b=u.MD5=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,w){for(var B=0;B<16;B++){var c=w+B,f=m[c];m[c]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}var v=this._hash.words,x=m[w+0],_=m[w+1],A=m[w+2],O=m[w+3],I=m[w+4],R=m[w+5],z=m[w+6],L=m[w+7],G=m[w+8],$=m[w+9],V=m[w+10],D=m[w+11],j=m[w+12],X=m[w+13],ct=m[w+14],ut=m[w+15],d=v[0],h=v[1],p=v[2],g=v[3];d=y(d,h,p,g,x,7,o[0]),g=y(g,d,h,p,_,12,o[1]),p=y(p,g,d,h,A,17,o[2]),h=y(h,p,g,d,O,22,o[3]),d=y(d,h,p,g,I,7,o[4]),g=y(g,d,h,p,R,12,o[5]),p=y(p,g,d,h,z,17,o[6]),h=y(h,p,g,d,L,22,o[7]),d=y(d,h,p,g,G,7,o[8]),g=y(g,d,h,p,$,12,o[9]),p=y(p,g,d,h,V,17,o[10]),h=y(h,p,g,d,D,22,o[11]),d=y(d,h,p,g,j,7,o[12]),g=y(g,d,h,p,X,12,o[13]),p=y(p,g,d,h,ct,17,o[14]),h=y(h,p,g,d,ut,22,o[15]),d=C(d,h,p,g,_,5,o[16]),g=C(g,d,h,p,z,9,o[17]),p=C(p,g,d,h,D,14,o[18]),h=C(h,p,g,d,x,20,o[19]),d=C(d,h,p,g,R,5,o[20]),g=C(g,d,h,p,V,9,o[21]),p=C(p,g,d,h,ut,14,o[22]),h=C(h,p,g,d,I,20,o[23]),d=C(d,h,p,g,$,5,o[24]),g=C(g,d,h,p,ct,9,o[25]),p=C(p,g,d,h,O,14,o[26]),h=C(h,p,g,d,G,20,o[27]),d=C(d,h,p,g,X,5,o[28]),g=C(g,d,h,p,A,9,o[29]),p=C(p,g,d,h,L,14,o[30]),h=C(h,p,g,d,j,20,o[31]),d=S(d,h,p,g,R,4,o[32]),g=S(g,d,h,p,G,11,o[33]),p=S(p,g,d,h,D,16,o[34]),h=S(h,p,g,d,ct,23,o[35]),d=S(d,h,p,g,_,4,o[36]),g=S(g,d,h,p,I,11,o[37]),p=S(p,g,d,h,L,16,o[38]),h=S(h,p,g,d,V,23,o[39]),d=S(d,h,p,g,X,4,o[40]),g=S(g,d,h,p,x,11,o[41]),p=S(p,g,d,h,O,16,o[42]),h=S(h,p,g,d,z,23,o[43]),d=S(d,h,p,g,$,4,o[44]),g=S(g,d,h,p,j,11,o[45]),p=S(p,g,d,h,ut,16,o[46]),h=S(h,p,g,d,A,23,o[47]),d=k(d,h,p,g,x,6,o[48]),g=k(g,d,h,p,L,10,o[49]),p=k(p,g,d,h,ct,15,o[50]),h=k(h,p,g,d,R,21,o[51]),d=k(d,h,p,g,j,6,o[52]),g=k(g,d,h,p,O,10,o[53]),p=k(p,g,d,h,V,15,o[54]),h=k(h,p,g,d,_,21,o[55]),d=k(d,h,p,g,G,6,o[56]),g=k(g,d,h,p,ut,10,o[57]),p=k(p,g,d,h,z,15,o[58]),h=k(h,p,g,d,X,21,o[59]),d=k(d,h,p,g,I,6,o[60]),g=k(g,d,h,p,D,10,o[61]),p=k(p,g,d,h,A,15,o[62]),h=k(h,p,g,d,$,21,o[63]),v[0]=v[0]+d|0,v[1]=v[1]+h|0,v[2]=v[2]+p|0,v[3]=v[3]+g|0},_doFinalize:function(){var m=this._data,w=m.words,B=this._nDataBytes*8,c=m.sigBytes*8;w[c>>>5]|=128<<24-c%32;var f=i.floor(B/4294967296),v=B;w[(c+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,w[(c+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,m.sigBytes=(w.length+1)*4,this._process();for(var x=this._hash,_=x.words,A=0;A<4;A++){var O=_[A];_[A]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return x},clone:function(){var m=l.clone.call(this);return m._hash=this._hash.clone(),m}});function y(m,w,B,c,f,v,x){var _=m+(w&B|~w&c)+f+x;return(_<<v|_>>>32-v)+w}function C(m,w,B,c,f,v,x){var _=m+(w&c|B&~c)+f+x;return(_<<v|_>>>32-v)+w}function S(m,w,B,c,f,v,x){var _=m+(w^B^c)+f+x;return(_<<v|_>>>32-v)+w}function k(m,w,B,c,f,v,x){var _=m+(B^(w|~c))+f+x;return(_<<v|_>>>32-v)+w}s.MD5=l._createHelper(b),s.HmacMD5=l._createHmacHelper(b)}(Math),n.MD5})})(Wt);var Le=Wt.exports,Ee=Oe(Le),Ut=["9y16cxzg","sr2z1z63","hk2ssit3","acsevi4u","nu38i9ej","6m70kgre","hl8rvmhu","30uzkxp0","v9jggair","4ryav515","pgx6isvq","6b3zumy7","bxureygp","jff4xbhb","7j56lyfw","2tctuvza","8jfrswdr","r2as467y","jzye6ls1","bpi7fhat","ywp0p3qn","rzybga6p","84u199q5","kktjaqis","amn5oud8","a0zs4b52","x16y3u37","xku2lp9m","n8eawc7q","gw68xkfw","4wxtunev","ew2x6rzg","go9f3t54","7d0fkx5i","ai6ol58k","47jsslmm","70mxfzcz","b90wzl0c","ua78bvmr","7p60hdt4","ge5lw4u8","ref3rey2","wgay7vhx","b8l2u4mj","rk80y5ot","o37o4wq3","0moweoh0","r10m9bpy","wjilkjhj","il27pnod"],Re=_e(Ut,5),Fe="v2.0",Kt=31,Me=function(){return Fe},Et=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:t},function(){return e.charAt(Math.floor(Math.random()*e.length))}).join("")},Ve=function(t){var e=He(t)%Ut.length,n=Math.floor(e/5);return Re[n][e%5]},De=function(t){return Ee(t).toString()},He=function(t){var e=Kt+(t===null?0:ze(t))|0;return Math.abs(e)},ze=function(t){for(var e=1,n=0;n<t.length;n++)e=Kt*e+t.charCodeAt(n)|0;return e},$e=function(t){var e={f:Et(5),g:Et(3),r:"/company/getCompanyName",searchKey:t,t:Math.floor(Date.now()/1e3),v:Me()},n=ke(e),i=Ve(e.r.toUpperCase()+n),s=De("GET".concat(n).concat(i));return"https://c.qcc.com/embed/api".concat(e.r,"?").concat(n,"&m=").concat(s)},je=function(t,e){return rt(void 0,void 0,void 0,function(){var n,i,s,r;return st(this,function(a){switch(a.label){case 0:if(t.length<2||t.length>100)throw new Error(" keyword length must be between 2 and 100");return n=$e(t),[4,fetch(n,Ct({method:"GET",mode:"cors",headers:{Referer:"https://c.qcc.com/"}},we(e)?null:{signal:e==null?void 0:e.signal}))];case 1:return i=a.sent(),[4,i.json()];case 2:return s=a.sent(),r=[],s.status!=="200"?[2,r]:[2,s.result.map(function(l){var u=l.keyNo||Se(l.companyName);return{name:l.companyName,id:u}})]}})})},Pe=function(t,e){return rt(void 0,void 0,void 0,function(){var n,i,s;return st(this,function(r){switch(r.label){case 0:if(t.length<2||t.length>=100)throw new Error("keyword length must be between 2 and 100");return n="https://autocomplete.clearbit.com/v1/companies/suggest?query=".concat(t),[4,fetch(n,{method:"GET",mode:"cors",signal:e==null?void 0:e.signal})];case 1:return i=r.sent(),[4,i.json()];case 2:return s=r.sent(),[2,s.map(function(a){return{name:a.name,id:a.domain,avatar:a.logo}})]}})})},Ne=function(t,e,n){return rt(void 0,void 0,void 0,function(){var i,s;return st(this,function(r){switch(r.label){case 0:switch(s=e,s){case"qcc_open":return[3,1];case"clearbit":return[3,3]}return[3,5];case 1:return[4,je(t,n)];case 2:return i=r.sent(),[3,6];case 3:return[4,Pe(t,n)];case 4:return i=r.sent(),[3,6];case 5:return i=[],[3,6];case 6:return[2,{data:i}]}})})},qe=function(t,e){if(!(!e.enabled||!e.key)){var n=e.type==="localStorage"?localStorage:sessionStorage,i=Qt(e),s=i.findIndex(function(r){return r.id===t.id});s>-1&&i.splice(s,1),i.splice(0,0,t),n.setItem(e.key,JSON.stringify(i.length>5?i.slice(0,5):i))}},Qt=function(t){if(!t.enabled||!t.key)return[];var e=t.type==="localStorage"?localStorage:sessionStorage,n=e.getItem(t.key)||"";return Ce(n)},We=function(t){var e=t.type==="localStorage"?localStorage:sessionStorage;e.removeItem(t.key)},Ue={target:"body",api:"clearbit",queryDelay:500,placeholder:"Input company name",clearable:!0,backFill:!1,popupAppendToBody:!0,clearIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17L12 13.41L8.41 17L7 15.59L10.59 12L7 8.41L8.41 7L12 10.59L15.59 7L17 8.41L13.41 12L17 15.59z"/></svg>',autoFocus:!0,history:{enabled:!0,type:"localStorage",key:"company-history",showClear:!0,itemIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m15.1 19.37l1 1.74c-.96.44-2.01.73-3.1.84v-2.02c.74-.09 1.44-.28 2.1-.56zM4.07 13H2.05c.11 1.1.4 2.14.84 3.1l1.74-1c-.28-.66-.47-1.36-.56-2.1zM15.1 4.63l1-1.74c-.96-.44-2-.73-3.1-.84v2.02c.74.09 1.44.28 2.1.56zM19.93 11h2.02c-.11-1.1-.4-2.14-.84-3.1l-1.74 1c.28.66.47 1.36.56 2.1zM8.9 19.37l-1 1.74c.96.44 2.01.73 3.1.84v-2.02c-.74-.09-1.44-.28-2.1-.56zM11 4.07V2.05c-1.1.11-2.14.4-3.1.84l1 1.74c.66-.28 1.36-.47 2.1-.56zm7.36 3.1l1.74-1.01c-.63-.87-1.4-1.64-2.27-2.27l-1.01 1.74c.59.45 1.1.96 1.54 1.54zM4.63 8.9l-1.74-1c-.44.96-.73 2-.84 3.1h2.02c.09-.74.28-1.44.56-2.1zm15.3 4.1c-.09.74-.28 1.44-.56 2.1l1.74 1c.44-.96.73-2.01.84-3.1h-2.02zm-3.1 5.36l1.01 1.74c.87-.63 1.64-1.4 2.27-2.27l-1.74-1.01c-.45.59-.96 1.1-1.54 1.54zM7.17 5.64l-1-1.75c-.88.64-1.64 1.4-2.27 2.28l1.74 1.01a7.7 7.7 0 0 1 1.53-1.54zM5.64 16.83l-1.74 1c.63.87 1.4 1.64 2.27 2.27l1.01-1.74a7.7 7.7 0 0 1-1.54-1.53zM13 7h-2v5.41l4.29 4.29l1.41-1.41l-3.7-3.7V7z"/></svg>',clearIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M15 2h-3.5l-1-1h-5l-1 1H1v2h14zm1 7c-.7 0-1.37.1-2 .29V5H2v12c0 1.1.9 2 2 2h5.68A6.999 6.999 0 0 0 23 16c0-3.87-3.13-7-7-7zm-7 7c0 .34.03.67.08 1H4V7h8v3.26c-1.81 1.27-3 3.36-3 5.74zm7 5c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5z"/><path fill="currentColor" d="M16.5 12H15v5l3.6 2.1l.8-1.2l-2.9-1.7z"/></svg>'},onInput:function(){},onChange:function(){},onFetch:function(){},onAbortFetch:function(){},onSelect:function(){},onClear:function(){},onFocus:function(){},onBlur:function(){},onSubmit:function(){},onDropdownVisibleChange:function(){},showSubmitButton:!0,submitButtonLabel:"Submit",offsetTop:5,autoFlip:!1},T=Object.freeze({__proto__:null,addHistory:qe,getHistory:Qt,getImageData:kt,handleAvatar:Ae,handleQueryData:Ne,initialOptions:Ue,removeHistory:We});(wt.exports==null?{}:wt.exports).default||wt.exports;var Rt=function(t){return t===void 0},Ke=function(t){return t==null||t===void 0};function Qe(t,e,n){e===void 0&&(e=0);var i=n===void 0?{}:n,s=i.start,r=s===void 0?!0:s,a=i.middle,l=a===void 0?!0:a,u=i.once,o=u===void 0?!1:u,b=r,y=0,C,S=!1;function k(){for(var m=this,w=[],B=0;B<arguments.length;B++)w[B]=arguments[B];if(!S){var c=Date.now()-y;y=Date.now(),r&&l&&c>=e&&(b=!0),b?(b=!1,t.apply(this,w),o&&k.cancel()):(l&&c<e||!l)&&(clearTimeout(C),C=setTimeout(function(){y=Date.now(),t.apply(m,w),o&&k.cancel()},l?e-c:e))}}return k.cancel=function(){clearTimeout(C),S=!0},k}function Ge(t,e,n){e===void 0&&(e=0);var i={},s=i.start,r=s===void 0?!1:s,a=i.middle,l=a===void 0?!1:a,u=i.once,o=u===void 0?!1:u;return Qe(t,e,{start:r,middle:l,once:o})}var Ft=function(t){return t.replace(/(<([^>]+)>)/gi,"")};const it=Math.min,M=Math.max,ht=Math.round,ft=Math.floor,K=t=>({x:t,y:t}),Ye={left:"right",right:"left",bottom:"top",top:"bottom"},Je={start:"end",end:"start"};function vt(t,e){return typeof t=="function"?t(e):t}function Y(t){return t.split("-")[0]}function at(t){return t.split("-")[1]}function Xe(t){return t==="x"?"y":"x"}function Gt(t){return t==="y"?"height":"width"}function mt(t){return["top","bottom"].includes(Y(t))?"y":"x"}function Yt(t){return Xe(mt(t))}function Ze(t,e,n){n===void 0&&(n=!1);const i=at(t),s=Yt(t),r=Gt(s);let a=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=pt(a)),[a,pt(a)]}function tn(t){const e=pt(t);return[_t(t),e,_t(e)]}function _t(t){return t.replace(/start|end/g,e=>Je[e])}function en(t,e,n){const i=["left","right"],s=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:i:e?i:s;case"left":case"right":return e?r:a;default:return[]}}function nn(t,e,n,i){const s=at(t);let r=en(Y(t),n==="start",i);return s&&(r=r.map(a=>a+"-"+s),e&&(r=r.concat(r.map(_t)))),r}function pt(t){return t.replace(/left|right|bottom|top/g,e=>Ye[e])}function on(t){return{top:0,right:0,bottom:0,left:0,...t}}function rn(t){return typeof t!="number"?on(t):{top:t,right:t,bottom:t,left:t}}function gt(t){const{x:e,y:n,width:i,height:s}=t;return{width:i,height:s,top:n,left:e,right:e+i,bottom:n+s,x:e,y:n}}function Mt(t,e,n){let{reference:i,floating:s}=t;const r=mt(e),a=Yt(e),l=Gt(a),u=Y(e),o=r==="y",b=i.x+i.width/2-s.width/2,y=i.y+i.height/2-s.height/2,C=i[l]/2-s[l]/2;let S;switch(u){case"top":S={x:b,y:i.y-s.height};break;case"bottom":S={x:b,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y};break;case"left":S={x:i.x-s.width,y};break;default:S={x:i.x,y:i.y}}switch(at(e)){case"start":S[a]-=C*(n&&o?-1:1);break;case"end":S[a]+=C*(n&&o?-1:1);break}return S}const sn=async(t,e,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:a}=n,l=r.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let o=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:b,y}=Mt(o,i,u),C=i,S={},k=0;for(let m=0;m<l.length;m++){const{name:w,fn:B}=l[m],{x:c,y:f,data:v,reset:x}=await B({x:b,y,initialPlacement:i,placement:C,strategy:s,middlewareData:S,rects:o,platform:a,elements:{reference:t,floating:e}});b=c??b,y=f??y,S={...S,[w]:{...S[w],...v}},x&&k<=50&&(k++,typeof x=="object"&&(x.placement&&(C=x.placement),x.rects&&(o=x.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):x.rects),{x:b,y}=Mt(o,C,u)),m=-1)}return{x:b,y,placement:C,strategy:s,middlewareData:S}};async function Jt(t,e){var n;e===void 0&&(e={});const{x:i,y:s,platform:r,rects:a,elements:l,strategy:u}=t,{boundary:o="clippingAncestors",rootBoundary:b="viewport",elementContext:y="floating",altBoundary:C=!1,padding:S=0}=vt(e,t),k=rn(S),w=l[C?y==="floating"?"reference":"floating":y],B=gt(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(w)))==null||n?w:w.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:o,rootBoundary:b,strategy:u})),c=y==="floating"?{x:i,y:s,width:a.floating.width,height:a.floating.height}:a.reference,f=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),v=await(r.isElement==null?void 0:r.isElement(f))?await(r.getScale==null?void 0:r.getScale(f))||{x:1,y:1}:{x:1,y:1},x=gt(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:c,offsetParent:f,strategy:u}):c);return{top:(B.top-x.top+k.top)/v.y,bottom:(x.bottom-B.bottom+k.bottom)/v.y,left:(B.left-x.left+k.left)/v.x,right:(x.right-B.right+k.right)/v.x}}const an=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:s,middlewareData:r,rects:a,initialPlacement:l,platform:u,elements:o}=e,{mainAxis:b=!0,crossAxis:y=!0,fallbackPlacements:C,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:m=!0,...w}=vt(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const B=Y(s),c=Y(l)===l,f=await(u.isRTL==null?void 0:u.isRTL(o.floating)),v=C||(c||!m?[pt(l)]:tn(l));!C&&k!=="none"&&v.push(...nn(l,m,k,f));const x=[l,...v],_=await Jt(e,w),A=[];let O=((i=r.flip)==null?void 0:i.overflows)||[];if(b&&A.push(_[B]),y){const L=Ze(s,a,f);A.push(_[L[0]],_[L[1]])}if(O=[...O,{placement:s,overflows:A}],!A.every(L=>L<=0)){var I,R;const L=(((I=r.flip)==null?void 0:I.index)||0)+1,G=x[L];if(G)return{data:{index:L,overflows:O},reset:{placement:G}};let $=(R=O.filter(V=>V.overflows[0]<=0).sort((V,D)=>V.overflows[1]-D.overflows[1])[0])==null?void 0:R.placement;if(!$)switch(S){case"bestFit":{var z;const V=(z=O.map(D=>[D.placement,D.overflows.filter(j=>j>0).reduce((j,X)=>j+X,0)]).sort((D,j)=>D[1]-j[1])[0])==null?void 0:z[0];V&&($=V);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};async function ln(t,e){const{placement:n,platform:i,elements:s}=t,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),a=Y(n),l=at(n),u=mt(n)==="y",o=["left","top"].includes(a)?-1:1,b=r&&u?-1:1,y=vt(e,t);let{mainAxis:C,crossAxis:S,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return l&&typeof k=="number"&&(S=l==="end"?k*-1:k),u?{x:S*b,y:C*o}:{x:C*o,y:S*b}}const cn=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:s,y:r,placement:a,middlewareData:l}=e,u=await ln(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+u.x,y:r+u.y,data:{...u,placement:a}}}}},un=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:i,platform:s,elements:r}=e,{apply:a=()=>{},...l}=vt(t,e),u=await Jt(e,l),o=Y(n),b=at(n),y=mt(n)==="y",{width:C,height:S}=i.floating;let k,m;o==="top"||o==="bottom"?(k=o,m=b===(await(s.isRTL==null?void 0:s.isRTL(r.floating))?"start":"end")?"left":"right"):(m=o,k=b==="end"?"top":"bottom");const w=S-u[k],B=C-u[m],c=!e.middlewareData.shift;let f=w,v=B;if(y){const _=C-u.left-u.right;v=b||c?it(B,_):_}else{const _=S-u.top-u.bottom;f=b||c?it(w,_):_}if(c&&!b){const _=M(u.left,0),A=M(u.right,0),O=M(u.top,0),I=M(u.bottom,0);y?v=C-2*(_!==0||A!==0?_+A:M(u.left,u.right)):f=S-2*(O!==0||I!==0?O+I:M(u.top,u.bottom))}await a({...e,availableWidth:v,availableHeight:f});const x=await s.getDimensions(r.floating);return C!==x.width||S!==x.height?{reset:{rects:!0}}:{}}}};function et(t){return Xt(t)?(t.nodeName||"").toLowerCase():"#document"}function E(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function W(t){var e;return(e=(Xt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Xt(t){return t instanceof Node||t instanceof E(t).Node}function P(t){return t instanceof Element||t instanceof E(t).Element}function N(t){return t instanceof HTMLElement||t instanceof E(t).HTMLElement}function Vt(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof E(t).ShadowRoot}function lt(t){const{overflow:e,overflowX:n,overflowY:i,display:s}=H(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(s)}function fn(t){return["table","td","th"].includes(et(t))}function Bt(t){const e=At(),n=H(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function dn(t){let e=Q(t);for(;N(e)&&!tt(e);){if(Bt(e))return e;e=Q(e)}return null}function At(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tt(t){return["html","body","#document"].includes(et(t))}function H(t){return E(t).getComputedStyle(t)}function yt(t){return P(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Q(t){if(et(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Vt(t)&&t.host||W(t);return Vt(e)?e.host:e}function Zt(t){const e=Q(t);return tt(e)?t.ownerDocument?t.ownerDocument.body:t.body:N(e)&&lt(e)?e:Zt(e)}function ot(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Zt(t),r=s===((i=t.ownerDocument)==null?void 0:i.body),a=E(s);return r?e.concat(a,a.visualViewport||[],lt(s)?s:[],a.frameElement&&n?ot(a.frameElement):[]):e.concat(s,ot(s,[],n))}function te(t){const e=H(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=N(t),r=s?t.offsetWidth:n,a=s?t.offsetHeight:i,l=ht(n)!==r||ht(i)!==a;return l&&(n=r,i=a),{width:n,height:i,$:l}}function Ot(t){return P(t)?t:t.contextElement}function Z(t){const e=Ot(t);if(!N(e))return K(1);const n=e.getBoundingClientRect(),{width:i,height:s,$:r}=te(e);let a=(r?ht(n.width):n.width)/i,l=(r?ht(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const hn=K(0);function ee(t){const e=E(t);return!At()||!e.visualViewport?hn:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pn(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==E(t)?!1:e}function J(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=Ot(t);let a=K(1);e&&(i?P(i)&&(a=Z(i)):a=Z(t));const l=pn(r,n,i)?ee(r):K(0);let u=(s.left+l.x)/a.x,o=(s.top+l.y)/a.y,b=s.width/a.x,y=s.height/a.y;if(r){const C=E(r),S=i&&P(i)?E(i):i;let k=C,m=k.frameElement;for(;m&&i&&S!==k;){const w=Z(m),B=m.getBoundingClientRect(),c=H(m),f=B.left+(m.clientLeft+parseFloat(c.paddingLeft))*w.x,v=B.top+(m.clientTop+parseFloat(c.paddingTop))*w.y;u*=w.x,o*=w.y,b*=w.x,y*=w.y,u+=f,o+=v,k=E(m),m=k.frameElement}}return gt({width:b,height:y,x:u,y:o})}const gn=[":popover-open",":modal"];function Tt(t){return gn.some(e=>{try{return t.matches(e)}catch{return!1}})}function vn(t){let{elements:e,rect:n,offsetParent:i,strategy:s}=t;const r=s==="fixed",a=W(i),l=e?Tt(e.floating):!1;if(i===a||l&&r)return n;let u={scrollLeft:0,scrollTop:0},o=K(1);const b=K(0),y=N(i);if((y||!y&&!r)&&((et(i)!=="body"||lt(a))&&(u=yt(i)),N(i))){const C=J(i);o=Z(i),b.x=C.x+i.clientLeft,b.y=C.y+i.clientTop}return{width:n.width*o.x,height:n.height*o.y,x:n.x*o.x-u.scrollLeft*o.x+b.x,y:n.y*o.y-u.scrollTop*o.y+b.y}}function mn(t){return Array.from(t.getClientRects())}function ne(t){return J(W(t)).left+yt(t).scrollLeft}function yn(t){const e=W(t),n=yt(t),i=t.ownerDocument.body,s=M(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=M(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+ne(t);const l=-n.scrollTop;return H(i).direction==="rtl"&&(a+=M(e.clientWidth,i.clientWidth)-s),{width:s,height:r,x:a,y:l}}function bn(t,e){const n=E(t),i=W(t),s=n.visualViewport;let r=i.clientWidth,a=i.clientHeight,l=0,u=0;if(s){r=s.width,a=s.height;const o=At();(!o||o&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:r,height:a,x:l,y:u}}function wn(t,e){const n=J(t,!0,e==="fixed"),i=n.top+t.clientTop,s=n.left+t.clientLeft,r=N(t)?Z(t):K(1),a=t.clientWidth*r.x,l=t.clientHeight*r.y,u=s*r.x,o=i*r.y;return{width:a,height:l,x:u,y:o}}function Dt(t,e,n){let i;if(e==="viewport")i=bn(t,n);else if(e==="document")i=yn(W(t));else if(P(e))i=wn(e,n);else{const s=ee(t);i={...e,x:e.x-s.x,y:e.y-s.y}}return gt(i)}function ie(t,e){const n=Q(t);return n===e||!P(n)||tt(n)?!1:H(n).position==="fixed"||ie(n,e)}function xn(t,e){const n=e.get(t);if(n)return n;let i=ot(t,[],!1).filter(l=>P(l)&&et(l)!=="body"),s=null;const r=H(t).position==="fixed";let a=r?Q(t):t;for(;P(a)&&!tt(a);){const l=H(a),u=Bt(a);!u&&l.position==="fixed"&&(s=null),(r?!u&&!s:!u&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||lt(a)&&!u&&ie(t,a))?i=i.filter(b=>b!==a):s=l,a=Q(a)}return e.set(t,i),i}function Sn(t){let{element:e,boundary:n,rootBoundary:i,strategy:s}=t;const a=[...n==="clippingAncestors"?Tt(e)?[]:xn(e,this._c):[].concat(n),i],l=a[0],u=a.reduce((o,b)=>{const y=Dt(e,b,s);return o.top=M(y.top,o.top),o.right=it(y.right,o.right),o.bottom=it(y.bottom,o.bottom),o.left=M(y.left,o.left),o},Dt(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Cn(t){const{width:e,height:n}=te(t);return{width:e,height:n}}function kn(t,e,n){const i=N(e),s=W(e),r=n==="fixed",a=J(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const u=K(0);if(i||!i&&!r)if((et(e)!=="body"||lt(s))&&(l=yt(e)),i){const y=J(e,!0,r,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&(u.x=ne(s));const o=a.left+l.scrollLeft-u.x,b=a.top+l.scrollTop-u.y;return{x:o,y:b,width:a.width,height:a.height}}function St(t){return H(t).position==="static"}function Ht(t,e){return!N(t)||H(t).position==="fixed"?null:e?e(t):t.offsetParent}function oe(t,e){const n=E(t);if(Tt(t))return n;if(!N(t)){let s=Q(t);for(;s&&!tt(s);){if(P(s)&&!St(s))return s;s=Q(s)}return n}let i=Ht(t,e);for(;i&&fn(i)&&St(i);)i=Ht(i,e);return i&&tt(i)&&St(i)&&!Bt(i)?n:i||dn(t)||n}const _n=async function(t){const e=this.getOffsetParent||oe,n=this.getDimensions,i=await n(t.floating);return{reference:kn(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Bn(t){return H(t).direction==="rtl"}const An={convertOffsetParentRelativeRectToViewportRelativeRect:vn,getDocumentElement:W,getClippingRect:Sn,getOffsetParent:oe,getElementRects:_n,getClientRects:mn,getDimensions:Cn,getScale:Z,isElement:P,isRTL:Bn};function On(t,e){let n=null,i;const s=W(t);function r(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),r();const{left:o,top:b,width:y,height:C}=t.getBoundingClientRect();if(l||e(),!y||!C)return;const S=ft(b),k=ft(s.clientWidth-(o+y)),m=ft(s.clientHeight-(b+C)),w=ft(o),c={rootMargin:-S+"px "+-k+"px "+-m+"px "+-w+"px",threshold:M(0,it(1,u))||1};let f=!0;function v(x){const _=x[0].intersectionRatio;if(_!==u){if(!f)return a();_?a(!1,_):i=setTimeout(()=>{a(!1,1e-7)},1e3)}f=!1}try{n=new IntersectionObserver(v,{...c,root:s.ownerDocument})}catch{n=new IntersectionObserver(v,c)}n.observe(t)}return a(!0),r}function Tn(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,o=Ot(t),b=s||r?[...o?ot(o):[],...ot(e)]:[];b.forEach(B=>{s&&B.addEventListener("scroll",n,{passive:!0}),r&&B.addEventListener("resize",n)});const y=o&&l?On(o,n):null;let C=-1,S=null;a&&(S=new ResizeObserver(B=>{let[c]=B;c&&c.target===o&&S&&(S.unobserve(e),cancelAnimationFrame(C),C=requestAnimationFrame(()=>{var f;(f=S)==null||f.observe(e)})),n()}),o&&!u&&S.observe(o),S.observe(e));let k,m=u?J(t):null;u&&w();function w(){const B=J(t);m&&(B.x!==m.x||B.y!==m.y||B.width!==m.width||B.height!==m.height)&&n(),m=B,k=requestAnimationFrame(w)}return n(),()=>{var B;b.forEach(c=>{s&&c.removeEventListener("scroll",n),r&&c.removeEventListener("resize",n)}),y==null||y(),(B=S)==null||B.disconnect(),S=null,u&&cancelAnimationFrame(k)}}const In=cn,Ln=an,En=un,Rn=(t,e,n)=>{const i=new Map,s={platform:An,...n},r={...s.platform,_c:i};return sn(t,e,{...s,platform:r})},zt=(t,e)=>{let n=!1;const i=e.value,s=r=>{!t.contains(r.target)&&n&&i(),n=t.contains(r.target)};document.addEventListener("click",s,!0),t.onClickOutside=s},$t=t=>{document.removeEventListener("click",t.onClickOutside,!0),delete t.onClickOutside},Fn={created:zt,unmounted:$t,bind:zt,unbind:$t},Mn={name:"Teleport",props:{to:{type:String,required:!0},where:{type:String,default:"after"},disabled:Boolean},data(){return{nodes:[],waiting:!1,observer:null,parent:null}},computed:{classes(){return this.disabled?["teleport"]:["teleport","teleport-hidden"]}},watch:{to:"maybeMove",where:"maybeMove",disabled(t){t?(this.disable(),this.teardownObserver()):(this.bootObserver(),this.move())}},mounted(){this.nodes=Array.from(this.$el.childNodes),this.disabled||this.bootObserver(),this.maybeMove()},beforeUnmount(){this.disable(),this.teardownObserver()},methods:{maybeMove(){this.disabled||this.move()},move(){if(this.waiting=!1,this.parent=document.querySelector(this.to),!this.parent){this.disable(),this.waiting=!0;return}this.where==="before"?this.parent.prepend(this.getFragment()):this.parent.appendChild(this.getFragment())},disable(){this.$el.appendChild(this.getFragment()),this.parent=null},getFragment(){const t=document.createDocumentFragment();return this.nodes.forEach(e=>t.appendChild(e)),t},onMutations(t){let e=!1;for(let n=0;n<t.length;n++){const i=t[n],s=Array.from(i.addedNodes).filter(r=>!this.nodes.includes(r));Array.from(i.removedNodes).includes(this.parent)?(this.disable(),this.waiting=!this.disabled):this.waiting&&s.length>0&&(e=!0)}e&&this.move()},bootObserver(){this.observer||(this.observer=new MutationObserver(t=>this.onMutations(t)),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))},teardownObserver(){this.observer&&(this.observer.disconnect(),this.observer=null)}}},re=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};function Vn(t,e,n,i,s,r){return q(),U("div",{class:dt(r.classes)},[ae(t.$slots,"default")],2)}const jt=re(Mn,[["render",Vn]]),Pt="handleDebounceQuerySuggestion",Dn=se({name:"Autocomplete",directives:{clickOutside:Fn},props:{modelValue:{type:String,default:""},api:{type:String,default:T.initialOptions.api},queryDelay:{type:Number,default:T.initialOptions.queryDelay},placeholder:{type:String,default:T.initialOptions.placeholder},clearable:{type:Boolean,default:T.initialOptions.clearable},backFill:{type:Boolean,default:T.initialOptions.backFill},popupAppendToBody:{type:Boolean,default:T.initialOptions.popupAppendToBody},autoFocus:{type:Boolean,default:T.initialOptions.autoFocus},showSubmitButton:{type:Boolean,default:T.initialOptions.showSubmitButton},submitButtonLabel:{type:String,default:T.initialOptions.submitButtonLabel},offsetTop:{type:Number,default:T.initialOptions.offsetTop},autoFlip:{type:Boolean,default:T.initialOptions.autoFlip},historyEnabled:{type:Boolean,default:T.initialOptions.history.enabled},historyType:{type:String,default:T.initialOptions.history.type},historyStorageKey:{type:String,default:T.initialOptions.history.key},historyClearable:{type:Boolean,default:T.initialOptions.history.showClear}},emits:["update:modelValue","change","input","fetch","abortFetch","select","clear","focus","blur","submit","dropdownVisibleChange"],data(){return{isVue3:ye,abortController:void 0,latestKeyword:"",selectSuggestion:void 0,suggestionVisible:!1,suggestionType:"fetch",suggestions:[],keyboardActiveIndex:void 0,floatingWidth:void 0,floatingStyles:{left:"0",top:"0",width:"auto"},clearIcon:T.initialOptions.clearIcon,historyClearIcon:T.initialOptions.history.clearIcon,historyItemIcon:T.initialOptions.history.itemIcon}},computed:{nativeInputValue(){return Ke(this.modelValue)?"":String(this.modelValue)}},watch:{nativeInputValue(){this.setNativeInputValue()}},created(){this[Pt]=Ge(this.handleQuerySuggestion,this.queryDelay)},mounted(){this.autoFocus&&this.handleFocus(),this.setNativeInputValue(),this.handleCalculatePosition()},methods:{handleFocus(){this.$refs.input.focus()},handleCalculatePosition(){const t=this.$refs.reference,e=this.$refs.floating;Tn(t,e,()=>{Rn(t,e,{middleware:[In(this.offsetTop),En({apply:({rects:n})=>{this.floatingStyles.width=`${n.reference.width}px`}}),...this.autoFlip?[Ln({fallbackPlacements:["top"]})]:[]]}).then(({x:n,y:i})=>{this.floatingStyles.left=`${n}px`,this.floatingStyles.top=`${i}px`})})},handleCancelQuerySuggestion(){this.abortController&&(this.abortController.abort("repeated request"),this.abortController=void 0)},async handleQuerySuggestion(t){if(this.handleCancelQuerySuggestion(),this.nativeInputValue===this.latestKeyword){this.showSuggestion();return}this.abortController=new AbortController,T.handleQueryData(t.trim(),this.api,this.abortController).then(({data:e})=>{this.latestKeyword=t.trim(),this.suggestions=e,this.showSuggestion(),this.$emit("fetch",e)}).catch(e=>{e.name==="AbortError"&&this.$emit("abortFetch",e)})},setNativeInputValue(){const t=this.$refs.input;t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleInput(t){this.hideSuggestion();const{value:e}=t.target;if(this.handleUpdateModelValue(e),this.$emit("input",e),this.keyboardActiveIndex=void 0,this.selectSuggestion=void 0,e.length===0){this.clearSuggestion();return}this[Pt](e)},handleInputClick(){this.nativeInputValue?this.handleQuerySuggestion(this.nativeInputValue):this.historyEnabled&&(this.latestKeyword="",this.handleShowHistory())},handleInputChange(t){const{value:e}=t.target;this.$emit("change",e)},handleInputFocus(){this.$emit("focus")},handleInputBlur(){this.handleCancelQuerySuggestion(),this.$emit("blur")},handleShowHistory(){const t={enabled:this.historyEnabled,key:this.historyStorageKey,type:this.historyType};this.suggestions=T.getHistory(t),this.showSuggestion("history")},clearSuggestion(){this.suggestions=[]},showSuggestion(t="fetch"){if(this.suggestions.length===0){this.clearSuggestion(),this.hideSuggestion();return}this.suggestionType=t,!this.suggestionVisible&&(this.suggestionVisible=!0,this.$emit("dropdownVisibleChange",!0))},hideSuggestion(){this.suggestionVisible&&(this.suggestionVisible=!1,this.$emit("dropdownVisibleChange",!1))},handleSubmit(){this.$emit("submit",{text:this.nativeInputValue})},handleInputClear(){this.selectSuggestion=void 0,this.handleUpdateModelValue(""),this.clearSuggestion(),this.hideSuggestion(),this.handleFocus(),this.$emit("clear")},handleClickOutside(){this.hideSuggestion()},handleKeyDown(t){switch(t.key){case"Enter":Rt(this.keyboardActiveIndex)||this.handleSuggestionClick(this.suggestions[this.keyboardActiveIndex]);break;case"ArrowUp":this.keyboardActiveIndex?this.keyboardActiveIndex--:this.keyboardActiveIndex=this.suggestions.length-1,this.backFill&&this.handleFillInput();break;case"ArrowDown":Rt(this.keyboardActiveIndex)||this.keyboardActiveIndex>=this.suggestions.length-1?this.keyboardActiveIndex=0:this.keyboardActiveIndex++,this.backFill&&this.handleFillInput();break;case"Escape":this.handleInputClear();break}},handleFillInput(){this.selectSuggestion=this.suggestions[this.keyboardActiveIndex],this.handleUpdateModelValue(Ft(this.selectSuggestion.name||""))},handleHistoryClear(){const t={key:this.historyStorageKey,type:this.historyType};T.removeHistory(t),this.clearSuggestion(),this.hideSuggestion()},handleSuggestionClick(t){if(this.handleUpdateModelValue(Ft(t.name)),this.selectSuggestion={id:t.id,name:t.name},this.clearSuggestion(),this.hideSuggestion(),this.historyEnabled&&this.selectSuggestion){const e={enabled:this.historyEnabled,key:this.historyStorageKey,type:this.historyType};T.addHistory(this.selectSuggestion,e)}this.$emit("select",this.selectSuggestion)},handleUpdateModelValue(t){this.$emit("update:modelValue",t)}}}),Hn={class:"company-autocomplete__input"},zn=["placeholder"],$n={key:0,class:"company-autocomplete__clear"},jn=["innerHTML"],Pn={key:0,class:"company-autocomplete__submit"},Nn={class:"suggestion-popper__body"},qn=["onClick"],Wn={class:"suggestion__avatar"},Un=["innerHTML"],Kn=["alt","src"],Qn=["innerHTML"],Gn=F("div",{class:"suggestion__extra"},null,-1),Yn={class:"suggestion-popper__footer"},Jn=["innerHTML"];function Xn(t,e,n,i,s,r){const a=le("click-outside");return It((q(),U("div",{ref:"reference",class:dt(["company-autocomplete",[{"company-autocomplete--show-submit":t.showSubmitButton,"company-autocomplete--words":t.nativeInputValue.length>0,"company-autocomplete--activated":t.suggestionVisible}]]),onKeydown:e[8]||(e[8]=(...l)=>t.handleKeyDown&&t.handleKeyDown(...l))},[F("div",Hn,[F("input",ce({ref:"input",type:"text"},t.$attrs,{placeholder:t.placeholder,onInput:e[0]||(e[0]=(...l)=>t.handleInput&&t.handleInput(...l)),onClick:e[1]||(e[1]=(...l)=>t.handleInputClick&&t.handleInputClick(...l)),onChange:e[2]||(e[2]=(...l)=>t.handleInputChange&&t.handleInputChange(...l)),onFocus:e[3]||(e[3]=(...l)=>t.handleInputFocus&&t.handleInputFocus(...l)),onBlur:e[4]||(e[4]=(...l)=>t.handleInputBlur&&t.handleInputBlur(...l))}),null,16,zn),t.clearable?(q(),U("div",$n,[F("i",{class:"company-autocomplete__clear-icon",onClick:e[5]||(e[5]=(...l)=>t.handleInputClear&&t.handleInputClear(...l)),innerHTML:t.clearIcon},null,8,jn)])):bt("",!0)]),t.showSubmitButton?(q(),U("div",Pn,[F("button",{type:"button",onClick:e[6]||(e[6]=(...l)=>t.handleSubmit&&t.handleSubmit(...l))},ue(t.submitButtonLabel),1)])):bt("",!0),(q(),fe(me,{to:"body",disabled:!t.popupAppendToBody},[F("div",{ref:"floating",class:dt(["suggestion-popper",[{"suggestion-popper--activated":t.suggestionVisible}]]),style:ve(t.floatingStyles)},[F("div",Nn,[(q(!0),U(de,null,he(t.suggestions,(l,u)=>(q(),U("div",{class:dt(["suggestion",[{"suggestion--keyboard-active":t.keyboardActiveIndex===u}]]),key:`${l.name}-${u}`,onClick:o=>t.handleSuggestionClick(l)},[F("div",Wn,[t.suggestionType==="history"?(q(),U("i",{key:0,class:"suggestion__avatar-icon",innerHTML:t.historyItemIcon},null,8,Un)):l.avatar?(q(),U("img",{key:1,alt:l.id,src:l.avatar},null,8,Kn)):bt("",!0)]),F("div",{class:"suggestion__label",innerHTML:l.name},null,8,Qn),Gn],10,qn))),128))]),It(F("div",Yn,[F("a",{href:"javascript:;",onClick:e[7]||(e[7]=(...l)=>t.handleHistoryClear&&t.handleHistoryClear(...l))},[F("i",{class:"suggestion-popper__icon",innerHTML:t.historyClearIcon},null,8,Jn),pe(" 删除历史 ")])],512),[[ge,t.historyClearable&&t.suggestionType==="history"]])],6)],8,["disabled"]))],34)),[[a,t.handleClickOutside]])}const Nt=re(Dn,[["render",Xn]]),ti={install(t){t.component(Nt.name,Nt),t.component(jt.name,jt)}};export{Nt as autocomplete,ti as default,jt as teleport};
