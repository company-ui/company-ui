function Gt(e,t,n){if(n||arguments.length===2)for(var o=0,s=t.length,r;o<s;o++)(r||!(o in t))&&(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var mt=function(){return mt=Object.assign||function(n){for(var o,s=1,r=arguments.length;s<r;s++){o=arguments[s];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},mt.apply(this,arguments)};function J(e,t,n,o){function s(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function c(d){try{i(o.next(d))}catch(f){a(f)}}function u(d){try{i(o.throw(d))}catch(f){a(f)}}function i(d){d.done?r(d.value):s(d.value).then(c,u)}i((o=o.apply(e,t||[])).next())})}function Z(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},o,s,r,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(i){return function(d){return u([i,d])}}function u(i){if(o)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(n=0)),n;)try{if(o=1,s&&(r=i[0]&2?s.return:i[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,i[1])).done)return r;switch(s=0,r&&(i=[i[0]&2,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return n.label++,{value:i[1],done:!1};case 5:n.label++,s=i[1],i=[0];continue;case 7:i=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!r||i[1]>r[0]&&i[1]<r[3])){n.label=i[1];break}if(i[0]===6&&n.label<r[1]){n.label=r[1],r=i;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(i);break}r[2]&&n.ops.pop(),n.trys.pop();continue}i=t.call(e,n)}catch(d){i=[6,d],s=0}finally{o=r=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}var Kt=function(t){return t===void 0},Xt=function(t,n,o){return t.replace(new RegExp(n,"g"),o)},Yt=function(t){return t.replace(/(<([^>]+)>)/gi,"")},Jt=function(t){try{var n=JSON.parse(t);return Array.isArray(n)?n:[]}catch{return[]}},Zt=function(t,n){return n===void 0&&(n=""),n+Object.keys(t).map(function(o){return"".concat(o,"=").concat(t[o])}).join("&")},te=function(t,n){for(var o=[],s=0;s<t.length;s+=n)o.push(t.slice(s,s+n));return o},ee=["https://image.qcc.com/logo/{id}.jpg","https://image.qcc.com/auto/{id}.jpg"],ne=function(t,n){return J(void 0,void 0,void 0,function(){var o,s,r,a;return Z(this,function(c){switch(c.label){case 0:return o=t.dataset.id||"",n.avatarUrl?(s=t,[4,yt(o,[n.avatarUrl])]):[3,2];case 1:return s.src=c.sent(),[2];case 2:switch(r=n.api,r){case"qcc_open":return[3,3]}return[3,5];case 3:return a=t,[4,yt(o,ee)];case 4:return a.src=c.sent(),[3,5];case 5:return[2]}})})},yt=function(t,n){return J(void 0,void 0,void 0,function(){var o,s,r,a,c,u;return Z(this,function(i){switch(i.label){case 0:o=0,s=n,i.label=1;case 1:if(!(o<s.length))return[3,8];r=s[o],i.label=2;case 2:return i.trys.push([2,6,,7]),a=Xt(r,"{id}",t),[4,fetch(a)];case 3:return c=i.sent(),c.status!==200?[3,5]:[4,c.blob()];case 4:return u=i.sent(),[2,URL.createObjectURL(u)];case 5:return[3,7];case 6:return i.sent(),[3,7];case 7:return o++,[3,1];case 8:return[2,""]}})})},tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ht={exports:{}};function ie(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vt={exports:{}},_t;function re(){return _t||(_t=1,function(e,t){(function(n,o){e.exports=o()})(tt,function(){var n=n||function(o,s){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof tt<"u"&&tt.crypto&&(r=tt.crypto),!r&&typeof ie=="function")try{r=require("crypto")}catch{}var a=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function y(){}return function(l){var h;return y.prototype=l,h=new y,y.prototype=null,h}}(),u={},i=u.lib={},d=i.Base=function(){return{extend:function(l){var h=c(this);return l&&h.mixIn(l),(!h.hasOwnProperty("init")||this.init===h.init)&&(h.init=function(){h.$super.init.apply(this,arguments)}),h.init.prototype=h,h.$super=this,h},create:function(){var l=this.extend();return l.init.apply(l,arguments),l},init:function(){},mixIn:function(l){for(var h in l)l.hasOwnProperty(h)&&(this[h]=l[h]);l.hasOwnProperty("toString")&&(this.toString=l.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=i.WordArray=d.extend({init:function(l,h){l=this.words=l||[],h!=s?this.sigBytes=h:this.sigBytes=l.length*4},toString:function(l){return(l||_).stringify(this)},concat:function(l){var h=this.words,w=l.words,S=this.sigBytes,L=l.sigBytes;if(this.clamp(),S%4)for(var k=0;k<L;k++){var B=w[k>>>2]>>>24-k%4*8&255;h[S+k>>>2]|=B<<24-(S+k)%4*8}else for(var R=0;R<L;R+=4)h[S+R>>>2]=w[R>>>2];return this.sigBytes+=L,this},clamp:function(){var l=this.words,h=this.sigBytes;l[h>>>2]&=4294967295<<32-h%4*8,l.length=o.ceil(h/4)},clone:function(){var l=d.clone.call(this);return l.words=this.words.slice(0),l},random:function(l){for(var h=[],w=0;w<l;w+=4)h.push(a());return new f.init(h,l)}}),b=u.enc={},_=b.Hex={stringify:function(l){for(var h=l.words,w=l.sigBytes,S=[],L=0;L<w;L++){var k=h[L>>>2]>>>24-L%4*8&255;S.push((k>>>4).toString(16)),S.push((k&15).toString(16))}return S.join("")},parse:function(l){for(var h=l.length,w=[],S=0;S<h;S+=2)w[S>>>3]|=parseInt(l.substr(S,2),16)<<24-S%8*4;return new f.init(w,h/2)}},C=b.Latin1={stringify:function(l){for(var h=l.words,w=l.sigBytes,S=[],L=0;L<w;L++){var k=h[L>>>2]>>>24-L%4*8&255;S.push(String.fromCharCode(k))}return S.join("")},parse:function(l){for(var h=l.length,w=[],S=0;S<h;S++)w[S>>>2]|=(l.charCodeAt(S)&255)<<24-S%4*8;return new f.init(w,h)}},A=b.Utf8={stringify:function(l){try{return decodeURIComponent(escape(C.stringify(l)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(l){return C.parse(unescape(encodeURIComponent(l)))}},E=i.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(l){typeof l=="string"&&(l=A.parse(l)),this._data.concat(l),this._nDataBytes+=l.sigBytes},_process:function(l){var h,w=this._data,S=w.words,L=w.sigBytes,k=this.blockSize,B=k*4,R=L/B;l?R=o.ceil(R):R=o.max((R|0)-this._minBufferSize,0);var O=R*k,T=o.min(O*4,L);if(O){for(var I=0;I<O;I+=k)this._doProcessBlock(S,I);h=S.splice(0,O),w.sigBytes-=T}return new f.init(h,T)},clone:function(){var l=d.clone.call(this);return l._data=this._data.clone(),l},_minBufferSize:0});i.Hasher=E.extend({cfg:d.extend(),init:function(l){this.cfg=this.cfg.extend(l),this.reset()},reset:function(){E.reset.call(this),this._doReset()},update:function(l){return this._append(l),this._process(),this},finalize:function(l){l&&this._append(l);var h=this._doFinalize();return h},blockSize:16,_createHelper:function(l){return function(h,w){return new l.init(w).finalize(h)}},_createHmacHelper:function(l){return function(h,w){return new x.HMAC.init(l,w).finalize(h)}}});var x=u.algo={};return u}(Math);return n})}(vt)),vt.exports}(function(e,t){(function(n,o){e.exports=o(re())})(tt,function(n){return function(o){var s=n,r=s.lib,a=r.WordArray,c=r.Hasher,u=s.algo,i=[];(function(){for(var A=0;A<64;A++)i[A]=o.abs(o.sin(A+1))*4294967296|0})();var d=u.MD5=c.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(E,x){for(var y=0;y<16;y++){var l=x+y,h=E[l];E[l]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360}var w=this._hash.words,S=E[x+0],L=E[x+1],k=E[x+2],B=E[x+3],R=E[x+4],O=E[x+5],T=E[x+6],I=E[x+7],q=E[x+8],W=E[x+9],F=E[x+10],j=E[x+11],G=E[x+12],rt=E[x+13],st=E[x+14],at=E[x+15],p=w[0],g=w[1],v=w[2],m=w[3];p=f(p,g,v,m,S,7,i[0]),m=f(m,p,g,v,L,12,i[1]),v=f(v,m,p,g,k,17,i[2]),g=f(g,v,m,p,B,22,i[3]),p=f(p,g,v,m,R,7,i[4]),m=f(m,p,g,v,O,12,i[5]),v=f(v,m,p,g,T,17,i[6]),g=f(g,v,m,p,I,22,i[7]),p=f(p,g,v,m,q,7,i[8]),m=f(m,p,g,v,W,12,i[9]),v=f(v,m,p,g,F,17,i[10]),g=f(g,v,m,p,j,22,i[11]),p=f(p,g,v,m,G,7,i[12]),m=f(m,p,g,v,rt,12,i[13]),v=f(v,m,p,g,st,17,i[14]),g=f(g,v,m,p,at,22,i[15]),p=b(p,g,v,m,L,5,i[16]),m=b(m,p,g,v,T,9,i[17]),v=b(v,m,p,g,j,14,i[18]),g=b(g,v,m,p,S,20,i[19]),p=b(p,g,v,m,O,5,i[20]),m=b(m,p,g,v,F,9,i[21]),v=b(v,m,p,g,at,14,i[22]),g=b(g,v,m,p,R,20,i[23]),p=b(p,g,v,m,W,5,i[24]),m=b(m,p,g,v,st,9,i[25]),v=b(v,m,p,g,B,14,i[26]),g=b(g,v,m,p,q,20,i[27]),p=b(p,g,v,m,rt,5,i[28]),m=b(m,p,g,v,k,9,i[29]),v=b(v,m,p,g,I,14,i[30]),g=b(g,v,m,p,G,20,i[31]),p=_(p,g,v,m,O,4,i[32]),m=_(m,p,g,v,q,11,i[33]),v=_(v,m,p,g,j,16,i[34]),g=_(g,v,m,p,st,23,i[35]),p=_(p,g,v,m,L,4,i[36]),m=_(m,p,g,v,R,11,i[37]),v=_(v,m,p,g,I,16,i[38]),g=_(g,v,m,p,F,23,i[39]),p=_(p,g,v,m,rt,4,i[40]),m=_(m,p,g,v,S,11,i[41]),v=_(v,m,p,g,B,16,i[42]),g=_(g,v,m,p,T,23,i[43]),p=_(p,g,v,m,W,4,i[44]),m=_(m,p,g,v,G,11,i[45]),v=_(v,m,p,g,at,16,i[46]),g=_(g,v,m,p,k,23,i[47]),p=C(p,g,v,m,S,6,i[48]),m=C(m,p,g,v,I,10,i[49]),v=C(v,m,p,g,st,15,i[50]),g=C(g,v,m,p,O,21,i[51]),p=C(p,g,v,m,G,6,i[52]),m=C(m,p,g,v,B,10,i[53]),v=C(v,m,p,g,F,15,i[54]),g=C(g,v,m,p,L,21,i[55]),p=C(p,g,v,m,q,6,i[56]),m=C(m,p,g,v,at,10,i[57]),v=C(v,m,p,g,T,15,i[58]),g=C(g,v,m,p,rt,21,i[59]),p=C(p,g,v,m,R,6,i[60]),m=C(m,p,g,v,j,10,i[61]),v=C(v,m,p,g,k,15,i[62]),g=C(g,v,m,p,W,21,i[63]),w[0]=w[0]+p|0,w[1]=w[1]+g|0,w[2]=w[2]+v|0,w[3]=w[3]+m|0},_doFinalize:function(){var E=this._data,x=E.words,y=this._nDataBytes*8,l=E.sigBytes*8;x[l>>>5]|=128<<24-l%32;var h=o.floor(y/4294967296),w=y;x[(l+64>>>9<<4)+15]=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,x[(l+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E.sigBytes=(x.length+1)*4,this._process();for(var S=this._hash,L=S.words,k=0;k<4;k++){var B=L[k];L[k]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return S},clone:function(){var E=c.clone.call(this);return E._hash=this._hash.clone(),E}});function f(A,E,x,y,l,h,w){var S=A+(E&x|~E&y)+l+w;return(S<<h|S>>>32-h)+E}function b(A,E,x,y,l,h,w){var S=A+(E&y|x&~y)+l+w;return(S<<h|S>>>32-h)+E}function _(A,E,x,y,l,h,w){var S=A+(E^x^y)+l+w;return(S<<h|S>>>32-h)+E}function C(A,E,x,y,l,h,w){var S=A+(x^(E|~y))+l+w;return(S<<h|S>>>32-h)+E}s.MD5=c._createHelper(d),s.HmacMD5=c._createHmacHelper(d)}(Math),n.MD5})})(Ht);var se=Ht.exports,ae=oe(se),Ot=["9y16cxzg","sr2z1z63","hk2ssit3","acsevi4u","nu38i9ej","6m70kgre","hl8rvmhu","30uzkxp0","v9jggair","4ryav515","pgx6isvq","6b3zumy7","bxureygp","jff4xbhb","7j56lyfw","2tctuvza","8jfrswdr","r2as467y","jzye6ls1","bpi7fhat","ywp0p3qn","rzybga6p","84u199q5","kktjaqis","amn5oud8","a0zs4b52","x16y3u37","xku2lp9m","n8eawc7q","gw68xkfw","4wxtunev","ew2x6rzg","go9f3t54","7d0fkx5i","ai6ol58k","47jsslmm","70mxfzcz","b90wzl0c","ua78bvmr","7p60hdt4","ge5lw4u8","ref3rey2","wgay7vhx","b8l2u4mj","rk80y5ot","o37o4wq3","0moweoh0","r10m9bpy","wjilkjhj","il27pnod"],ce=te(Ot,5),le="v2.0",Dt=31,ue=function(){return le},St=function(t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:t},function(){return n.charAt(Math.floor(Math.random()*n.length))}).join("")},fe=function(t){var n=he(t)%Ot.length,o=Math.floor(n/5);return ce[o][n%5]},de=function(t){return ae(t).toString()},he=function(t){var n=Dt+(t===null?0:pe(t))|0;return Math.abs(n)},pe=function(t){for(var n=1,o=0;o<t.length;o++)n=Dt*n+t.charCodeAt(o)|0;return n},ge=function(t){var n={f:St(5),g:St(3),r:"/company/getCompanyName",searchKey:t,t:Math.floor(Date.now()/1e3),v:ue()},o=Zt(n),s=fe(n.r.toUpperCase()+o),r=de("GET".concat(o).concat(s));return"https://c.qcc.com/embed/api".concat(n.r,"?").concat(o,"&m=").concat(r)},ve=function(t,n){return J(void 0,void 0,void 0,function(){var o,s,r,a;return Z(this,function(c){switch(c.label){case 0:if(t.length<2||t.length>100)throw new Error(" keyword length must be between 2 and 100");return o=ge(t),[4,fetch(o,mt({method:"GET",mode:"cors",headers:{Referer:"https://c.qcc.com/"}},Kt(n)?null:{signal:n==null?void 0:n.signal}))];case 1:return s=c.sent(),[4,s.json()];case 2:return r=c.sent(),a=[],r.status!=="200"?[2,a]:[2,r.result.map(function(u){var i=u.keyNo||Yt(u.companyName);return{name:u.companyName,id:i}})]}})})},me=function(t,n){return J(void 0,void 0,void 0,function(){var o,s,r;return Z(this,function(a){switch(a.label){case 0:if(t.length<2||t.length>=100)throw new Error("keyword length must be between 2 and 100");return o="https://autocomplete.clearbit.com/v1/companies/suggest?query=".concat(t),[4,fetch(o,{method:"GET",mode:"cors",signal:n==null?void 0:n.signal})];case 1:return s=a.sent(),[4,s.json()];case 2:return r=a.sent(),[2,r.map(function(c){return{name:c.name,id:c.domain,avatar:c.logo}})]}})})},ye=function(t,n){return J(void 0,void 0,void 0,function(){var o,s,r;return Z(this,function(a){switch(a.label){case 0:if(t.length<2||t.length>=100)throw new Error("keyword length must be between 2 and 100");return o="https://company-autocomplete-api.vercel.app/qcc-global/search/".concat(t),[4,fetch(o,{method:"GET",mode:"cors",signal:n==null?void 0:n.signal})];case 1:return s=a.sent(),[4,s.json()];case 2:return r=a.sent(),[2,r.resultList.map(function(c){return{name:c.name,id:c.keyNo,avatar:c.imgUrl}})]}})})},we=function(t,n,o){return J(void 0,void 0,void 0,function(){var s,r;return Z(this,function(a){switch(a.label){case 0:switch(r=n,r){case"qcc_open":return[3,1];case"clearbit":return[3,3];case"qcc_global":return[3,5]}return[3,7];case 1:return[4,ve(t,o)];case 2:return s=a.sent(),[3,8];case 3:return[4,me(t,o)];case 4:return s=a.sent(),[3,8];case 5:return[4,ye(t,o)];case 6:return s=a.sent(),[3,8];case 7:return s=[],[3,8];case 8:return[2,{data:s}]}})})},be=function(t,n){if(!(!n.enabled||!n.key)){var o=n.type==="localStorage"?localStorage:sessionStorage,s=zt(n),r=s.findIndex(function(a){return a.id===t.id});r>-1&&s.splice(r,1),s.splice(0,0,t),o.setItem(n.key,JSON.stringify(s.length>5?s.slice(0,5):s))}},zt=function(t){if(!t.enabled||!t.key)return[];var n=t.type==="localStorage"?localStorage:sessionStorage,o=n.getItem(t.key)||"";return Jt(o)},xe=function(t){var n=t.type==="localStorage"?localStorage:sessionStorage;n.removeItem(t.key)},Ee={target:"body",api:"clearbit",queryDelay:500,placeholder:"Input company name",clearable:!0,backFill:!1,popupAppendToBody:!0,clearIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17L12 13.41L8.41 17L7 15.59L10.59 12L7 8.41L8.41 7L12 10.59L15.59 7L17 8.41L13.41 12L17 15.59z"/></svg>',autoFocus:!0,history:{enabled:!0,type:"localStorage",key:"company-history",showClear:!0,itemIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m15.1 19.37l1 1.74c-.96.44-2.01.73-3.1.84v-2.02c.74-.09 1.44-.28 2.1-.56zM4.07 13H2.05c.11 1.1.4 2.14.84 3.1l1.74-1c-.28-.66-.47-1.36-.56-2.1zM15.1 4.63l1-1.74c-.96-.44-2-.73-3.1-.84v2.02c.74.09 1.44.28 2.1.56zM19.93 11h2.02c-.11-1.1-.4-2.14-.84-3.1l-1.74 1c.28.66.47 1.36.56 2.1zM8.9 19.37l-1 1.74c.96.44 2.01.73 3.1.84v-2.02c-.74-.09-1.44-.28-2.1-.56zM11 4.07V2.05c-1.1.11-2.14.4-3.1.84l1 1.74c.66-.28 1.36-.47 2.1-.56zm7.36 3.1l1.74-1.01c-.63-.87-1.4-1.64-2.27-2.27l-1.01 1.74c.59.45 1.1.96 1.54 1.54zM4.63 8.9l-1.74-1c-.44.96-.73 2-.84 3.1h2.02c.09-.74.28-1.44.56-2.1zm15.3 4.1c-.09.74-.28 1.44-.56 2.1l1.74 1c.44-.96.73-2.01.84-3.1h-2.02zm-3.1 5.36l1.01 1.74c.87-.63 1.64-1.4 2.27-2.27l-1.74-1.01c-.45.59-.96 1.1-1.54 1.54zM7.17 5.64l-1-1.75c-.88.64-1.64 1.4-2.27 2.28l1.74 1.01a7.7 7.7 0 0 1 1.53-1.54zM5.64 16.83l-1.74 1c.63.87 1.4 1.64 2.27 2.27l1.01-1.74a7.7 7.7 0 0 1-1.54-1.53zM13 7h-2v5.41l4.29 4.29l1.41-1.41l-3.7-3.7V7z"/></svg>',clearIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M15 2h-3.5l-1-1h-5l-1 1H1v2h14zm1 7c-.7 0-1.37.1-2 .29V5H2v12c0 1.1.9 2 2 2h5.68A6.999 6.999 0 0 0 23 16c0-3.87-3.13-7-7-7zm-7 7c0 .34.03.67.08 1H4V7h8v3.26c-1.81 1.27-3 3.36-3 5.74zm7 5c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5z"/><path fill="currentColor" d="M16.5 12H15v5l3.6 2.1l.8-1.2l-2.9-1.7z"/></svg>'},onInput:function(){},onChange:function(){},onFetch:function(){},onAbortFetch:function(){},onSelect:function(){},onClear:function(){},onFocus:function(){},onBlur:function(){},onSubmit:function(){},onDropdownVisibleChange:function(){},showSubmitButton:!0,submitButtonLabel:"Submit",offsetTop:5,autoFlip:!1},K=Object.freeze({__proto__:null,addHistory:be,getHistory:zt,getImageData:yt,handleAvatar:ne,handleQueryData:we,initialOptions:Ee,removeHistory:xe}),_e=function(t,n){var o=!1;document.addEventListener("click",function(s){!t.contains(s.target)&&!o&&n(),o=t.contains(s.target)},!0)},Ct=function(t){return typeof t=="function"},Se=function(t){return typeof t=="string"};function Ce(e,t,n){t===void 0&&(t=0);var o=n===void 0?{}:n,s=o.start,r=s===void 0?!0:s,a=o.middle,c=a===void 0?!0:a,u=o.once,i=u===void 0?!1:u,d=r,f=0,b,_=!1;function C(){for(var A=this,E=[],x=0;x<arguments.length;x++)E[x]=arguments[x];if(!_){var y=Date.now()-f;f=Date.now(),r&&c&&y>=t&&(d=!0),d?(d=!1,e.apply(this,E),i&&C.cancel()):(c&&y<t||!c)&&(clearTimeout(b),b=setTimeout(function(){f=Date.now(),e.apply(A,E),i&&C.cancel()},c?t-y:t))}}return C.cancel=function(){clearTimeout(b),_=!0},C}function Ae(e,t,n){t===void 0&&(t=0);var o=n===void 0?{}:n,s=o.start,r=s===void 0?!1:s,a=o.middle,c=a===void 0?!1:a,u=o.once,i=u===void 0?!1:u;return Ce(e,t,{start:r,middle:c,once:i})}var At=function(t){return t.replace(/(<([^>]+)>)/gi,"")};const et=Math.min,D=Math.max,lt=Math.round,ct=Math.floor,V=e=>({x:e,y:e}),ke={left:"right",right:"left",bottom:"top",top:"bottom"},Le={start:"end",end:"start"};function dt(e,t){return typeof e=="function"?e(t):e}function Q(e){return e.split("-")[0]}function ot(e){return e.split("-")[1]}function Be(e){return e==="x"?"y":"x"}function It(e){return e==="y"?"height":"width"}function ht(e){return["top","bottom"].includes(Q(e))?"y":"x"}function Wt(e){return Be(ht(e))}function Re(e,t,n){n===void 0&&(n=!1);const o=ot(e),s=Wt(e),r=It(s);let a=s==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=ut(a)),[a,ut(a)]}function Te(e){const t=ut(e);return[wt(e),t,wt(t)]}function wt(e){return e.replace(/start|end/g,t=>Le[t])}function He(e,t,n){const o=["left","right"],s=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:o:t?o:s;case"left":case"right":return t?r:a;default:return[]}}function Oe(e,t,n,o){const s=ot(e);let r=He(Q(e),n==="start",o);return s&&(r=r.map(a=>a+"-"+s),t&&(r=r.concat(r.map(wt)))),r}function ut(e){return e.replace(/left|right|bottom|top/g,t=>ke[t])}function De(e){return{top:0,right:0,bottom:0,left:0,...e}}function ze(e){return typeof e!="number"?De(e):{top:e,right:e,bottom:e,left:e}}function ft(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function kt(e,t,n){let{reference:o,floating:s}=e;const r=ht(t),a=Wt(t),c=It(a),u=Q(t),i=r==="y",d=o.x+o.width/2-s.width/2,f=o.y+o.height/2-s.height/2,b=o[c]/2-s[c]/2;let _;switch(u){case"top":_={x:d,y:o.y-s.height};break;case"bottom":_={x:d,y:o.y+o.height};break;case"right":_={x:o.x+o.width,y:f};break;case"left":_={x:o.x-s.width,y:f};break;default:_={x:o.x,y:o.y}}switch(ot(t)){case"start":_[a]-=b*(n&&i?-1:1);break;case"end":_[a]+=b*(n&&i?-1:1);break}return _}const Ie=async(e,t,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:r=[],platform:a}=n,c=r.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let i=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=kt(i,o,u),b=o,_={},C=0;for(let A=0;A<c.length;A++){const{name:E,fn:x}=c[A],{x:y,y:l,data:h,reset:w}=await x({x:d,y:f,initialPlacement:o,placement:b,strategy:s,middlewareData:_,rects:i,platform:a,elements:{reference:e,floating:t}});d=y??d,f=l??f,_={..._,[E]:{..._[E],...h}},w&&C<=50&&(C++,typeof w=="object"&&(w.placement&&(b=w.placement),w.rects&&(i=w.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:d,y:f}=kt(i,b,u)),A=-1)}return{x:d,y:f,placement:b,strategy:s,middlewareData:_}};async function Ft(e,t){var n;t===void 0&&(t={});const{x:o,y:s,platform:r,rects:a,elements:c,strategy:u}=e,{boundary:i="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:b=!1,padding:_=0}=dt(t,e),C=ze(_),E=c[b?f==="floating"?"reference":"floating":f],x=ft(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(E)))==null||n?E:E.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:i,rootBoundary:d,strategy:u})),y=f==="floating"?{...a.floating,x:o,y:s}:a.reference,l=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),h=await(r.isElement==null?void 0:r.isElement(l))?await(r.getScale==null?void 0:r.getScale(l))||{x:1,y:1}:{x:1,y:1},w=ft(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:l,strategy:u}):y);return{top:(x.top-w.top+C.top)/h.y,bottom:(w.bottom-x.bottom+C.bottom)/h.y,left:(x.left-w.left+C.left)/h.x,right:(w.right-x.right+C.right)/h.x}}const We=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:s,middlewareData:r,rects:a,initialPlacement:c,platform:u,elements:i}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:A=!0,...E}=dt(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const x=Q(s),y=Q(c)===c,l=await(u.isRTL==null?void 0:u.isRTL(i.floating)),h=b||(y||!A?[ut(c)]:Te(c));!b&&C!=="none"&&h.push(...Oe(c,A,C,l));const w=[c,...h],S=await Ft(t,E),L=[];let k=((o=r.flip)==null?void 0:o.overflows)||[];if(d&&L.push(S[x]),f){const T=Re(s,a,l);L.push(S[T[0]],S[T[1]])}if(k=[...k,{placement:s,overflows:L}],!L.every(T=>T<=0)){var B,R;const T=(((B=r.flip)==null?void 0:B.index)||0)+1,I=w[T];if(I)return{data:{index:T,overflows:k},reset:{placement:I}};let q=(R=k.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!q)switch(_){case"bestFit":{var O;const W=(O=k.map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,G)=>j+G,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:O[0];W&&(q=W);break}case"initialPlacement":q=c;break}if(s!==q)return{reset:{placement:q}}}return{}}}};async function Fe(e,t){const{placement:n,platform:o,elements:s}=e,r=await(o.isRTL==null?void 0:o.isRTL(s.floating)),a=Q(n),c=ot(n),u=ht(n)==="y",i=["left","top"].includes(a)?-1:1,d=r&&u?-1:1,f=dt(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:C}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&typeof C=="number"&&(_=c==="end"?C*-1:C),u?{x:_*d,y:b*i}:{x:b*i,y:_*d}}const qe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:s,y:r,placement:a,middlewareData:c}=t,u=await Fe(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:s+u.x,y:r+u.y,data:{...u,placement:a}}}}},je=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:o,platform:s,elements:r}=t,{apply:a=()=>{},...c}=dt(e,t),u=await Ft(t,c),i=Q(n),d=ot(n),f=ht(n)==="y",{width:b,height:_}=o.floating;let C,A;i==="top"||i==="bottom"?(C=i,A=d===(await(s.isRTL==null?void 0:s.isRTL(r.floating))?"start":"end")?"left":"right"):(A=i,C=d==="end"?"top":"bottom");const E=_-u[C],x=b-u[A],y=!t.middlewareData.shift;let l=E,h=x;if(f){const S=b-u.left-u.right;h=d||y?et(x,S):S}else{const S=_-u.top-u.bottom;l=d||y?et(E,S):S}if(y&&!d){const S=D(u.left,0),L=D(u.right,0),k=D(u.top,0),B=D(u.bottom,0);f?h=b-2*(S!==0||L!==0?S+L:D(u.left,u.right)):l=_-2*(k!==0||B!==0?k+B:D(u.top,u.bottom))}await a({...t,availableWidth:h,availableHeight:l});const w=await s.getDimensions(r.floating);return b!==w.width||_!==w.height?{reset:{rects:!0}}:{}}}};function U(e){return qt(e)?(e.nodeName||"").toLowerCase():"#document"}function H(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function N(e){var t;return(t=(qt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qt(e){return e instanceof Node||e instanceof H(e).Node}function P(e){return e instanceof Element||e instanceof H(e).Element}function M(e){return e instanceof HTMLElement||e instanceof H(e).HTMLElement}function Lt(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof H(e).ShadowRoot}function it(e){const{overflow:t,overflowX:n,overflowY:o,display:s}=z(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(s)}function Me(e){return["table","td","th"].includes(U(e))}function bt(e){const t=xt(),n=z(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function jt(e){let t=Y(e);for(;M(t)&&!pt(t);){if(bt(t))return t;t=Y(t)}return null}function xt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pt(e){return["html","body","#document"].includes(U(e))}function z(e){return H(e).getComputedStyle(e)}function gt(e){return P(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Y(e){if(U(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lt(e)&&e.host||N(e);return Lt(t)?t.host:t}function Mt(e){const t=Y(e);return pt(t)?e.ownerDocument?e.ownerDocument.body:e.body:M(t)&&it(t)?t:Mt(t)}function nt(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Mt(e),r=s===((o=e.ownerDocument)==null?void 0:o.body),a=H(s);return r?t.concat(a,a.visualViewport||[],it(s)?s:[],a.frameElement&&n?nt(a.frameElement):[]):t.concat(s,nt(s,[],n))}function Pt(e){const t=z(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=M(e),r=s?e.offsetWidth:n,a=s?e.offsetHeight:o,c=lt(n)!==r||lt(o)!==a;return c&&(n=r,o=a),{width:n,height:o,$:c}}function Et(e){return P(e)?e:e.contextElement}function X(e){const t=Et(e);if(!M(t))return V(1);const n=t.getBoundingClientRect(),{width:o,height:s,$:r}=Pt(t);let a=(r?lt(n.width):n.width)/o,c=(r?lt(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const Pe=V(0);function Nt(e){const t=H(e);return!xt()||!t.visualViewport?Pe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ne(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==H(e)?!1:t}function $(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),r=Et(e);let a=V(1);t&&(o?P(o)&&(a=X(o)):a=X(e));const c=Ne(r,n,o)?Nt(r):V(0);let u=(s.left+c.x)/a.x,i=(s.top+c.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(r){const b=H(r),_=o&&P(o)?H(o):o;let C=b.frameElement;for(;C&&o&&_!==b;){const A=X(C),E=C.getBoundingClientRect(),x=z(C),y=E.left+(C.clientLeft+parseFloat(x.paddingLeft))*A.x,l=E.top+(C.clientTop+parseFloat(x.paddingTop))*A.y;u*=A.x,i*=A.y,d*=A.x,f*=A.y,u+=y,i+=l,C=H(C).frameElement}}return ft({width:d,height:f,x:u,y:i})}const Ve=[":popover-open",":modal"];function Vt(e){let t=!1,n=0,o=0;function s(r){try{t=t||e.matches(r)}catch{}}if(Ve.forEach(r=>{s(r)}),t){const r=jt(e);if(r){const a=r.getBoundingClientRect();n=a.x,o=a.y}}return[t,n,o]}function Ue(e){let{elements:t,rect:n,offsetParent:o,strategy:s}=e;const r=N(o),[a]=t?Vt(t.floating):[!1];if(o===r||a)return n;let c={scrollLeft:0,scrollTop:0},u=V(1);const i=V(0),d=M(o);if((d||!d&&s!=="fixed")&&((U(o)!=="body"||it(r))&&(c=gt(o)),M(o))){const f=$(o);u=X(o),i.x=f.x+o.clientLeft,i.y=f.y+o.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+i.x,y:n.y*u.y-c.scrollTop*u.y+i.y}}function Qe(e){return Array.from(e.getClientRects())}function Ut(e){return $(N(e)).left+gt(e).scrollLeft}function $e(e){const t=N(e),n=gt(e),o=e.ownerDocument.body,s=D(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=D(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+Ut(e);const c=-n.scrollTop;return z(o).direction==="rtl"&&(a+=D(t.clientWidth,o.clientWidth)-s),{width:s,height:r,x:a,y:c}}function Ge(e,t){const n=H(e),o=N(e),s=n.visualViewport;let r=o.clientWidth,a=o.clientHeight,c=0,u=0;if(s){r=s.width,a=s.height;const i=xt();(!i||i&&t==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:r,height:a,x:c,y:u}}function Ke(e,t){const n=$(e,!0,t==="fixed"),o=n.top+e.clientTop,s=n.left+e.clientLeft,r=M(e)?X(e):V(1),a=e.clientWidth*r.x,c=e.clientHeight*r.y,u=s*r.x,i=o*r.y;return{width:a,height:c,x:u,y:i}}function Bt(e,t,n){let o;if(t==="viewport")o=Ge(e,n);else if(t==="document")o=$e(N(e));else if(P(t))o=Ke(t,n);else{const s=Nt(e);o={...t,x:t.x-s.x,y:t.y-s.y}}return ft(o)}function Qt(e,t){const n=Y(e);return n===t||!P(n)||pt(n)?!1:z(n).position==="fixed"||Qt(n,t)}function Xe(e,t){const n=t.get(e);if(n)return n;let o=nt(e,[],!1).filter(c=>P(c)&&U(c)!=="body"),s=null;const r=z(e).position==="fixed";let a=r?Y(e):e;for(;P(a)&&!pt(a);){const c=z(a),u=bt(a);!u&&c.position==="fixed"&&(s=null),(r?!u&&!s:!u&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||it(a)&&!u&&Qt(e,a))?o=o.filter(d=>d!==a):s=c,a=Y(a)}return t.set(e,o),o}function Ye(e){let{element:t,boundary:n,rootBoundary:o,strategy:s}=e;const a=[...n==="clippingAncestors"?Xe(t,this._c):[].concat(n),o],c=a[0],u=a.reduce((i,d)=>{const f=Bt(t,d,s);return i.top=D(f.top,i.top),i.right=et(f.right,i.right),i.bottom=et(f.bottom,i.bottom),i.left=D(f.left,i.left),i},Bt(t,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Je(e){const{width:t,height:n}=Pt(e);return{width:t,height:n}}function Ze(e,t,n,o){const s=M(t),r=N(t),a=n==="fixed",c=$(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const i=V(0);if(s||!s&&!a)if((U(t)!=="body"||it(r))&&(u=gt(t)),s){const A=$(t,!0,a,t);i.x=A.x+t.clientLeft,i.y=A.y+t.clientTop}else r&&(i.x=Ut(r));let d=c.left+u.scrollLeft-i.x,f=c.top+u.scrollTop-i.y;const[b,_,C]=Vt(o);return b&&(d+=_,f+=C,s&&(d+=t.clientLeft,f+=t.clientTop)),{x:d,y:f,width:c.width,height:c.height}}function Rt(e,t){return!M(e)||z(e).position==="fixed"?null:t?t(e):e.offsetParent}function $t(e,t){const n=H(e);if(!M(e))return n;let o=Rt(e,t);for(;o&&Me(o)&&z(o).position==="static";)o=Rt(o,t);return o&&(U(o)==="html"||U(o)==="body"&&z(o).position==="static"&&!bt(o))?n:o||jt(e)||n}const tn=async function(e){const t=this.getOffsetParent||$t,n=this.getDimensions;return{reference:Ze(e.reference,await t(e.floating),e.strategy,e.floating),floating:{x:0,y:0,...await n(e.floating)}}};function en(e){return z(e).direction==="rtl"}const nn={convertOffsetParentRelativeRectToViewportRelativeRect:Ue,getDocumentElement:N,getClippingRect:Ye,getOffsetParent:$t,getElementRects:tn,getClientRects:Qe,getDimensions:Je,getScale:X,isElement:P,isRTL:en};function on(e,t){let n=null,o;const s=N(e);function r(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),r();const{left:i,top:d,width:f,height:b}=e.getBoundingClientRect();if(c||t(),!f||!b)return;const _=ct(d),C=ct(s.clientWidth-(i+f)),A=ct(s.clientHeight-(d+b)),E=ct(i),y={rootMargin:-_+"px "+-C+"px "+-A+"px "+-E+"px",threshold:D(0,et(1,u))||1};let l=!0;function h(w){const S=w[0].intersectionRatio;if(S!==u){if(!l)return a();S?a(!1,S):o=setTimeout(()=>{a(!1,1e-7)},100)}l=!1}try{n=new IntersectionObserver(h,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(h,y)}n.observe(e)}return a(!0),r}function rn(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,i=Et(e),d=s||r?[...i?nt(i):[],...nt(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),r&&x.addEventListener("resize",n)});const f=i&&c?on(i,n):null;let b=-1,_=null;a&&(_=new ResizeObserver(x=>{let[y]=x;y&&y.target===i&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var l;(l=_)==null||l.observe(t)})),n()}),i&&!u&&_.observe(i),_.observe(t));let C,A=u?$(e):null;u&&E();function E(){const x=$(e);A&&(x.x!==A.x||x.y!==A.y||x.width!==A.width||x.height!==A.height)&&n(),A=x,C=requestAnimationFrame(E)}return n(),()=>{var x;d.forEach(y=>{s&&y.removeEventListener("scroll",n),r&&y.removeEventListener("resize",n)}),f==null||f(),(x=_)==null||x.disconnect(),_=null,u&&cancelAnimationFrame(C)}}const sn=We,an=je,cn=(e,t,n)=>{const o=new Map,s={platform:nn,...n},r={...s.platform,_c:o};return Ie(e,t,{...s,platform:r})};var Tt=function(e,t,n){e.forEach(function(o){o.classList.remove(n)}),e[t].classList.add(n)},ln=function(){function e(t){t===void 0&&(t={}),this.suggestions=[],this.suggestionElement=document.createElement("div"),this.suggestionActivatedClassName="suggestion-popper--activated",this.inputWrapElement=document.createElement("div"),this.inputWrapHaveWordsClassName="company-autocomplete--words",this.inputWrapActivatedClassName="company-autocomplete--activated",this.latestKeyword="",this.options=Object.assign({},K.initialOptions,t),Se(this.options.target)?this.target=document.querySelector(this.options.target):this.target=this.options.target,this.render()}return e.prototype.render=function(){var t=this,n,o,s,r,a,c;if(this.target){var u=['<div class="company-autocomplete '.concat(this.options.showSubmitButton?"company-autocomplete--show-submit":"",'">'),'<div class="company-autocomplete__input">','<input type="text" placeholder="'.concat(this.options.placeholder,'" />'),this.options.clearable?'<div class="company-autocomplete__clear"><i class="company-autocomplete__clear-icon">'.concat(this.options.clearIcon,"</i></div>"):"","</div>",this.options.showSubmitButton?'<div class="company-autocomplete__submit">':"",this.options.showSubmitButton?'<button type="button">'.concat(this.options.submitButtonLabel,"</button>"):"",this.options.showSubmitButton?"</div>":"","</div>"];this.target.innerHTML=u.join(""),this.suggestionElement.classList.add("suggestion-popper"),this.clearSuggestion(),this.options.popupAppendToBody?document.body.appendChild(this.suggestionElement):this.target.appendChild(this.suggestionElement),this.inputWrapElement=this.target.querySelector(".company-autocomplete"),this.inputElement=this.inputWrapElement.querySelector("input");var i=this.inputWrapElement.querySelector("button");rn(this.inputWrapElement,this.suggestionElement,function(){cn(t.inputWrapElement,t.suggestionElement,{middleware:Gt([qe(t.options.offsetTop),an({apply:function(d){var f=d.rects;Object.assign(t.suggestionElement.style,{width:"".concat(f.reference.width,"px")})}})],t.options.autoFlip?[sn({fallbackPlacements:["top"]})]:[],!0)}).then(function(d){var f=d.x,b=d.y;Object.assign(t.suggestionElement.style,{left:"".concat(f,"px"),top:"".concat(b,"px")})})}),(n=this.inputElement)===null||n===void 0||n.addEventListener("input",function(){var d,f;t.keyboardActiveIndex=void 0,t.selectCompany=void 0;var b=((d=t.inputElement)===null||d===void 0?void 0:d.value)||"";t.inputWrapElement.classList[b.length>0?"add":"remove"](t.inputWrapHaveWordsClassName),b.length===0&&(t.clearSuggestion(),t.hideSuggestion()),(f=t.options)===null||f===void 0||f.onInput(b)}),(o=this.inputElement)===null||o===void 0||o.addEventListener("input",Ae(function(){var d,f=((d=t.inputElement)===null||d===void 0?void 0:d.value)||"";f&&t.handleQuerySuggestion(f)},this.options.queryDelay)),(s=this.inputElement)===null||s===void 0||s.addEventListener("change",function(d){var f,b=d.target.value;(f=t.options)===null||f===void 0||f.onChange(b)}),(r=this.inputElement)===null||r===void 0||r.addEventListener("click",function(d){var f=d.target.value;f?t.handleQuerySuggestion(f):t.options.history.enabled&&(t.latestKeyword="",t.handleSuggestionDom(K.getHistory(t.options.history),"history"))}),i==null||i.addEventListener("click",function(){var d;t.handleSubmit(((d=t.inputElement)===null||d===void 0?void 0:d.value)||"")}),_e(this.suggestionElement,function(){t.hideSuggestion()}),this.suggestionElement.addEventListener("click",function(d){if(d.target.closest(".suggestion")){var f=d.target.closest(".suggestion"),b=(f==null?void 0:f.dataset.name)||"";t.inputElement.value=b,t.suggestions=[],t.selectCompany={id:(f==null?void 0:f.dataset.id)||"",name:b},t.handleSelect(),t.hideSuggestion(),t.inputWrapElement.classList.add(t.inputWrapHaveWordsClassName)}d.target.id==="remove-history-link"&&(K.removeHistory(t.options.history),t.clearSuggestion(),t.hideSuggestion())}),this.inputClearElement=this.inputWrapElement.querySelector(".company-autocomplete__clear-icon"),this.inputClearElement&&((a=this.inputClearElement)===null||a===void 0||a.addEventListener("click",function(){t.handleClear()})),this.options.autoFocus&&((c=this.inputElement)===null||c===void 0||c.focus()),this.inputElement.addEventListener("focus",function(){Ct(t.options.onFocus)&&t.options.onFocus()}),this.inputElement.addEventListener("blur",function(){t.handleCancelQuerySuggestion(),Ct(t.options.onBlur)&&t.options.onBlur()})}},e.prototype.handleCancelQuerySuggestion=function(){this.abortController&&(this.abortController.abort("repeated request"),this.abortController=void 0)},e.prototype.handleQuerySuggestion=function(t){var n=this;if(this.handleCancelQuerySuggestion(),t===this.latestKeyword){this.handleSuggestionDom(this.suggestions);return}this.abortController=new AbortController,K.handleQueryData(t.trim(),this.options.api,this.abortController).then(function(o){var s=o.data;n.latestKeyword=t.trim(),n.handleSuggestionDom(s),n.options.onFetch()}).catch(function(o){o.name==="AbortError"&&n.options.onAbortFetch(o)})},e.prototype.handleSuggestionDom=function(t,n){var o=this,s,r;if(n===void 0&&(n="fetch"),this.suggestions=t,t.length===0){this.clearSuggestion(),this.hideSuggestion();return}var a=['<div class="suggestion-popper__body">'];t.forEach(function(c){var u,i=At(c.name);a.push('<div class="suggestion" data-id="'.concat(c.id,'" data-name="').concat(i,'">')),c.avatar?a.push('<div class="suggestion__avatar"><img data-id="'.concat(c.id||"",'" alt="').concat(i,'" src="').concat(c.avatar||"",'"/></div>')):n==="history"&&a.push('<div class="suggestion__avatar"><i class="suggestion__avatar-icon">'.concat((u=o.options.history)===null||u===void 0?void 0:u.itemIcon,"</i></div>")),a.push('<div class="suggestion__label">'.concat(c.name,"</div>")),a.push('<div class="suggestion__extra"></div>'),a.push("</div>")}),a.push("</div>"),a.push('<div class="suggestion-popper__footer">'),n==="history"&&(!((s=this.options.history)===null||s===void 0)&&s.showClear)&&t.length>0&&a.push('<a id="remove-history-link" href="javascript:;"><i class="suggestion-popper__icon">'.concat(((r=this.options.history)===null||r===void 0?void 0:r.clearIcon)||"","</i>删除历史</a>")),a.push("</div>"),this.suggestionElement.innerHTML=a.join(""),this.suggestionElement.querySelectorAll("img").forEach(function(c){c.getAttribute("src")||K.handleAvatar(c,o.options)}),this.showSuggestion()},e.prototype.handleSelect=function(){this.options.history.enabled&&this.selectCompany&&K.addHistory(this.selectCompany,this.options.history),this.options.onSelect(this.selectCompany)},e.prototype.handleSubmit=function(t){this.options.onSubmit({company:this.selectCompany,text:t})},e.prototype.showSuggestion=function(){this.inputWrapElement.classList.add(this.inputWrapActivatedClassName),this.suggestionElement.classList.add(this.suggestionActivatedClassName),this.keyDownHandler&&this.inputWrapElement.removeEventListener("keydown",this.keyDownHandler),this.keyDownHandler=this.handleKeyDown.bind(this),this.inputWrapElement.addEventListener("keydown",this.keyDownHandler),this.options.onDropdownVisibleChange(!0)},e.prototype.hideSuggestion=function(){this.inputWrapElement.classList.remove(this.inputWrapActivatedClassName),this.suggestionElement.classList.remove(this.suggestionActivatedClassName),this.inputWrapElement.removeEventListener("keydown",this.keyDownHandler),this.options.onDropdownVisibleChange(!1)},e.prototype.clearSuggestion=function(){this.suggestionElement.textContent="",this.suggestions=[]},e.prototype.handleKeyDown=function(t){var n;switch(t.key){case"Enter":this.handleSubmit((n=t.target)===null||n===void 0?void 0:n.value);break;case"ArrowUp":this.keyboardActiveIndex?this.keyboardActiveIndex--:this.keyboardActiveIndex=this.suggestions.length-1,this.selectCompany=this.suggestions[this.keyboardActiveIndex],Tt(Array.from(this.suggestionElement.querySelectorAll(".suggestion")),this.keyboardActiveIndex,"suggestion--keyboard-active"),this.handleBackFill();break;case"ArrowDown":this.keyboardActiveIndex===void 0||this.keyboardActiveIndex>=this.suggestions.length-1?this.keyboardActiveIndex=0:this.keyboardActiveIndex++,this.selectCompany=this.suggestions[this.keyboardActiveIndex],Tt(Array.from(this.suggestionElement.querySelectorAll(".suggestion")),this.keyboardActiveIndex,"suggestion--keyboard-active"),this.handleBackFill();break;case"Escape":this.handleClear();break}},e.prototype.handleBackFill=function(){var t;this.options.backFill&&(this.inputElement.value=At(((t=this.selectCompany)===null||t===void 0?void 0:t.name)||""))},e.prototype.handleClear=function(){this.selectCompany=void 0,this.inputElement.value="",this.clearSuggestion(),this.inputWrapElement.classList.remove(this.inputWrapHaveWordsClassName),this.options.onClear()},e}();export{ln as A};
