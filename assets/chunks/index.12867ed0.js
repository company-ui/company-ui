import{d as ae,o as j,c as q,r as le,n as ft,aV as ce,ay as It,k as L,L as ue,e as bt,t as Ot,b as fe,F as de,D as he,a as ge,az as pe,N as ve,aw as me}from"./framework.75f8173f.js";var ye=!0;const Wt={},be=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"}));var wt={exports:{}},St=function(){return St=Object.assign||function(e){for(var n,o=1,s=arguments.length;o<s;o++){n=arguments[o];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},St.apply(this,arguments)};function it(t,e,n,o){function s(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function l(S){try{i(o.next(S))}catch(y){a(y)}}function u(S){try{i(o.throw(S))}catch(y){a(y)}}function i(S){S.done?r(S.value):s(S.value).then(l,u)}i((o=o.apply(t,e||[])).next())})}function rt(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},o,s,r,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(i){return function(S){return u([i,S])}}function u(i){if(o)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(n=0)),n;)try{if(o=1,s&&(r=i[0]&2?s.return:i[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,i[1])).done)return r;switch(s=0,r&&(i=[i[0]&2,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return n.label++,{value:i[1],done:!1};case 5:n.label++,s=i[1],i=[0];continue;case 7:i=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!r||i[1]>r[0]&&i[1]<r[3])){n.label=i[1];break}if(i[0]===6&&n.label<r[1]){n.label=r[1],r=i;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(i);break}r[2]&&n.ops.pop(),n.trys.pop();continue}i=e.call(t,n)}catch(S){i=[6,S],s=0}finally{o=r=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}var we=function(e){return e===void 0},xe=function(e,n,o){return e.replace(new RegExp(n,"g"),o)},Se=function(e){return e.replace(/(<([^>]+)>)/gi,"")},Ce=function(e){try{var n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}},ke=function(e,n){return n===void 0&&(n=""),n+Object.keys(e).map(function(o){return"".concat(o,"=").concat(e[o])}).join("&")},_e=function(e,n){for(var o=[],s=0;s<e.length;s+=n)o.push(e.slice(s,s+n));return o},Ae=["https://image.qcc.com/logo/{id}.jpg","https://image.qcc.com/auto/{id}.jpg"],Be=function(t,e){return it(void 0,void 0,void 0,function(){var n,o,s,r;return rt(this,function(a){switch(a.label){case 0:return n=t.dataset.id||"",e.avatarUrl?(o=t,[4,Ct(n,[e.avatarUrl])]):[3,2];case 1:return o.src=a.sent(),[2];case 2:switch(s=e.api,s){case"qcc_open":return[3,3]}return[3,5];case 3:return r=t,[4,Ct(n,Ae)];case 4:return r.src=a.sent(),[3,5];case 5:return[2]}})})},Ct=function(t,e){return it(void 0,void 0,void 0,function(){var n,o,s,r,a,l,u;return rt(this,function(i){switch(i.label){case 0:n=0,o=e,i.label=1;case 1:if(!(n<o.length))return[3,8];s=o[n],i.label=2;case 2:return i.trys.push([2,6,,7]),r=xe(s,"{id}",t),[4,fetch(r)];case 3:return a=i.sent(),a.status!==200?[3,5]:[4,a.blob()];case 4:return l=i.sent(),[2,URL.createObjectURL(l)];case 5:return[3,7];case 6:return u=i.sent(),console.error(u),[3,7];case 7:return n++,[3,1];case 8:return[2,""]}})})},nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Te(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ut={exports:{}};function Ie(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xt={exports:{}},Rt;function Oe(){return Rt||(Rt=1,function(t,e){(function(n,o){t.exports=o()})(nt,function(){var n=n||function(o,s){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof nt<"u"&&nt.crypto&&(r=nt.crypto),!r&&typeof Ie=="function")try{r=Wt||be}catch{}var a=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function c(){}return function(f){var v;return c.prototype=f,v=new c,c.prototype=null,v}}(),u={},i=u.lib={},S=i.Base=function(){return{extend:function(c){var f=l(this);return c&&f.mixIn(c),(!f.hasOwnProperty("init")||this.init===f.init)&&(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var f in c)c.hasOwnProperty(f)&&(this[f]=c[f]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=i.WordArray=S.extend({init:function(c,f){c=this.words=c||[],f!=s?this.sigBytes=f:this.sigBytes=c.length*4},toString:function(c){return(c||b).stringify(this)},concat:function(c){var f=this.words,v=c.words,w=this.sigBytes,_=c.sigBytes;if(this.clamp(),w%4)for(var B=0;B<_;B++){var T=v[B>>>2]>>>24-B%4*8&255;f[w+B>>>2]|=T<<24-(w+B)%4*8}else for(var I=0;I<_;I+=4)f[w+I>>>2]=v[I>>>2];return this.sigBytes+=_,this},clamp:function(){var c=this.words,f=this.sigBytes;c[f>>>2]&=4294967295<<32-f%4*8,c.length=o.ceil(f/4)},clone:function(){var c=S.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var f=[],v=0;v<c;v+=4)f.push(a());return new y.init(f,c)}}),k=u.enc={},b=k.Hex={stringify:function(c){for(var f=c.words,v=c.sigBytes,w=[],_=0;_<v;_++){var B=f[_>>>2]>>>24-_%4*8&255;w.push((B>>>4).toString(16)),w.push((B&15).toString(16))}return w.join("")},parse:function(c){for(var f=c.length,v=[],w=0;w<f;w+=2)v[w>>>3]|=parseInt(c.substr(w,2),16)<<24-w%8*4;return new y.init(v,f/2)}},C=k.Latin1={stringify:function(c){for(var f=c.words,v=c.sigBytes,w=[],_=0;_<v;_++){var B=f[_>>>2]>>>24-_%4*8&255;w.push(String.fromCharCode(B))}return w.join("")},parse:function(c){for(var f=c.length,v=[],w=0;w<f;w++)v[w>>>2]|=(c.charCodeAt(w)&255)<<24-w%4*8;return new y.init(v,f)}},m=k.Utf8={stringify:function(c){try{return decodeURIComponent(escape(C.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return C.parse(unescape(encodeURIComponent(c)))}},x=i.BufferedBlockAlgorithm=S.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=m.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var f,v=this._data,w=v.words,_=v.sigBytes,B=this.blockSize,T=B*4,I=_/T;c?I=o.ceil(I):I=o.max((I|0)-this._minBufferSize,0);var E=I*B,H=o.min(E*4,_);if(E){for(var O=0;O<E;O+=B)this._doProcessBlock(w,O);f=w.splice(0,E),v.sigBytes-=H}return new y.init(f,H)},clone:function(){var c=S.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0});i.Hasher=x.extend({cfg:S.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var f=this._doFinalize();return f},blockSize:16,_createHelper:function(c){return function(f,v){return new c.init(v).finalize(f)}},_createHmacHelper:function(c){return function(f,v){return new A.HMAC.init(c,v).finalize(f)}}});var A=u.algo={};return u}(Math);return n})}(xt)),xt.exports}(function(t,e){(function(n,o){t.exports=o(Oe())})(nt,function(n){return function(o){var s=n,r=s.lib,a=r.WordArray,l=r.Hasher,u=s.algo,i=[];(function(){for(var m=0;m<64;m++)i[m]=o.abs(o.sin(m+1))*4294967296|0})();var S=u.MD5=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,x){for(var A=0;A<16;A++){var c=x+A,f=m[c];m[c]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}var v=this._hash.words,w=m[x+0],_=m[x+1],B=m[x+2],T=m[x+3],I=m[x+4],E=m[x+5],H=m[x+6],O=m[x+7],K=m[x+8],z=m[x+9],M=m[x+10],F=m[x+11],D=m[x+12],X=m[x+13],lt=m[x+14],ct=m[x+15],d=v[0],h=v[1],g=v[2],p=v[3];d=y(d,h,g,p,w,7,i[0]),p=y(p,d,h,g,_,12,i[1]),g=y(g,p,d,h,B,17,i[2]),h=y(h,g,p,d,T,22,i[3]),d=y(d,h,g,p,I,7,i[4]),p=y(p,d,h,g,E,12,i[5]),g=y(g,p,d,h,H,17,i[6]),h=y(h,g,p,d,O,22,i[7]),d=y(d,h,g,p,K,7,i[8]),p=y(p,d,h,g,z,12,i[9]),g=y(g,p,d,h,M,17,i[10]),h=y(h,g,p,d,F,22,i[11]),d=y(d,h,g,p,D,7,i[12]),p=y(p,d,h,g,X,12,i[13]),g=y(g,p,d,h,lt,17,i[14]),h=y(h,g,p,d,ct,22,i[15]),d=k(d,h,g,p,_,5,i[16]),p=k(p,d,h,g,H,9,i[17]),g=k(g,p,d,h,F,14,i[18]),h=k(h,g,p,d,w,20,i[19]),d=k(d,h,g,p,E,5,i[20]),p=k(p,d,h,g,M,9,i[21]),g=k(g,p,d,h,ct,14,i[22]),h=k(h,g,p,d,I,20,i[23]),d=k(d,h,g,p,z,5,i[24]),p=k(p,d,h,g,lt,9,i[25]),g=k(g,p,d,h,T,14,i[26]),h=k(h,g,p,d,K,20,i[27]),d=k(d,h,g,p,X,5,i[28]),p=k(p,d,h,g,B,9,i[29]),g=k(g,p,d,h,O,14,i[30]),h=k(h,g,p,d,D,20,i[31]),d=b(d,h,g,p,E,4,i[32]),p=b(p,d,h,g,K,11,i[33]),g=b(g,p,d,h,F,16,i[34]),h=b(h,g,p,d,lt,23,i[35]),d=b(d,h,g,p,_,4,i[36]),p=b(p,d,h,g,I,11,i[37]),g=b(g,p,d,h,O,16,i[38]),h=b(h,g,p,d,M,23,i[39]),d=b(d,h,g,p,X,4,i[40]),p=b(p,d,h,g,w,11,i[41]),g=b(g,p,d,h,T,16,i[42]),h=b(h,g,p,d,H,23,i[43]),d=b(d,h,g,p,z,4,i[44]),p=b(p,d,h,g,D,11,i[45]),g=b(g,p,d,h,ct,16,i[46]),h=b(h,g,p,d,B,23,i[47]),d=C(d,h,g,p,w,6,i[48]),p=C(p,d,h,g,O,10,i[49]),g=C(g,p,d,h,lt,15,i[50]),h=C(h,g,p,d,E,21,i[51]),d=C(d,h,g,p,D,6,i[52]),p=C(p,d,h,g,T,10,i[53]),g=C(g,p,d,h,M,15,i[54]),h=C(h,g,p,d,_,21,i[55]),d=C(d,h,g,p,K,6,i[56]),p=C(p,d,h,g,ct,10,i[57]),g=C(g,p,d,h,H,15,i[58]),h=C(h,g,p,d,X,21,i[59]),d=C(d,h,g,p,I,6,i[60]),p=C(p,d,h,g,F,10,i[61]),g=C(g,p,d,h,B,15,i[62]),h=C(h,g,p,d,z,21,i[63]),v[0]=v[0]+d|0,v[1]=v[1]+h|0,v[2]=v[2]+g|0,v[3]=v[3]+p|0},_doFinalize:function(){var m=this._data,x=m.words,A=this._nDataBytes*8,c=m.sigBytes*8;x[c>>>5]|=128<<24-c%32;var f=o.floor(A/4294967296),v=A;x[(c+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,x[(c+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,m.sigBytes=(x.length+1)*4,this._process();for(var w=this._hash,_=w.words,B=0;B<4;B++){var T=_[B];_[B]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return w},clone:function(){var m=l.clone.call(this);return m._hash=this._hash.clone(),m}});function y(m,x,A,c,f,v,w){var _=m+(x&A|~x&c)+f+w;return(_<<v|_>>>32-v)+x}function k(m,x,A,c,f,v,w){var _=m+(x&c|A&~c)+f+w;return(_<<v|_>>>32-v)+x}function b(m,x,A,c,f,v,w){var _=m+(x^A^c)+f+w;return(_<<v|_>>>32-v)+x}function C(m,x,A,c,f,v,w){var _=m+(A^(x|~c))+f+w;return(_<<v|_>>>32-v)+x}s.MD5=l._createHelper(S),s.HmacMD5=l._createHmacHelper(S)}(Math),n.MD5})})(Ut);var Re=Ut.exports,Ee=Te(Re),Kt=["9y16cxzg","sr2z1z63","hk2ssit3","acsevi4u","nu38i9ej","6m70kgre","hl8rvmhu","30uzkxp0","v9jggair","4ryav515","pgx6isvq","6b3zumy7","bxureygp","jff4xbhb","7j56lyfw","2tctuvza","8jfrswdr","r2as467y","jzye6ls1","bpi7fhat","ywp0p3qn","rzybga6p","84u199q5","kktjaqis","amn5oud8","a0zs4b52","x16y3u37","xku2lp9m","n8eawc7q","gw68xkfw","4wxtunev","ew2x6rzg","go9f3t54","7d0fkx5i","ai6ol58k","47jsslmm","70mxfzcz","b90wzl0c","ua78bvmr","7p60hdt4","ge5lw4u8","ref3rey2","wgay7vhx","b8l2u4mj","rk80y5ot","o37o4wq3","0moweoh0","r10m9bpy","wjilkjhj","il27pnod"],Le=_e(Kt,5),Ve="v2.0",Qt=31,Me=function(){return Ve},Et=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:t},function(){return e.charAt(Math.floor(Math.random()*e.length))}).join("")},Fe=function(t){var e=ze(t)%Kt.length,n=Math.floor(e/5);return Le[n][e%5]},He=function(t){return Ee(t).toString()},ze=function(t){var e=Qt+(t===null?0:De(t))|0;return Math.abs(e)},De=function(t){for(var e=1,n=0;n<t.length;n++)e=Qt*e+t.charCodeAt(n)|0;return e},$e=function(t){var e={f:Et(5),g:Et(3),r:"/company/getCompanyName",searchKey:t,t:Math.floor(Date.now()/1e3),v:Me()},n=ke(e),o=Fe(e.r.toUpperCase()+n),s=He("GET".concat(n).concat(o));return"https://c.qcc.com/embed/api".concat(e.r,"?").concat(n,"&m=").concat(s)},je=function(t,e){return it(void 0,void 0,void 0,function(){var n,o,s,r;return rt(this,function(a){switch(a.label){case 0:if(t.length<2||t.length>100)throw new Error(" keyword length must be between 2 and 100");return n=$e(t),[4,fetch(n,St({method:"GET",mode:"cors",headers:{Referer:"https://c.qcc.com/"}},we(e)?null:{signal:e==null?void 0:e.signal}))];case 1:return o=a.sent(),[4,o.json()];case 2:return s=a.sent(),r=[],s.status!=="200"?[2,r]:[2,s.result.map(function(l){var u=l.keyNo||Se(l.companyName);return{name:l.companyName,id:u}})]}})})},Ne=function(t,e){return it(void 0,void 0,void 0,function(){var n,o,s;return rt(this,function(r){switch(r.label){case 0:if(t.length<2||t.length>=100)throw new Error("keyword length must be between 2 and 100");return n="https://autocomplete.clearbit.com/v1/companies/suggest?query=".concat(t),[4,fetch(n,{method:"GET",mode:"cors",signal:e==null?void 0:e.signal})];case 1:return o=r.sent(),[4,o.json()];case 2:return s=r.sent(),[2,s.map(function(a){return{name:a.name,id:a.domain,avatar:a.logo}})]}})})},Pe=function(t,e,n){return it(void 0,void 0,void 0,function(){var o,s;return rt(this,function(r){switch(r.label){case 0:switch(s=e,s){case"qcc_open":return[3,1];case"clearbit":return[3,3]}return[3,5];case 1:return[4,je(t,n)];case 2:return o=r.sent(),[3,6];case 3:return[4,Ne(t,n)];case 4:return o=r.sent(),[3,6];case 5:return o=[],[3,6];case 6:return[2,{data:o}]}})})},qe=function(t,e){if(!(!e.enabled||!e.key)){var n=e.type==="localStorage"?localStorage:sessionStorage,o=Gt(e),s=o.findIndex(function(r){return r.id===t.id});s>-1&&o.splice(s,1),o.splice(0,0,t),n.setItem(e.key,JSON.stringify(o.length>5?o.slice(0,5):o))}},Gt=function(t){if(!t.enabled||!t.key)return[];var e=t.type==="localStorage"?localStorage:sessionStorage,n=e.getItem(t.key)||"";return Ce(n)},We=function(t){var e=t.type==="localStorage"?localStorage:sessionStorage;e.removeItem(t.key)},Ue={target:"body",api:"clearbit",queryDelay:500,placeholder:"请输入企业名称或统一社会信用代码",clearable:!0,backFill:!1,popupAppendToBody:!0,clearIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17L12 13.41L8.41 17L7 15.59L10.59 12L7 8.41L8.41 7L12 10.59L15.59 7L17 8.41L13.41 12L17 15.59z"/></svg>',autoFocus:!0,history:{enabled:!0,type:"localStorage",key:"company-history",showClear:!0,itemIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m15.1 19.37l1 1.74c-.96.44-2.01.73-3.1.84v-2.02c.74-.09 1.44-.28 2.1-.56zM4.07 13H2.05c.11 1.1.4 2.14.84 3.1l1.74-1c-.28-.66-.47-1.36-.56-2.1zM15.1 4.63l1-1.74c-.96-.44-2-.73-3.1-.84v2.02c.74.09 1.44.28 2.1.56zM19.93 11h2.02c-.11-1.1-.4-2.14-.84-3.1l-1.74 1c.28.66.47 1.36.56 2.1zM8.9 19.37l-1 1.74c.96.44 2.01.73 3.1.84v-2.02c-.74-.09-1.44-.28-2.1-.56zM11 4.07V2.05c-1.1.11-2.14.4-3.1.84l1 1.74c.66-.28 1.36-.47 2.1-.56zm7.36 3.1l1.74-1.01c-.63-.87-1.4-1.64-2.27-2.27l-1.01 1.74c.59.45 1.1.96 1.54 1.54zM4.63 8.9l-1.74-1c-.44.96-.73 2-.84 3.1h2.02c.09-.74.28-1.44.56-2.1zm15.3 4.1c-.09.74-.28 1.44-.56 2.1l1.74 1c.44-.96.73-2.01.84-3.1h-2.02zm-3.1 5.36l1.01 1.74c.87-.63 1.64-1.4 2.27-2.27l-1.74-1.01c-.45.59-.96 1.1-1.54 1.54zM7.17 5.64l-1-1.75c-.88.64-1.64 1.4-2.27 2.28l1.74 1.01a7.7 7.7 0 0 1 1.53-1.54zM5.64 16.83l-1.74 1c.63.87 1.4 1.64 2.27 2.27l1.01-1.74a7.7 7.7 0 0 1-1.54-1.53zM13 7h-2v5.41l4.29 4.29l1.41-1.41l-3.7-3.7V7z"/></svg>',clearIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M15 2h-3.5l-1-1h-5l-1 1H1v2h14zm1 7c-.7 0-1.37.1-2 .29V5H2v12c0 1.1.9 2 2 2h5.68A6.999 6.999 0 0 0 23 16c0-3.87-3.13-7-7-7zm-7 7c0 .34.03.67.08 1H4V7h8v3.26c-1.81 1.27-3 3.36-3 5.74zm7 5c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5z"/><path fill="currentColor" d="M16.5 12H15v5l3.6 2.1l.8-1.2l-2.9-1.7z"/></svg>'},onFetch:function(){},onSelect:function(){},onClear:function(){},onFocus:function(){},onBlur:function(){},onDropdownVisibleChange:function(){},onAbortFetch:function(){},showSubmitButton:!0,submitButtonLabel:"Submit",offsetTop:5,autoFlip:!1,submitCallback:function(){}},Q=Object.freeze({__proto__:null,addHistory:qe,getHistory:Gt,getImageData:Ct,handleAvatar:Be,handleQueryData:Pe,initialOptions:Ue,removeHistory:We});(wt.exports==null?{}:wt.exports).default||wt.exports;var Lt=function(t){return t===void 0},Ke=function(t){return t==null||t===void 0};function Qe(t,e,n){e===void 0&&(e=0);var o=n===void 0?{}:n,s=o.start,r=s===void 0?!0:s,a=o.middle,l=a===void 0?!0:a,u=o.once,i=u===void 0?!1:u,S=r,y=0,k,b=!1;function C(){for(var m=this,x=[],A=0;A<arguments.length;A++)x[A]=arguments[A];if(!b){var c=Date.now()-y;y=Date.now(),r&&l&&c>=e&&(S=!0),S?(S=!1,t.apply(this,x),i&&C.cancel()):(l&&c<e||!l)&&(clearTimeout(k),k=setTimeout(function(){y=Date.now(),t.apply(m,x),i&&C.cancel()},l?e-c:e))}}return C.cancel=function(){clearTimeout(k),b=!0},C}function Ge(t,e,n){e===void 0&&(e=0);var o=n===void 0?{}:n,s=o.start,r=s===void 0?!1:s,a=o.middle,l=a===void 0?!1:a,u=o.once,i=u===void 0?!1:u;return Qe(t,e,{start:r,middle:l,once:i})}var Vt=function(t){return t.replace(/(<([^>]+)>)/gi,"")};const Mt=Math.min,Y=Math.max,Je={left:"right",right:"left",bottom:"top",top:"bottom"},Xe={start:"end",end:"start"};function pt(t,e){return typeof t=="function"?t(e):t}function G(t){return t.split("-")[0]}function st(t){return t.split("-")[1]}function Ye(t){return t==="x"?"y":"x"}function Jt(t){return t==="y"?"height":"width"}function vt(t){return["top","bottom"].includes(G(t))?"y":"x"}function Xt(t){return Ye(vt(t))}function Ze(t,e,n){n===void 0&&(n=!1);const o=st(t),s=Xt(t),r=Jt(s);let a=s==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=dt(a)),[a,dt(a)]}function tn(t){const e=dt(t);return[kt(t),e,kt(e)]}function kt(t){return t.replace(/start|end/g,e=>Xe[e])}function en(t,e,n){const o=["left","right"],s=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:o:e?o:s;case"left":case"right":return e?r:a;default:return[]}}function nn(t,e,n,o){const s=st(t);let r=en(G(t),n==="start",o);return s&&(r=r.map(a=>a+"-"+s),e&&(r=r.concat(r.map(kt)))),r}function dt(t){return t.replace(/left|right|bottom|top/g,e=>Je[e])}function on(t){return{top:0,right:0,bottom:0,left:0,...t}}function rn(t){return typeof t!="number"?on(t):{top:t,right:t,bottom:t,left:t}}function ht(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Ft(t,e,n){let{reference:o,floating:s}=t;const r=vt(e),a=Xt(e),l=Jt(a),u=G(e),i=r==="y",S=o.x+o.width/2-s.width/2,y=o.y+o.height/2-s.height/2,k=o[l]/2-s[l]/2;let b;switch(u){case"top":b={x:S,y:o.y-s.height};break;case"bottom":b={x:S,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y};break;case"left":b={x:o.x-s.width,y};break;default:b={x:o.x,y:o.y}}switch(st(e)){case"start":b[a]-=k*(n&&i?-1:1);break;case"end":b[a]+=k*(n&&i?-1:1);break}return b}const sn=async(t,e,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:r=[],platform:a}=n,l=r.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let i=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:S,y}=Ft(i,o,u),k=o,b={},C=0;for(let m=0;m<l.length;m++){const{name:x,fn:A}=l[m],{x:c,y:f,data:v,reset:w}=await A({x:S,y,initialPlacement:o,placement:k,strategy:s,middlewareData:b,rects:i,platform:a,elements:{reference:t,floating:e}});if(S=c??S,y=f??y,b={...b,[x]:{...b[x],...v}},w&&C<=50){C++,typeof w=="object"&&(w.placement&&(k=w.placement),w.rects&&(i=w.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):w.rects),{x:S,y}=Ft(i,k,u)),m=-1;continue}}return{x:S,y,placement:k,strategy:s,middlewareData:b}};async function Yt(t,e){var n;e===void 0&&(e={});const{x:o,y:s,platform:r,rects:a,elements:l,strategy:u}=t,{boundary:i="clippingAncestors",rootBoundary:S="viewport",elementContext:y="floating",altBoundary:k=!1,padding:b=0}=pt(e,t),C=rn(b),x=l[k?y==="floating"?"reference":"floating":y],A=ht(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(x)))==null||n?x:x.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:i,rootBoundary:S,strategy:u})),c=y==="floating"?{...a.floating,x:o,y:s}:a.reference,f=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),v=await(r.isElement==null?void 0:r.isElement(f))?await(r.getScale==null?void 0:r.getScale(f))||{x:1,y:1}:{x:1,y:1},w=ht(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:c,offsetParent:f,strategy:u}):c);return{top:(A.top-w.top+C.top)/v.y,bottom:(w.bottom-A.bottom+C.bottom)/v.y,left:(A.left-w.left+C.left)/v.x,right:(w.right-A.right+C.right)/v.x}}const an=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:s,middlewareData:r,rects:a,initialPlacement:l,platform:u,elements:i}=e,{mainAxis:S=!0,crossAxis:y=!0,fallbackPlacements:k,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:m=!0,...x}=pt(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const A=G(s),c=G(l)===l,f=await(u.isRTL==null?void 0:u.isRTL(i.floating)),v=k||(c||!m?[dt(l)]:tn(l));!k&&C!=="none"&&v.push(...nn(l,m,C,f));const w=[l,...v],_=await Yt(e,x),B=[];let T=((o=r.flip)==null?void 0:o.overflows)||[];if(S&&B.push(_[A]),y){const O=Ze(s,a,f);B.push(_[O[0]],_[O[1]])}if(T=[...T,{placement:s,overflows:B}],!B.every(O=>O<=0)){var I,E;const O=(((I=r.flip)==null?void 0:I.index)||0)+1,K=w[O];if(K)return{data:{index:O,overflows:T},reset:{placement:K}};let z=(E=T.filter(M=>M.overflows[0]<=0).sort((M,F)=>M.overflows[1]-F.overflows[1])[0])==null?void 0:E.placement;if(!z)switch(b){case"bestFit":{var H;const M=(H=T.map(F=>[F.placement,F.overflows.filter(D=>D>0).reduce((D,X)=>D+X,0)]).sort((F,D)=>F[1]-D[1])[0])==null?void 0:H[0];M&&(z=M);break}case"initialPlacement":z=l;break}if(s!==z)return{reset:{placement:z}}}return{}}}};async function ln(t,e){const{placement:n,platform:o,elements:s}=t,r=await(o.isRTL==null?void 0:o.isRTL(s.floating)),a=G(n),l=st(n),u=vt(n)==="y",i=["left","top"].includes(a)?-1:1,S=r&&u?-1:1,y=pt(e,t);let{mainAxis:k,crossAxis:b,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return l&&typeof C=="number"&&(b=l==="end"?C*-1:C),u?{x:b*S,y:k*i}:{x:k*i,y:b*S}}const cn=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:o}=e,s=await ln(e,t);return{x:n+s.x,y:o+s.y,data:s}}}},un=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:s,elements:r}=e,{apply:a=()=>{},...l}=pt(t,e),u=await Yt(e,l),i=G(n),S=st(n),y=vt(n)==="y",{width:k,height:b}=o.floating;let C,m;i==="top"||i==="bottom"?(C=i,m=S===(await(s.isRTL==null?void 0:s.isRTL(r.floating))?"start":"end")?"left":"right"):(m=i,C=S==="end"?"top":"bottom");const x=b-u[C],A=k-u[m],c=!e.middlewareData.shift;let f=x,v=A;if(y){const _=k-u.left-u.right;v=S||c?Mt(A,_):_}else{const _=b-u.top-u.bottom;f=S||c?Mt(x,_):_}if(c&&!S){const _=Y(u.left,0),B=Y(u.right,0),T=Y(u.top,0),I=Y(u.bottom,0);y?v=k-2*(_!==0||B!==0?_+B:Y(u.left,u.right)):f=b-2*(T!==0||I!==0?T+I:Y(u.top,u.bottom))}await a({...e,availableWidth:v,availableHeight:f});const w=await s.getDimensions(r.floating);return k!==w.width||b!==w.height?{reset:{rects:!0}}:{}}}},_t=Math.min,Z=Math.max,gt=Math.round,ut=Math.floor,W=t=>({x:t,y:t});function U(t){return Zt(t)?(t.nodeName||"").toLowerCase():"#document"}function R(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function P(t){var e;return(e=(Zt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Zt(t){return t instanceof Node||t instanceof R(t).Node}function N(t){return t instanceof Element||t instanceof R(t).Element}function $(t){return t instanceof HTMLElement||t instanceof R(t).HTMLElement}function Ht(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof R(t).ShadowRoot}function at(t){const{overflow:e,overflowX:n,overflowY:o,display:s}=V(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(s)}function fn(t){return["table","td","th"].includes(U(t))}function At(t){const e=Bt(),n=V(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function dn(t){let e=et(t);for(;$(e)&&!mt(e);){if(At(e))return e;e=et(e)}return null}function Bt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mt(t){return["html","body","#document"].includes(U(t))}function V(t){return R(t).getComputedStyle(t)}function yt(t){return N(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function et(t){if(U(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ht(t)&&t.host||P(t);return Ht(e)?e.host:e}function te(t){const e=et(t);return mt(e)?t.ownerDocument?t.ownerDocument.body:t.body:$(e)&&at(e)?e:te(e)}function ot(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=te(t),r=s===((o=t.ownerDocument)==null?void 0:o.body),a=R(s);return r?e.concat(a,a.visualViewport||[],at(s)?s:[],a.frameElement&&n?ot(a.frameElement):[]):e.concat(s,ot(s))}function ee(t){const e=V(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const s=$(t),r=s?t.offsetWidth:n,a=s?t.offsetHeight:o,l=gt(n)!==r||gt(o)!==a;return l&&(n=r,o=a),{width:n,height:o,$:l}}function Tt(t){return N(t)?t:t.contextElement}function tt(t){const e=Tt(t);if(!$(e))return W(1);const n=e.getBoundingClientRect(),{width:o,height:s,$:r}=ee(e);let a=(r?gt(n.width):n.width)/o,l=(r?gt(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const hn=W(0);function ne(t){const e=R(t);return!Bt()||!e.visualViewport?hn:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gn(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==R(t)?!1:e}function J(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=Tt(t);let a=W(1);e&&(o?N(o)&&(a=tt(o)):a=tt(t));const l=gn(r,n,o)?ne(r):W(0);let u=(s.left+l.x)/a.x,i=(s.top+l.y)/a.y,S=s.width/a.x,y=s.height/a.y;if(r){const k=R(r),b=o&&N(o)?R(o):o;let C=k.frameElement;for(;C&&o&&b!==k;){const m=tt(C),x=C.getBoundingClientRect(),A=V(C),c=x.left+(C.clientLeft+parseFloat(A.paddingLeft))*m.x,f=x.top+(C.clientTop+parseFloat(A.paddingTop))*m.y;u*=m.x,i*=m.y,S*=m.x,y*=m.y,u+=c,i+=f,C=R(C).frameElement}}return ht({width:S,height:y,x:u,y:i})}function pn(t){let{rect:e,offsetParent:n,strategy:o}=t;const s=$(n),r=P(n);if(n===r)return e;let a={scrollLeft:0,scrollTop:0},l=W(1);const u=W(0);if((s||!s&&o!=="fixed")&&((U(n)!=="body"||at(r))&&(a=yt(n)),$(n))){const i=J(n);l=tt(n),u.x=i.x+n.clientLeft,u.y=i.y+n.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-a.scrollLeft*l.x+u.x,y:e.y*l.y-a.scrollTop*l.y+u.y}}function vn(t){return Array.from(t.getClientRects())}function oe(t){return J(P(t)).left+yt(t).scrollLeft}function mn(t){const e=P(t),n=yt(t),o=t.ownerDocument.body,s=Z(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),r=Z(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+oe(t);const l=-n.scrollTop;return V(o).direction==="rtl"&&(a+=Z(e.clientWidth,o.clientWidth)-s),{width:s,height:r,x:a,y:l}}function yn(t,e){const n=R(t),o=P(t),s=n.visualViewport;let r=o.clientWidth,a=o.clientHeight,l=0,u=0;if(s){r=s.width,a=s.height;const i=Bt();(!i||i&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:r,height:a,x:l,y:u}}function bn(t,e){const n=J(t,!0,e==="fixed"),o=n.top+t.clientTop,s=n.left+t.clientLeft,r=$(t)?tt(t):W(1),a=t.clientWidth*r.x,l=t.clientHeight*r.y,u=s*r.x,i=o*r.y;return{width:a,height:l,x:u,y:i}}function zt(t,e,n){let o;if(e==="viewport")o=yn(t,n);else if(e==="document")o=mn(P(t));else if(N(e))o=bn(e,n);else{const s=ne(t);o={...e,x:e.x-s.x,y:e.y-s.y}}return ht(o)}function ie(t,e){const n=et(t);return n===e||!N(n)||mt(n)?!1:V(n).position==="fixed"||ie(n,e)}function wn(t,e){const n=e.get(t);if(n)return n;let o=ot(t,[],!1).filter(l=>N(l)&&U(l)!=="body"),s=null;const r=V(t).position==="fixed";let a=r?et(t):t;for(;N(a)&&!mt(a);){const l=V(a),u=At(a);!u&&l.position==="fixed"&&(s=null),(r?!u&&!s:!u&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||at(a)&&!u&&ie(t,a))?o=o.filter(S=>S!==a):s=l,a=et(a)}return e.set(t,o),o}function xn(t){let{element:e,boundary:n,rootBoundary:o,strategy:s}=t;const a=[...n==="clippingAncestors"?wn(e,this._c):[].concat(n),o],l=a[0],u=a.reduce((i,S)=>{const y=zt(e,S,s);return i.top=Z(y.top,i.top),i.right=_t(y.right,i.right),i.bottom=_t(y.bottom,i.bottom),i.left=Z(y.left,i.left),i},zt(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Sn(t){return ee(t)}function Cn(t,e,n){const o=$(e),s=P(e),r=n==="fixed",a=J(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const u=W(0);if(o||!o&&!r)if((U(e)!=="body"||at(s))&&(l=yt(e)),o){const i=J(e,!0,r,e);u.x=i.x+e.clientLeft,u.y=i.y+e.clientTop}else s&&(u.x=oe(s));return{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function Dt(t,e){return!$(t)||V(t).position==="fixed"?null:e?e(t):t.offsetParent}function re(t,e){const n=R(t);if(!$(t))return n;let o=Dt(t,e);for(;o&&fn(o)&&V(o).position==="static";)o=Dt(o,e);return o&&(U(o)==="html"||U(o)==="body"&&V(o).position==="static"&&!At(o))?n:o||dn(t)||n}const kn=async function(t){let{reference:e,floating:n,strategy:o}=t;const s=this.getOffsetParent||re,r=this.getDimensions;return{reference:Cn(e,await s(n),o),floating:{x:0,y:0,...await r(n)}}};function _n(t){return V(t).direction==="rtl"}const An={convertOffsetParentRelativeRectToViewportRelativeRect:pn,getDocumentElement:P,getClippingRect:xn,getOffsetParent:re,getElementRects:kn,getClientRects:vn,getDimensions:Sn,getScale:tt,isElement:N,isRTL:_n};function Bn(t,e){let n=null,o;const s=P(t);function r(){clearTimeout(o),n&&n.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),r();const{left:i,top:S,width:y,height:k}=t.getBoundingClientRect();if(l||e(),!y||!k)return;const b=ut(S),C=ut(s.clientWidth-(i+y)),m=ut(s.clientHeight-(S+k)),x=ut(i),c={rootMargin:-b+"px "+-C+"px "+-m+"px "+-x+"px",threshold:Z(0,_t(1,u))||1};let f=!0;function v(w){const _=w[0].intersectionRatio;if(_!==u){if(!f)return a();_?a(!1,_):o=setTimeout(()=>{a(!1,1e-7)},100)}f=!1}try{n=new IntersectionObserver(v,{...c,root:s.ownerDocument})}catch{n=new IntersectionObserver(v,c)}n.observe(t)}return a(!0),r}function Tn(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,i=Tt(t),S=s||r?[...i?ot(i):[],...ot(e)]:[];S.forEach(A=>{s&&A.addEventListener("scroll",n,{passive:!0}),r&&A.addEventListener("resize",n)});const y=i&&l?Bn(i,n):null;let k=-1,b=null;a&&(b=new ResizeObserver(A=>{let[c]=A;c&&c.target===i&&b&&(b.unobserve(e),cancelAnimationFrame(k),k=requestAnimationFrame(()=>{b&&b.observe(e)})),n()}),i&&!u&&b.observe(i),b.observe(e));let C,m=u?J(t):null;u&&x();function x(){const A=J(t);m&&(A.x!==m.x||A.y!==m.y||A.width!==m.width||A.height!==m.height)&&n(),m=A,C=requestAnimationFrame(x)}return n(),()=>{S.forEach(A=>{s&&A.removeEventListener("scroll",n),r&&A.removeEventListener("resize",n)}),y&&y(),b&&b.disconnect(),b=null,u&&cancelAnimationFrame(C)}}const In=(t,e,n)=>{const o=new Map,s={platform:An,...n},r={...s.platform,_c:o};return sn(t,e,{...s,platform:r})},$t=(t,e)=>{let n=!1;const o=e.value,s=r=>{!t.contains(r.target)&&n&&o(),n=t.contains(r.target)};document.addEventListener("click",s,!0),t.onClickOutside=s},jt=t=>{document.removeEventListener("click",t.onClickOutside,!0),delete t.onClickOutside},On={created:$t,unmounted:jt,bind:$t,unbind:jt},Rn={name:"Teleport",props:{to:{type:String,required:!0},where:{type:String,default:"after"},disabled:Boolean},data(){return{nodes:[],waiting:!1,observer:null,parent:null}},computed:{classes(){return this.disabled?["teleport"]:["teleport","teleport-hidden"]}},watch:{to:"maybeMove",where:"maybeMove",disabled(t){t?(this.disable(),this.teardownObserver()):(this.bootObserver(),this.move())}},mounted(){this.nodes=Array.from(this.$el.childNodes),this.disabled||this.bootObserver(),this.maybeMove()},beforeUnmount(){this.disable(),this.teardownObserver()},methods:{maybeMove(){this.disabled||this.move()},move(){if(this.waiting=!1,this.parent=document.querySelector(this.to),!this.parent){this.disable(),this.waiting=!0;return}this.where==="before"?this.parent.prepend(this.getFragment()):this.parent.appendChild(this.getFragment())},disable(){this.$el.appendChild(this.getFragment()),this.parent=null},getFragment(){const t=document.createDocumentFragment();return this.nodes.forEach(e=>t.appendChild(e)),t},onMutations(t){let e=!1;for(let n=0;n<t.length;n++){const o=t[n],s=Array.from(o.addedNodes).filter(r=>!this.nodes.includes(r));Array.from(o.removedNodes).includes(this.parent)?(this.disable(),this.waiting=!this.disabled):this.waiting&&s.length>0&&(e=!0)}e&&this.move()},bootObserver(){this.observer||(this.observer=new MutationObserver(t=>this.onMutations(t)),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))},teardownObserver(){this.observer&&(this.observer.disconnect(),this.observer=null)}}},se=(t,e)=>{const n=t.__vccOpts||t;for(const[o,s]of e)n[o]=s;return n};function En(t,e,n,o,s,r){return j(),q("div",{class:ft(r.classes)},[le(t.$slots,"default")],2)}const Nt=se(Rn,[["render",En]]),Pt="handleDebounceQuerySuggestion",Ln=ae({name:"Autocomplete",directives:{clickOutside:On},props:{modelValue:{type:String,default:""},api:{type:String,default:"clearbit"},queryDelay:{type:Number,default:500},placeholder:{type:String,default:"请输入企业名称或统一社会信用代码"},clearable:{type:Boolean,default:!0},backFill:{type:Boolean,default:!1},popupAppendToBody:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},submitButtonLabel:{type:String,default:"Submit"},offsetTop:{type:Number,default:5},autoFlip:{type:Boolean,default:!1},historyEnabled:{type:Boolean,default:!0},historyType:{type:String,default:"localStorage"},historyStorageKey:{type:String,default:"company-history"},historyClearable:{type:Boolean,default:!0}},emits:["update:modelValue","input","fetch","abortFetch","select","clear","focus","blur","submit","dropdownVisibleChange"],data(){return{isVue3:ye,abortController:void 0,latestKeyword:"",selectSuggestion:void 0,suggestionVisible:!1,suggestionType:"fetch",suggestions:[],keyboardActiveIndex:void 0,floatingWidth:void 0,floatingStyles:{left:"0",top:"0",width:"auto"},clearIcon:Q.initialOptions.clearIcon,historyClearIcon:Q.initialOptions.history.clearIcon,historyItemIcon:Q.initialOptions.history.itemIcon}},computed:{nativeInputValue(){return Ke(this.modelValue)?"":String(this.modelValue)}},watch:{nativeInputValue(){this.setNativeInputValue()}},created(){this[Pt]=Ge(this.handleQuerySuggestion,this.queryDelay)},mounted(){this.autoFocus&&this.handleFocus(),this.setNativeInputValue(),this.handleCalculatePosition()},methods:{handleFocus(){this.$refs.input.focus()},handleCalculatePosition(){const t=this.$refs.reference,e=this.$refs.floating;Tn(t,e,()=>{In(t,e,{middleware:[cn(this.offsetTop),un({apply:({rects:n})=>{this.floatingStyles.width=`${n.reference.width}px`}}),...this.autoFlip?[an({fallbackPlacements:["top"]})]:[]]}).then(({x:n,y:o})=>{this.floatingStyles.left=`${n}px`,this.floatingStyles.top=`${o}px`})})},handleCancelQuerySuggestion(){this.abortController&&(this.abortController.abort("repeated request"),this.abortController=void 0)},async handleQuerySuggestion(t){if(this.handleCancelQuerySuggestion(),this.nativeInputValue===this.latestKeyword){this.showSuggestion();return}this.abortController=new AbortController,Q.handleQueryData(t.trim(),this.api,this.abortController).then(({data:e})=>{this.latestKeyword=t.trim(),this.suggestions=e,this.showSuggestion(),this.$emit("fetch",e)}).catch(e=>{e.name==="AbortError"&&this.$emit("abortFetch",e)})},setNativeInputValue(){const t=this.$refs.input;t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleInput(t){this.hideSuggestion();const{value:e}=t.target;if(this.handleUpdateModelValue(e),this.$emit("input",e),this.keyboardActiveIndex=void 0,this.selectSuggestion=void 0,e.length===0){this.clearSuggestion();return}this[Pt](e)},handleInputClick(){this.nativeInputValue?this.handleQuerySuggestion(this.nativeInputValue):this.historyEnabled&&(this.latestKeyword="",this.handleShowHistory())},handleInputFocus(){this.$emit("focus")},handleInputBlur(){this.handleCancelQuerySuggestion(),this.$emit("blur")},handleShowHistory(){const t={enabled:this.historyEnabled,key:this.historyStorageKey,type:this.historyType};this.suggestions=Q.getHistory(t),this.showSuggestion("history")},clearSuggestion(){this.suggestions=[]},showSuggestion(t="fetch"){if(this.suggestions.length===0){this.clearSuggestion(),this.hideSuggestion();return}this.suggestionType=t,!this.suggestionVisible&&(this.suggestionVisible=!0,this.$emit("dropdownVisibleChange",!0))},hideSuggestion(){this.suggestionVisible&&(this.suggestionVisible=!1,this.$emit("dropdownVisibleChange",!1))},handleSubmit(){this.$emit("submit",{text:this.nativeInputValue})},handleInputClear(){this.selectSuggestion=void 0,this.handleUpdateModelValue(""),this.clearSuggestion(),this.hideSuggestion(),this.handleFocus(),this.$emit("clear")},handleClickOutside(){this.hideSuggestion()},handleKeyDown(t){switch(t.key){case"Enter":Lt(this.keyboardActiveIndex)||this.handleSuggestionClick(this.suggestions[this.keyboardActiveIndex]);break;case"ArrowUp":this.keyboardActiveIndex?this.keyboardActiveIndex--:this.keyboardActiveIndex=this.suggestions.length-1,this.backFill&&this.handleFillInput();break;case"ArrowDown":Lt(this.keyboardActiveIndex)||this.keyboardActiveIndex>=this.suggestions.length-1?this.keyboardActiveIndex=0:this.keyboardActiveIndex++,this.backFill&&this.handleFillInput();break;case"Escape":this.handleInputClear();break}},handleFillInput(){this.selectSuggestion=this.suggestions[this.keyboardActiveIndex],this.handleUpdateModelValue(Vt(this.selectSuggestion.name||""))},handleHistoryClear(){const t={key:this.historyStorageKey,type:this.historyType};Q.removeHistory(t),this.clearSuggestion(),this.hideSuggestion()},handleSuggestionClick(t){if(this.handleUpdateModelValue(Vt(t.name)),this.selectSuggestion={id:t.id,name:t.name},this.clearSuggestion(),this.hideSuggestion(),this.historyEnabled&&this.selectSuggestion){const e={enabled:this.historyEnabled,key:this.historyStorageKey,type:this.historyType};Q.addHistory(this.selectSuggestion,e)}this.$emit("select",this.selectSuggestion)},handleUpdateModelValue(t){this.$emit("update:modelValue",t)}}}),Vn={class:"company-autocomplete__input"},Mn=["placeholder"],Fn={key:0,class:"company-autocomplete__clear"},Hn=["innerHTML"],zn={key:0,class:"company-autocomplete__submit"},Dn={class:"suggestion-popper__body"},$n=["onClick"],jn={class:"suggestion__avatar"},Nn=["innerHTML"],Pn=["alt","src"],qn={class:"suggestion__label"},Wn=L("div",{class:"suggestion__extra"},null,-1),Un={class:"suggestion-popper__footer"},Kn=["innerHTML"];function Qn(t,e,n,o,s,r){const a=ce("click-outside");return It((j(),q("div",{ref:"reference",class:ft(["company-autocomplete",[{"company-autocomplete--show-submit":t.showSubmitButton,"company-autocomplete--words":t.nativeInputValue.length>0,"company-autocomplete--activated":t.suggestionVisible}]]),onKeydown:e[7]||(e[7]=(...l)=>t.handleKeyDown&&t.handleKeyDown(...l))},[L("div",Vn,[L("input",ue({ref:"input",type:"text"},t.$attrs,{placeholder:t.placeholder,onInput:e[0]||(e[0]=(...l)=>t.handleInput&&t.handleInput(...l)),onClick:e[1]||(e[1]=(...l)=>t.handleInputClick&&t.handleInputClick(...l)),onFocus:e[2]||(e[2]=(...l)=>t.handleInputFocus&&t.handleInputFocus(...l)),onBlur:e[3]||(e[3]=(...l)=>t.handleInputBlur&&t.handleInputBlur(...l))}),null,16,Mn),t.clearable?(j(),q("div",Fn,[L("i",{class:"company-autocomplete__clear-icon",onClick:e[4]||(e[4]=(...l)=>t.handleInputClear&&t.handleInputClear(...l)),innerHTML:t.clearIcon},null,8,Hn)])):bt("",!0)]),t.showSubmitButton?(j(),q("div",zn,[L("button",{type:"button",onClick:e[5]||(e[5]=(...l)=>t.handleSubmit&&t.handleSubmit(...l))},Ot(t.submitButtonLabel),1)])):bt("",!0),(j(),fe(me,{to:"body",disabled:!t.popupAppendToBody},[L("div",{ref:"floating",class:ft(["suggestion-popper",[{"suggestion-popper--activated":t.suggestionVisible}]]),style:ve(t.floatingStyles)},[L("div",Dn,[(j(!0),q(de,null,he(t.suggestions,(l,u)=>(j(),q("div",{class:ft(["suggestion",[{"suggestion--keyboard-active":t.keyboardActiveIndex===u}]]),key:`${l.name}-${u}`,onClick:i=>t.handleSuggestionClick(l)},[L("div",jn,[t.suggestionType==="history"?(j(),q("i",{key:0,class:"suggestion__avatar-icon",innerHTML:t.historyItemIcon},null,8,Nn)):l.avatar?(j(),q("img",{key:1,alt:l.id,src:l.avatar},null,8,Pn)):bt("",!0)]),L("div",qn,Ot(l.name),1),Wn],10,$n))),128))]),It(L("div",Un,[L("a",{href:"javascript:;",onClick:e[6]||(e[6]=(...l)=>t.handleHistoryClear&&t.handleHistoryClear(...l))},[L("i",{class:"suggestion-popper__icon",innerHTML:t.historyClearIcon},null,8,Kn),ge(" 删除历史 ")])],512),[[pe,t.historyClearable&&t.suggestionType==="history"]])],6)],8,["disabled"]))],34)),[[a,t.handleClickOutside]])}const qt=se(Ln,[["render",Qn]]),Jn={install(t){t.component(qt.name,qt),t.component(Nt.name,Nt)}};export{qt as autocomplete,Jn as default,Nt as teleport};
