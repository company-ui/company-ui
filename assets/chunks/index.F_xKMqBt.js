import{d as oe,o as P,c as U,r as re,n as ft,aX as se,aA as Ot,m as F,M as ae,e as bt,t as le,b as ce,F as ue,E as fe,a as de,az as he,Q as pe,ax as ge}from"./framework.fovjj9nr.js";var ve=!0;const Nt={},me=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"}));var wt={exports:{}},St=function(){return St=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},St.apply(this,arguments)};function ot(t,e,n,i){function s(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function l(S){try{o(i.next(S))}catch(y){a(y)}}function u(S){try{o(i.throw(S))}catch(y){a(y)}}function o(S){S.done?r(S.value):s(S.value).then(l,u)}o((i=i.apply(t,e||[])).next())})}function rt(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,s,r,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(o){return function(S){return u([o,S])}}function u(o){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(n=0)),n;)try{if(i=1,s&&(r=o[0]&2?s.return:o[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,o[1])).done)return r;switch(s=0,r&&(o=[o[0]&2,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return n.label++,{value:o[1],done:!1};case 5:n.label++,s=o[1],o=[0];continue;case 7:o=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){n.label=o[1];break}if(o[0]===6&&n.label<r[1]){n.label=r[1],r=o;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(o);break}r[2]&&n.ops.pop(),n.trys.pop();continue}o=e.call(t,n)}catch(S){o=[6,S],s=0}finally{i=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var ye=function(e){return e===void 0},be=function(e,n,i){return e.replace(new RegExp(n,"g"),i)},we=function(e){return e.replace(/(<([^>]+)>)/gi,"")},xe=function(e){try{var n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}},Se=function(e,n){return n===void 0&&(n=""),n+Object.keys(e).map(function(i){return"".concat(i,"=").concat(e[i])}).join("&")},Ce=function(e,n){for(var i=[],s=0;s<e.length;s+=n)i.push(e.slice(s,s+n));return i},ke=["https://image.qcc.com/logo/{id}.jpg","https://image.qcc.com/auto/{id}.jpg"],_e=function(t,e){return ot(void 0,void 0,void 0,function(){var n,i,s,r;return rt(this,function(a){switch(a.label){case 0:return n=t.dataset.id||"",e.avatarUrl?(i=t,[4,Ct(n,[e.avatarUrl])]):[3,2];case 1:return i.src=a.sent(),[2];case 2:switch(s=e.api,s){case"qcc_open":return[3,3]}return[3,5];case 3:return r=t,[4,Ct(n,ke)];case 4:return r.src=a.sent(),[3,5];case 5:return[2]}})})},Ct=function(t,e){return ot(void 0,void 0,void 0,function(){var n,i,s,r,a,l,u;return rt(this,function(o){switch(o.label){case 0:n=0,i=e,o.label=1;case 1:if(!(n<i.length))return[3,8];s=i[n],o.label=2;case 2:return o.trys.push([2,6,,7]),r=be(s,"{id}",t),[4,fetch(r)];case 3:return a=o.sent(),a.status!==200?[3,5]:[4,a.blob()];case 4:return l=o.sent(),[2,URL.createObjectURL(l)];case 5:return[3,7];case 6:return u=o.sent(),console.error(u),[3,7];case 7:return n++,[3,1];case 8:return[2,""]}})})},et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ae(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pt={exports:{}};function Be(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xt={exports:{}},Tt;function Oe(){return Tt||(Tt=1,function(t,e){(function(n,i){t.exports=i()})(et,function(){var n=n||function(i,s){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof et<"u"&&et.crypto&&(r=et.crypto),!r&&typeof Be=="function")try{r=Nt||me}catch{}var a=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function c(){}return function(f){var v;return c.prototype=f,v=new c,c.prototype=null,v}}(),u={},o=u.lib={},S=o.Base=function(){return{extend:function(c){var f=l(this);return c&&f.mixIn(c),(!f.hasOwnProperty("init")||this.init===f.init)&&(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var f in c)c.hasOwnProperty(f)&&(this[f]=c[f]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=o.WordArray=S.extend({init:function(c,f){c=this.words=c||[],f!=s?this.sigBytes=f:this.sigBytes=c.length*4},toString:function(c){return(c||b).stringify(this)},concat:function(c){var f=this.words,v=c.words,w=this.sigBytes,_=c.sigBytes;if(this.clamp(),w%4)for(var B=0;B<_;B++){var O=v[B>>>2]>>>24-B%4*8&255;f[w+B>>>2]|=O<<24-(w+B)%4*8}else for(var I=0;I<_;I+=4)f[w+I>>>2]=v[I>>>2];return this.sigBytes+=_,this},clamp:function(){var c=this.words,f=this.sigBytes;c[f>>>2]&=4294967295<<32-f%4*8,c.length=i.ceil(f/4)},clone:function(){var c=S.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var f=[],v=0;v<c;v+=4)f.push(a());return new y.init(f,c)}}),k=u.enc={},b=k.Hex={stringify:function(c){for(var f=c.words,v=c.sigBytes,w=[],_=0;_<v;_++){var B=f[_>>>2]>>>24-_%4*8&255;w.push((B>>>4).toString(16)),w.push((B&15).toString(16))}return w.join("")},parse:function(c){for(var f=c.length,v=[],w=0;w<f;w+=2)v[w>>>3]|=parseInt(c.substr(w,2),16)<<24-w%8*4;return new y.init(v,f/2)}},C=k.Latin1={stringify:function(c){for(var f=c.words,v=c.sigBytes,w=[],_=0;_<v;_++){var B=f[_>>>2]>>>24-_%4*8&255;w.push(String.fromCharCode(B))}return w.join("")},parse:function(c){for(var f=c.length,v=[],w=0;w<f;w++)v[w>>>2]|=(c.charCodeAt(w)&255)<<24-w%4*8;return new y.init(v,f)}},m=k.Utf8={stringify:function(c){try{return decodeURIComponent(escape(C.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return C.parse(unescape(encodeURIComponent(c)))}},x=o.BufferedBlockAlgorithm=S.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=m.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var f,v=this._data,w=v.words,_=v.sigBytes,B=this.blockSize,O=B*4,I=_/O;c?I=i.ceil(I):I=i.max((I|0)-this._minBufferSize,0);var R=I*B,z=i.min(R*4,_);if(R){for(var L=0;L<R;L+=B)this._doProcessBlock(w,L);f=w.splice(0,R),v.sigBytes-=z}return new y.init(f,z)},clone:function(){var c=S.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0});o.Hasher=x.extend({cfg:S.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var f=this._doFinalize();return f},blockSize:16,_createHelper:function(c){return function(f,v){return new c.init(v).finalize(f)}},_createHmacHelper:function(c){return function(f,v){return new A.HMAC.init(c,v).finalize(f)}}});var A=u.algo={};return u}(Math);return n})}(xt)),xt.exports}(function(t,e){(function(n,i){t.exports=i(Oe())})(et,function(n){return function(i){var s=n,r=s.lib,a=r.WordArray,l=r.Hasher,u=s.algo,o=[];(function(){for(var m=0;m<64;m++)o[m]=i.abs(i.sin(m+1))*4294967296|0})();var S=u.MD5=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,x){for(var A=0;A<16;A++){var c=x+A,f=m[c];m[c]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}var v=this._hash.words,w=m[x+0],_=m[x+1],B=m[x+2],O=m[x+3],I=m[x+4],R=m[x+5],z=m[x+6],L=m[x+7],G=m[x+8],$=m[x+9],H=m[x+10],D=m[x+11],j=m[x+12],Y=m[x+13],lt=m[x+14],ct=m[x+15],d=v[0],h=v[1],p=v[2],g=v[3];d=y(d,h,p,g,w,7,o[0]),g=y(g,d,h,p,_,12,o[1]),p=y(p,g,d,h,B,17,o[2]),h=y(h,p,g,d,O,22,o[3]),d=y(d,h,p,g,I,7,o[4]),g=y(g,d,h,p,R,12,o[5]),p=y(p,g,d,h,z,17,o[6]),h=y(h,p,g,d,L,22,o[7]),d=y(d,h,p,g,G,7,o[8]),g=y(g,d,h,p,$,12,o[9]),p=y(p,g,d,h,H,17,o[10]),h=y(h,p,g,d,D,22,o[11]),d=y(d,h,p,g,j,7,o[12]),g=y(g,d,h,p,Y,12,o[13]),p=y(p,g,d,h,lt,17,o[14]),h=y(h,p,g,d,ct,22,o[15]),d=k(d,h,p,g,_,5,o[16]),g=k(g,d,h,p,z,9,o[17]),p=k(p,g,d,h,D,14,o[18]),h=k(h,p,g,d,w,20,o[19]),d=k(d,h,p,g,R,5,o[20]),g=k(g,d,h,p,H,9,o[21]),p=k(p,g,d,h,ct,14,o[22]),h=k(h,p,g,d,I,20,o[23]),d=k(d,h,p,g,$,5,o[24]),g=k(g,d,h,p,lt,9,o[25]),p=k(p,g,d,h,O,14,o[26]),h=k(h,p,g,d,G,20,o[27]),d=k(d,h,p,g,Y,5,o[28]),g=k(g,d,h,p,B,9,o[29]),p=k(p,g,d,h,L,14,o[30]),h=k(h,p,g,d,j,20,o[31]),d=b(d,h,p,g,R,4,o[32]),g=b(g,d,h,p,G,11,o[33]),p=b(p,g,d,h,D,16,o[34]),h=b(h,p,g,d,lt,23,o[35]),d=b(d,h,p,g,_,4,o[36]),g=b(g,d,h,p,I,11,o[37]),p=b(p,g,d,h,L,16,o[38]),h=b(h,p,g,d,H,23,o[39]),d=b(d,h,p,g,Y,4,o[40]),g=b(g,d,h,p,w,11,o[41]),p=b(p,g,d,h,O,16,o[42]),h=b(h,p,g,d,z,23,o[43]),d=b(d,h,p,g,$,4,o[44]),g=b(g,d,h,p,j,11,o[45]),p=b(p,g,d,h,ct,16,o[46]),h=b(h,p,g,d,B,23,o[47]),d=C(d,h,p,g,w,6,o[48]),g=C(g,d,h,p,L,10,o[49]),p=C(p,g,d,h,lt,15,o[50]),h=C(h,p,g,d,R,21,o[51]),d=C(d,h,p,g,j,6,o[52]),g=C(g,d,h,p,O,10,o[53]),p=C(p,g,d,h,H,15,o[54]),h=C(h,p,g,d,_,21,o[55]),d=C(d,h,p,g,G,6,o[56]),g=C(g,d,h,p,ct,10,o[57]),p=C(p,g,d,h,z,15,o[58]),h=C(h,p,g,d,Y,21,o[59]),d=C(d,h,p,g,I,6,o[60]),g=C(g,d,h,p,D,10,o[61]),p=C(p,g,d,h,B,15,o[62]),h=C(h,p,g,d,$,21,o[63]),v[0]=v[0]+d|0,v[1]=v[1]+h|0,v[2]=v[2]+p|0,v[3]=v[3]+g|0},_doFinalize:function(){var m=this._data,x=m.words,A=this._nDataBytes*8,c=m.sigBytes*8;x[c>>>5]|=128<<24-c%32;var f=i.floor(A/4294967296),v=A;x[(c+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,x[(c+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,m.sigBytes=(x.length+1)*4,this._process();for(var w=this._hash,_=w.words,B=0;B<4;B++){var O=_[B];_[B]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return w},clone:function(){var m=l.clone.call(this);return m._hash=this._hash.clone(),m}});function y(m,x,A,c,f,v,w){var _=m+(x&A|~x&c)+f+w;return(_<<v|_>>>32-v)+x}function k(m,x,A,c,f,v,w){var _=m+(x&c|A&~c)+f+w;return(_<<v|_>>>32-v)+x}function b(m,x,A,c,f,v,w){var _=m+(x^A^c)+f+w;return(_<<v|_>>>32-v)+x}function C(m,x,A,c,f,v,w){var _=m+(A^(x|~c))+f+w;return(_<<v|_>>>32-v)+x}s.MD5=l._createHelper(S),s.HmacMD5=l._createHmacHelper(S)}(Math),n.MD5})})(Pt);var Te=Pt.exports,Ie=Ae(Te),qt=["9y16cxzg","sr2z1z63","hk2ssit3","acsevi4u","nu38i9ej","6m70kgre","hl8rvmhu","30uzkxp0","v9jggair","4ryav515","pgx6isvq","6b3zumy7","bxureygp","jff4xbhb","7j56lyfw","2tctuvza","8jfrswdr","r2as467y","jzye6ls1","bpi7fhat","ywp0p3qn","rzybga6p","84u199q5","kktjaqis","amn5oud8","a0zs4b52","x16y3u37","xku2lp9m","n8eawc7q","gw68xkfw","4wxtunev","ew2x6rzg","go9f3t54","7d0fkx5i","ai6ol58k","47jsslmm","70mxfzcz","b90wzl0c","ua78bvmr","7p60hdt4","ge5lw4u8","ref3rey2","wgay7vhx","b8l2u4mj","rk80y5ot","o37o4wq3","0moweoh0","r10m9bpy","wjilkjhj","il27pnod"],Le=Ce(qt,5),Ee="v2.0",Wt=31,Re=function(){return Ee},It=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:t},function(){return e.charAt(Math.floor(Math.random()*e.length))}).join("")},Fe=function(t){var e=Ve(t)%qt.length,n=Math.floor(e/5);return Le[n][e%5]},Me=function(t){return Ie(t).toString()},Ve=function(t){var e=Wt+(t===null?0:He(t))|0;return Math.abs(e)},He=function(t){for(var e=1,n=0;n<t.length;n++)e=Wt*e+t.charCodeAt(n)|0;return e},De=function(t){var e={f:It(5),g:It(3),r:"/company/getCompanyName",searchKey:t,t:Math.floor(Date.now()/1e3),v:Re()},n=Se(e),i=Fe(e.r.toUpperCase()+n),s=Me("GET".concat(n).concat(i));return"https://c.qcc.com/embed/api".concat(e.r,"?").concat(n,"&m=").concat(s)},ze=function(t,e){return ot(void 0,void 0,void 0,function(){var n,i,s,r;return rt(this,function(a){switch(a.label){case 0:if(t.length<2||t.length>100)throw new Error(" keyword length must be between 2 and 100");return n=De(t),[4,fetch(n,St({method:"GET",mode:"cors",headers:{Referer:"https://c.qcc.com/"}},ye(e)?null:{signal:e==null?void 0:e.signal}))];case 1:return i=a.sent(),[4,i.json()];case 2:return s=a.sent(),r=[],s.status!=="200"?[2,r]:[2,s.result.map(function(l){var u=l.keyNo||we(l.companyName);return{name:l.companyName,id:u}})]}})})},$e=function(t,e){return ot(void 0,void 0,void 0,function(){var n,i,s;return rt(this,function(r){switch(r.label){case 0:if(t.length<2||t.length>=100)throw new Error("keyword length must be between 2 and 100");return n="https://autocomplete.clearbit.com/v1/companies/suggest?query=".concat(t),[4,fetch(n,{method:"GET",mode:"cors",signal:e==null?void 0:e.signal})];case 1:return i=r.sent(),[4,i.json()];case 2:return s=r.sent(),[2,s.map(function(a){return{name:a.name,id:a.domain,avatar:a.logo}})]}})})},je=function(t,e,n){return ot(void 0,void 0,void 0,function(){var i,s;return rt(this,function(r){switch(r.label){case 0:switch(s=e,s){case"qcc_open":return[3,1];case"clearbit":return[3,3]}return[3,5];case 1:return[4,ze(t,n)];case 2:return i=r.sent(),[3,6];case 3:return[4,$e(t,n)];case 4:return i=r.sent(),[3,6];case 5:return i=[],[3,6];case 6:return[2,{data:i}]}})})},Ne=function(t,e){if(!(!e.enabled||!e.key)){var n=e.type==="localStorage"?localStorage:sessionStorage,i=Ut(e),s=i.findIndex(function(r){return r.id===t.id});s>-1&&i.splice(s,1),i.splice(0,0,t),n.setItem(e.key,JSON.stringify(i.length>5?i.slice(0,5):i))}},Ut=function(t){if(!t.enabled||!t.key)return[];var e=t.type==="localStorage"?localStorage:sessionStorage,n=e.getItem(t.key)||"";return xe(n)},Pe=function(t){var e=t.type==="localStorage"?localStorage:sessionStorage;e.removeItem(t.key)},qe={target:"body",api:"clearbit",queryDelay:500,placeholder:"Input company name",clearable:!0,backFill:!1,popupAppendToBody:!0,clearIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17L12 13.41L8.41 17L7 15.59L10.59 12L7 8.41L8.41 7L12 10.59L15.59 7L17 8.41L13.41 12L17 15.59z"/></svg>',autoFocus:!0,history:{enabled:!0,type:"localStorage",key:"company-history",showClear:!0,itemIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m15.1 19.37l1 1.74c-.96.44-2.01.73-3.1.84v-2.02c.74-.09 1.44-.28 2.1-.56zM4.07 13H2.05c.11 1.1.4 2.14.84 3.1l1.74-1c-.28-.66-.47-1.36-.56-2.1zM15.1 4.63l1-1.74c-.96-.44-2-.73-3.1-.84v2.02c.74.09 1.44.28 2.1.56zM19.93 11h2.02c-.11-1.1-.4-2.14-.84-3.1l-1.74 1c.28.66.47 1.36.56 2.1zM8.9 19.37l-1 1.74c.96.44 2.01.73 3.1.84v-2.02c-.74-.09-1.44-.28-2.1-.56zM11 4.07V2.05c-1.1.11-2.14.4-3.1.84l1 1.74c.66-.28 1.36-.47 2.1-.56zm7.36 3.1l1.74-1.01c-.63-.87-1.4-1.64-2.27-2.27l-1.01 1.74c.59.45 1.1.96 1.54 1.54zM4.63 8.9l-1.74-1c-.44.96-.73 2-.84 3.1h2.02c.09-.74.28-1.44.56-2.1zm15.3 4.1c-.09.74-.28 1.44-.56 2.1l1.74 1c.44-.96.73-2.01.84-3.1h-2.02zm-3.1 5.36l1.01 1.74c.87-.63 1.64-1.4 2.27-2.27l-1.74-1.01c-.45.59-.96 1.1-1.54 1.54zM7.17 5.64l-1-1.75c-.88.64-1.64 1.4-2.27 2.28l1.74 1.01a7.7 7.7 0 0 1 1.53-1.54zM5.64 16.83l-1.74 1c.63.87 1.4 1.64 2.27 2.27l1.01-1.74a7.7 7.7 0 0 1-1.54-1.53zM13 7h-2v5.41l4.29 4.29l1.41-1.41l-3.7-3.7V7z"/></svg>',clearIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M15 2h-3.5l-1-1h-5l-1 1H1v2h14zm1 7c-.7 0-1.37.1-2 .29V5H2v12c0 1.1.9 2 2 2h5.68A6.999 6.999 0 0 0 23 16c0-3.87-3.13-7-7-7zm-7 7c0 .34.03.67.08 1H4V7h8v3.26c-1.81 1.27-3 3.36-3 5.74zm7 5c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5z"/><path fill="currentColor" d="M16.5 12H15v5l3.6 2.1l.8-1.2l-2.9-1.7z"/></svg>'},onInput:function(){},onChange:function(){},onFetch:function(){},onAbortFetch:function(){},onSelect:function(){},onClear:function(){},onFocus:function(){},onBlur:function(){},onSubmit:function(){},onDropdownVisibleChange:function(){},showSubmitButton:!0,submitButtonLabel:"Submit",offsetTop:5,autoFlip:!1},T=Object.freeze({__proto__:null,addHistory:Ne,getHistory:Ut,getImageData:Ct,handleAvatar:_e,handleQueryData:je,initialOptions:qe,removeHistory:Pe});(wt.exports==null?{}:wt.exports).default||wt.exports;var Lt=function(t){return t===void 0},We=function(t){return t==null||t===void 0};function Ue(t,e,n){e===void 0&&(e=0);var i=n===void 0?{}:n,s=i.start,r=s===void 0?!0:s,a=i.middle,l=a===void 0?!0:a,u=i.once,o=u===void 0?!1:u,S=r,y=0,k,b=!1;function C(){for(var m=this,x=[],A=0;A<arguments.length;A++)x[A]=arguments[A];if(!b){var c=Date.now()-y;y=Date.now(),r&&l&&c>=e&&(S=!0),S?(S=!1,t.apply(this,x),o&&C.cancel()):(l&&c<e||!l)&&(clearTimeout(k),k=setTimeout(function(){y=Date.now(),t.apply(m,x),o&&C.cancel()},l?e-c:e))}}return C.cancel=function(){clearTimeout(k),b=!0},C}function Qe(t,e,n){e===void 0&&(e=0);var i=n===void 0?{}:n,s=i.start,r=s===void 0?!1:s,a=i.middle,l=a===void 0?!1:a,u=i.once,o=u===void 0?!1:u;return Ue(t,e,{start:r,middle:l,once:o})}var Et=function(t){return t.replace(/(<([^>]+)>)/gi,"")};const nt=Math.min,M=Math.max,dt=Math.round,ut=Math.floor,Q=t=>({x:t,y:t}),Ke={left:"right",right:"left",bottom:"top",top:"bottom"},Ge={start:"end",end:"start"};function gt(t,e){return typeof t=="function"?t(e):t}function X(t){return t.split("-")[0]}function st(t){return t.split("-")[1]}function Xe(t){return t==="x"?"y":"x"}function Qt(t){return t==="y"?"height":"width"}function vt(t){return["top","bottom"].includes(X(t))?"y":"x"}function Kt(t){return Xe(vt(t))}function Je(t,e,n){n===void 0&&(n=!1);const i=st(t),s=Kt(t),r=Qt(s);let a=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=ht(a)),[a,ht(a)]}function Ye(t){const e=ht(t);return[kt(t),e,kt(e)]}function kt(t){return t.replace(/start|end/g,e=>Ge[e])}function Ze(t,e,n){const i=["left","right"],s=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:i:e?i:s;case"left":case"right":return e?r:a;default:return[]}}function tn(t,e,n,i){const s=st(t);let r=Ze(X(t),n==="start",i);return s&&(r=r.map(a=>a+"-"+s),e&&(r=r.concat(r.map(kt)))),r}function ht(t){return t.replace(/left|right|bottom|top/g,e=>Ke[e])}function en(t){return{top:0,right:0,bottom:0,left:0,...t}}function nn(t){return typeof t!="number"?en(t):{top:t,right:t,bottom:t,left:t}}function pt(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Rt(t,e,n){let{reference:i,floating:s}=t;const r=vt(e),a=Kt(e),l=Qt(a),u=X(e),o=r==="y",S=i.x+i.width/2-s.width/2,y=i.y+i.height/2-s.height/2,k=i[l]/2-s[l]/2;let b;switch(u){case"top":b={x:S,y:i.y-s.height};break;case"bottom":b={x:S,y:i.y+i.height};break;case"right":b={x:i.x+i.width,y};break;case"left":b={x:i.x-s.width,y};break;default:b={x:i.x,y:i.y}}switch(st(e)){case"start":b[a]-=k*(n&&o?-1:1);break;case"end":b[a]+=k*(n&&o?-1:1);break}return b}const on=async(t,e,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:a}=n,l=r.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let o=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:S,y}=Rt(o,i,u),k=i,b={},C=0;for(let m=0;m<l.length;m++){const{name:x,fn:A}=l[m],{x:c,y:f,data:v,reset:w}=await A({x:S,y,initialPlacement:i,placement:k,strategy:s,middlewareData:b,rects:o,platform:a,elements:{reference:t,floating:e}});if(S=c??S,y=f??y,b={...b,[x]:{...b[x],...v}},w&&C<=50){C++,typeof w=="object"&&(w.placement&&(k=w.placement),w.rects&&(o=w.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):w.rects),{x:S,y}=Rt(o,k,u)),m=-1;continue}}return{x:S,y,placement:k,strategy:s,middlewareData:b}};async function Gt(t,e){var n;e===void 0&&(e={});const{x:i,y:s,platform:r,rects:a,elements:l,strategy:u}=t,{boundary:o="clippingAncestors",rootBoundary:S="viewport",elementContext:y="floating",altBoundary:k=!1,padding:b=0}=gt(e,t),C=nn(b),x=l[k?y==="floating"?"reference":"floating":y],A=pt(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(x)))==null||n?x:x.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:o,rootBoundary:S,strategy:u})),c=y==="floating"?{...a.floating,x:i,y:s}:a.reference,f=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),v=await(r.isElement==null?void 0:r.isElement(f))?await(r.getScale==null?void 0:r.getScale(f))||{x:1,y:1}:{x:1,y:1},w=pt(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:c,offsetParent:f,strategy:u}):c);return{top:(A.top-w.top+C.top)/v.y,bottom:(w.bottom-A.bottom+C.bottom)/v.y,left:(A.left-w.left+C.left)/v.x,right:(w.right-A.right+C.right)/v.x}}const rn=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:s,middlewareData:r,rects:a,initialPlacement:l,platform:u,elements:o}=e,{mainAxis:S=!0,crossAxis:y=!0,fallbackPlacements:k,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:m=!0,...x}=gt(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const A=X(s),c=X(l)===l,f=await(u.isRTL==null?void 0:u.isRTL(o.floating)),v=k||(c||!m?[ht(l)]:Ye(l));!k&&C!=="none"&&v.push(...tn(l,m,C,f));const w=[l,...v],_=await Gt(e,x),B=[];let O=((i=r.flip)==null?void 0:i.overflows)||[];if(S&&B.push(_[A]),y){const L=Je(s,a,f);B.push(_[L[0]],_[L[1]])}if(O=[...O,{placement:s,overflows:B}],!B.every(L=>L<=0)){var I,R;const L=(((I=r.flip)==null?void 0:I.index)||0)+1,G=w[L];if(G)return{data:{index:L,overflows:O},reset:{placement:G}};let $=(R=O.filter(H=>H.overflows[0]<=0).sort((H,D)=>H.overflows[1]-D.overflows[1])[0])==null?void 0:R.placement;if(!$)switch(b){case"bestFit":{var z;const H=(z=O.map(D=>[D.placement,D.overflows.filter(j=>j>0).reduce((j,Y)=>j+Y,0)]).sort((D,j)=>D[1]-j[1])[0])==null?void 0:z[0];H&&($=H);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};async function sn(t,e){const{placement:n,platform:i,elements:s}=t,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),a=X(n),l=st(n),u=vt(n)==="y",o=["left","top"].includes(a)?-1:1,S=r&&u?-1:1,y=gt(e,t);let{mainAxis:k,crossAxis:b,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return l&&typeof C=="number"&&(b=l==="end"?C*-1:C),u?{x:b*S,y:k*o}:{x:k*o,y:b*S}}const an=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:s,y:r,placement:a,middlewareData:l}=e,u=await sn(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+u.x,y:r+u.y,data:{...u,placement:a}}}}},ln=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:i,platform:s,elements:r}=e,{apply:a=()=>{},...l}=gt(t,e),u=await Gt(e,l),o=X(n),S=st(n),y=vt(n)==="y",{width:k,height:b}=i.floating;let C,m;o==="top"||o==="bottom"?(C=o,m=S===(await(s.isRTL==null?void 0:s.isRTL(r.floating))?"start":"end")?"left":"right"):(m=o,C=S==="end"?"top":"bottom");const x=b-u[C],A=k-u[m],c=!e.middlewareData.shift;let f=x,v=A;if(y){const _=k-u.left-u.right;v=S||c?nt(A,_):_}else{const _=b-u.top-u.bottom;f=S||c?nt(x,_):_}if(c&&!S){const _=M(u.left,0),B=M(u.right,0),O=M(u.top,0),I=M(u.bottom,0);y?v=k-2*(_!==0||B!==0?_+B:M(u.left,u.right)):f=b-2*(O!==0||I!==0?O+I:M(u.top,u.bottom))}await a({...e,availableWidth:v,availableHeight:f});const w=await s.getDimensions(r.floating);return k!==w.width||b!==w.height?{reset:{rects:!0}}:{}}}};function K(t){return Xt(t)?(t.nodeName||"").toLowerCase():"#document"}function E(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function W(t){var e;return(e=(Xt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Xt(t){return t instanceof Node||t instanceof E(t).Node}function q(t){return t instanceof Element||t instanceof E(t).Element}function N(t){return t instanceof HTMLElement||t instanceof E(t).HTMLElement}function Ft(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof E(t).ShadowRoot}function at(t){const{overflow:e,overflowX:n,overflowY:i,display:s}=V(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(s)}function cn(t){return["table","td","th"].includes(K(t))}function _t(t){const e=At(),n=V(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function un(t){let e=tt(t);for(;N(e)&&!mt(e);){if(_t(e))return e;e=tt(e)}return null}function At(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mt(t){return["html","body","#document"].includes(K(t))}function V(t){return E(t).getComputedStyle(t)}function yt(t){return q(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tt(t){if(K(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ft(t)&&t.host||W(t);return Ft(e)?e.host:e}function Jt(t){const e=tt(t);return mt(e)?t.ownerDocument?t.ownerDocument.body:t.body:N(e)&&at(e)?e:Jt(e)}function it(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Jt(t),r=s===((i=t.ownerDocument)==null?void 0:i.body),a=E(s);return r?e.concat(a,a.visualViewport||[],at(s)?s:[],a.frameElement&&n?it(a.frameElement):[]):e.concat(s,it(s,[],n))}function Yt(t){const e=V(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=N(t),r=s?t.offsetWidth:n,a=s?t.offsetHeight:i,l=dt(n)!==r||dt(i)!==a;return l&&(n=r,i=a),{width:n,height:i,$:l}}function Bt(t){return q(t)?t:t.contextElement}function Z(t){const e=Bt(t);if(!N(e))return Q(1);const n=e.getBoundingClientRect(),{width:i,height:s,$:r}=Yt(e);let a=(r?dt(n.width):n.width)/i,l=(r?dt(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const fn=Q(0);function Zt(t){const e=E(t);return!At()||!e.visualViewport?fn:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dn(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==E(t)?!1:e}function J(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=Bt(t);let a=Q(1);e&&(i?q(i)&&(a=Z(i)):a=Z(t));const l=dn(r,n,i)?Zt(r):Q(0);let u=(s.left+l.x)/a.x,o=(s.top+l.y)/a.y,S=s.width/a.x,y=s.height/a.y;if(r){const k=E(r),b=i&&q(i)?E(i):i;let C=k.frameElement;for(;C&&i&&b!==k;){const m=Z(C),x=C.getBoundingClientRect(),A=V(C),c=x.left+(C.clientLeft+parseFloat(A.paddingLeft))*m.x,f=x.top+(C.clientTop+parseFloat(A.paddingTop))*m.y;u*=m.x,o*=m.y,S*=m.x,y*=m.y,u+=c,o+=f,C=E(C).frameElement}}return pt({width:S,height:y,x:u,y:o})}function hn(t){let{rect:e,offsetParent:n,strategy:i}=t;const s=N(n),r=W(n);if(n===r)return e;let a={scrollLeft:0,scrollTop:0},l=Q(1);const u=Q(0);if((s||!s&&i!=="fixed")&&((K(n)!=="body"||at(r))&&(a=yt(n)),N(n))){const o=J(n);l=Z(n),u.x=o.x+n.clientLeft,u.y=o.y+n.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-a.scrollLeft*l.x+u.x,y:e.y*l.y-a.scrollTop*l.y+u.y}}function pn(t){return Array.from(t.getClientRects())}function te(t){return J(W(t)).left+yt(t).scrollLeft}function gn(t){const e=W(t),n=yt(t),i=t.ownerDocument.body,s=M(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=M(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+te(t);const l=-n.scrollTop;return V(i).direction==="rtl"&&(a+=M(e.clientWidth,i.clientWidth)-s),{width:s,height:r,x:a,y:l}}function vn(t,e){const n=E(t),i=W(t),s=n.visualViewport;let r=i.clientWidth,a=i.clientHeight,l=0,u=0;if(s){r=s.width,a=s.height;const o=At();(!o||o&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:r,height:a,x:l,y:u}}function mn(t,e){const n=J(t,!0,e==="fixed"),i=n.top+t.clientTop,s=n.left+t.clientLeft,r=N(t)?Z(t):Q(1),a=t.clientWidth*r.x,l=t.clientHeight*r.y,u=s*r.x,o=i*r.y;return{width:a,height:l,x:u,y:o}}function Mt(t,e,n){let i;if(e==="viewport")i=vn(t,n);else if(e==="document")i=gn(W(t));else if(q(e))i=mn(e,n);else{const s=Zt(t);i={...e,x:e.x-s.x,y:e.y-s.y}}return pt(i)}function ee(t,e){const n=tt(t);return n===e||!q(n)||mt(n)?!1:V(n).position==="fixed"||ee(n,e)}function yn(t,e){const n=e.get(t);if(n)return n;let i=it(t,[],!1).filter(l=>q(l)&&K(l)!=="body"),s=null;const r=V(t).position==="fixed";let a=r?tt(t):t;for(;q(a)&&!mt(a);){const l=V(a),u=_t(a);!u&&l.position==="fixed"&&(s=null),(r?!u&&!s:!u&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||at(a)&&!u&&ee(t,a))?i=i.filter(S=>S!==a):s=l,a=tt(a)}return e.set(t,i),i}function bn(t){let{element:e,boundary:n,rootBoundary:i,strategy:s}=t;const a=[...n==="clippingAncestors"?yn(e,this._c):[].concat(n),i],l=a[0],u=a.reduce((o,S)=>{const y=Mt(e,S,s);return o.top=M(y.top,o.top),o.right=nt(y.right,o.right),o.bottom=nt(y.bottom,o.bottom),o.left=M(y.left,o.left),o},Mt(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function wn(t){const{width:e,height:n}=Yt(t);return{width:e,height:n}}function xn(t,e,n){const i=N(e),s=W(e),r=n==="fixed",a=J(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const u=Q(0);if(i||!i&&!r)if((K(e)!=="body"||at(s))&&(l=yt(e)),i){const o=J(e,!0,r,e);u.x=o.x+e.clientLeft,u.y=o.y+e.clientTop}else s&&(u.x=te(s));return{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function Vt(t,e){return!N(t)||V(t).position==="fixed"?null:e?e(t):t.offsetParent}function ne(t,e){const n=E(t);if(!N(t))return n;let i=Vt(t,e);for(;i&&cn(i)&&V(i).position==="static";)i=Vt(i,e);return i&&(K(i)==="html"||K(i)==="body"&&V(i).position==="static"&&!_t(i))?n:i||un(t)||n}const Sn=async function(t){let{reference:e,floating:n,strategy:i}=t;const s=this.getOffsetParent||ne,r=this.getDimensions;return{reference:xn(e,await s(n),i),floating:{x:0,y:0,...await r(n)}}};function Cn(t){return V(t).direction==="rtl"}const kn={convertOffsetParentRelativeRectToViewportRelativeRect:hn,getDocumentElement:W,getClippingRect:bn,getOffsetParent:ne,getElementRects:Sn,getClientRects:pn,getDimensions:wn,getScale:Z,isElement:q,isRTL:Cn};function _n(t,e){let n=null,i;const s=W(t);function r(){clearTimeout(i),n&&n.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),r();const{left:o,top:S,width:y,height:k}=t.getBoundingClientRect();if(l||e(),!y||!k)return;const b=ut(S),C=ut(s.clientWidth-(o+y)),m=ut(s.clientHeight-(S+k)),x=ut(o),c={rootMargin:-b+"px "+-C+"px "+-m+"px "+-x+"px",threshold:M(0,nt(1,u))||1};let f=!0;function v(w){const _=w[0].intersectionRatio;if(_!==u){if(!f)return a();_?a(!1,_):i=setTimeout(()=>{a(!1,1e-7)},100)}f=!1}try{n=new IntersectionObserver(v,{...c,root:s.ownerDocument})}catch{n=new IntersectionObserver(v,c)}n.observe(t)}return a(!0),r}function An(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,o=Bt(t),S=s||r?[...o?it(o):[],...it(e)]:[];S.forEach(A=>{s&&A.addEventListener("scroll",n,{passive:!0}),r&&A.addEventListener("resize",n)});const y=o&&l?_n(o,n):null;let k=-1,b=null;a&&(b=new ResizeObserver(A=>{let[c]=A;c&&c.target===o&&b&&(b.unobserve(e),cancelAnimationFrame(k),k=requestAnimationFrame(()=>{b&&b.observe(e)})),n()}),o&&!u&&b.observe(o),b.observe(e));let C,m=u?J(t):null;u&&x();function x(){const A=J(t);m&&(A.x!==m.x||A.y!==m.y||A.width!==m.width||A.height!==m.height)&&n(),m=A,C=requestAnimationFrame(x)}return n(),()=>{S.forEach(A=>{s&&A.removeEventListener("scroll",n),r&&A.removeEventListener("resize",n)}),y&&y(),b&&b.disconnect(),b=null,u&&cancelAnimationFrame(C)}}const Bn=rn,On=ln,Tn=(t,e,n)=>{const i=new Map,s={platform:kn,...n},r={...s.platform,_c:i};return on(t,e,{...s,platform:r})},Ht=(t,e)=>{let n=!1;const i=e.value,s=r=>{!t.contains(r.target)&&n&&i(),n=t.contains(r.target)};document.addEventListener("click",s,!0),t.onClickOutside=s},Dt=t=>{document.removeEventListener("click",t.onClickOutside,!0),delete t.onClickOutside},In={created:Ht,unmounted:Dt,bind:Ht,unbind:Dt},Ln={name:"Teleport",props:{to:{type:String,required:!0},where:{type:String,default:"after"},disabled:Boolean},data(){return{nodes:[],waiting:!1,observer:null,parent:null}},computed:{classes(){return this.disabled?["teleport"]:["teleport","teleport-hidden"]}},watch:{to:"maybeMove",where:"maybeMove",disabled(t){t?(this.disable(),this.teardownObserver()):(this.bootObserver(),this.move())}},mounted(){this.nodes=Array.from(this.$el.childNodes),this.disabled||this.bootObserver(),this.maybeMove()},beforeUnmount(){this.disable(),this.teardownObserver()},methods:{maybeMove(){this.disabled||this.move()},move(){if(this.waiting=!1,this.parent=document.querySelector(this.to),!this.parent){this.disable(),this.waiting=!0;return}this.where==="before"?this.parent.prepend(this.getFragment()):this.parent.appendChild(this.getFragment())},disable(){this.$el.appendChild(this.getFragment()),this.parent=null},getFragment(){const t=document.createDocumentFragment();return this.nodes.forEach(e=>t.appendChild(e)),t},onMutations(t){let e=!1;for(let n=0;n<t.length;n++){const i=t[n],s=Array.from(i.addedNodes).filter(r=>!this.nodes.includes(r));Array.from(i.removedNodes).includes(this.parent)?(this.disable(),this.waiting=!this.disabled):this.waiting&&s.length>0&&(e=!0)}e&&this.move()},bootObserver(){this.observer||(this.observer=new MutationObserver(t=>this.onMutations(t)),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))},teardownObserver(){this.observer&&(this.observer.disconnect(),this.observer=null)}}},ie=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};function En(t,e,n,i,s,r){return P(),U("div",{class:ft(r.classes)},[re(t.$slots,"default")],2)}const zt=ie(Ln,[["render",En]]),$t="handleDebounceQuerySuggestion",Rn=oe({name:"Autocomplete",directives:{clickOutside:In},props:{modelValue:{type:String,default:""},api:{type:String,default:T.initialOptions.api},queryDelay:{type:Number,default:T.initialOptions.queryDelay},placeholder:{type:String,default:T.initialOptions.placeholder},clearable:{type:Boolean,default:T.initialOptions.clearable},backFill:{type:Boolean,default:T.initialOptions.backFill},popupAppendToBody:{type:Boolean,default:T.initialOptions.popupAppendToBody},autoFocus:{type:Boolean,default:T.initialOptions.autoFocus},showSubmitButton:{type:Boolean,default:T.initialOptions.showSubmitButton},submitButtonLabel:{type:String,default:T.initialOptions.submitButtonLabel},offsetTop:{type:Number,default:T.initialOptions.offsetTop},autoFlip:{type:Boolean,default:T.initialOptions.autoFlip},historyEnabled:{type:Boolean,default:T.initialOptions.history.enabled},historyType:{type:String,default:T.initialOptions.history.type},historyStorageKey:{type:String,default:T.initialOptions.history.key},historyClearable:{type:Boolean,default:T.initialOptions.history.showClear}},emits:["update:modelValue","change","input","fetch","abortFetch","select","clear","focus","blur","submit","dropdownVisibleChange"],data(){return{isVue3:ve,abortController:void 0,latestKeyword:"",selectSuggestion:void 0,suggestionVisible:!1,suggestionType:"fetch",suggestions:[],keyboardActiveIndex:void 0,floatingWidth:void 0,floatingStyles:{left:"0",top:"0",width:"auto"},clearIcon:T.initialOptions.clearIcon,historyClearIcon:T.initialOptions.history.clearIcon,historyItemIcon:T.initialOptions.history.itemIcon}},computed:{nativeInputValue(){return We(this.modelValue)?"":String(this.modelValue)}},watch:{nativeInputValue(){this.setNativeInputValue()}},created(){this[$t]=Qe(this.handleQuerySuggestion,this.queryDelay)},mounted(){this.autoFocus&&this.handleFocus(),this.setNativeInputValue(),this.handleCalculatePosition()},methods:{handleFocus(){this.$refs.input.focus()},handleCalculatePosition(){const t=this.$refs.reference,e=this.$refs.floating;An(t,e,()=>{Tn(t,e,{middleware:[an(this.offsetTop),On({apply:({rects:n})=>{this.floatingStyles.width=`${n.reference.width}px`}}),...this.autoFlip?[Bn({fallbackPlacements:["top"]})]:[]]}).then(({x:n,y:i})=>{this.floatingStyles.left=`${n}px`,this.floatingStyles.top=`${i}px`})})},handleCancelQuerySuggestion(){this.abortController&&(this.abortController.abort("repeated request"),this.abortController=void 0)},async handleQuerySuggestion(t){if(this.handleCancelQuerySuggestion(),this.nativeInputValue===this.latestKeyword){this.showSuggestion();return}this.abortController=new AbortController,T.handleQueryData(t.trim(),this.api,this.abortController).then(({data:e})=>{this.latestKeyword=t.trim(),this.suggestions=e,this.showSuggestion(),this.$emit("fetch",e)}).catch(e=>{e.name==="AbortError"&&this.$emit("abortFetch",e)})},setNativeInputValue(){const t=this.$refs.input;t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleInput(t){this.hideSuggestion();const{value:e}=t.target;if(this.handleUpdateModelValue(e),this.$emit("input",e),this.keyboardActiveIndex=void 0,this.selectSuggestion=void 0,e.length===0){this.clearSuggestion();return}this[$t](e)},handleInputClick(){this.nativeInputValue?this.handleQuerySuggestion(this.nativeInputValue):this.historyEnabled&&(this.latestKeyword="",this.handleShowHistory())},handleInputChange(t){const{value:e}=t.target;this.$emit("change",e)},handleInputFocus(){this.$emit("focus")},handleInputBlur(){this.handleCancelQuerySuggestion(),this.$emit("blur")},handleShowHistory(){const t={enabled:this.historyEnabled,key:this.historyStorageKey,type:this.historyType};this.suggestions=T.getHistory(t),this.showSuggestion("history")},clearSuggestion(){this.suggestions=[]},showSuggestion(t="fetch"){if(this.suggestions.length===0){this.clearSuggestion(),this.hideSuggestion();return}this.suggestionType=t,!this.suggestionVisible&&(this.suggestionVisible=!0,this.$emit("dropdownVisibleChange",!0))},hideSuggestion(){this.suggestionVisible&&(this.suggestionVisible=!1,this.$emit("dropdownVisibleChange",!1))},handleSubmit(){this.$emit("submit",{text:this.nativeInputValue})},handleInputClear(){this.selectSuggestion=void 0,this.handleUpdateModelValue(""),this.clearSuggestion(),this.hideSuggestion(),this.handleFocus(),this.$emit("clear")},handleClickOutside(){this.hideSuggestion()},handleKeyDown(t){switch(t.key){case"Enter":Lt(this.keyboardActiveIndex)||this.handleSuggestionClick(this.suggestions[this.keyboardActiveIndex]);break;case"ArrowUp":this.keyboardActiveIndex?this.keyboardActiveIndex--:this.keyboardActiveIndex=this.suggestions.length-1,this.backFill&&this.handleFillInput();break;case"ArrowDown":Lt(this.keyboardActiveIndex)||this.keyboardActiveIndex>=this.suggestions.length-1?this.keyboardActiveIndex=0:this.keyboardActiveIndex++,this.backFill&&this.handleFillInput();break;case"Escape":this.handleInputClear();break}},handleFillInput(){this.selectSuggestion=this.suggestions[this.keyboardActiveIndex],this.handleUpdateModelValue(Et(this.selectSuggestion.name||""))},handleHistoryClear(){const t={key:this.historyStorageKey,type:this.historyType};T.removeHistory(t),this.clearSuggestion(),this.hideSuggestion()},handleSuggestionClick(t){if(this.handleUpdateModelValue(Et(t.name)),this.selectSuggestion={id:t.id,name:t.name},this.clearSuggestion(),this.hideSuggestion(),this.historyEnabled&&this.selectSuggestion){const e={enabled:this.historyEnabled,key:this.historyStorageKey,type:this.historyType};T.addHistory(this.selectSuggestion,e)}this.$emit("select",this.selectSuggestion)},handleUpdateModelValue(t){this.$emit("update:modelValue",t)}}}),Fn={class:"company-autocomplete__input"},Mn=["placeholder"],Vn={key:0,class:"company-autocomplete__clear"},Hn=["innerHTML"],Dn={key:0,class:"company-autocomplete__submit"},zn={class:"suggestion-popper__body"},$n=["onClick"],jn={class:"suggestion__avatar"},Nn=["innerHTML"],Pn=["alt","src"],qn=["innerHTML"],Wn=F("div",{class:"suggestion__extra"},null,-1),Un={class:"suggestion-popper__footer"},Qn=["innerHTML"];function Kn(t,e,n,i,s,r){const a=se("click-outside");return Ot((P(),U("div",{ref:"reference",class:ft(["company-autocomplete",[{"company-autocomplete--show-submit":t.showSubmitButton,"company-autocomplete--words":t.nativeInputValue.length>0,"company-autocomplete--activated":t.suggestionVisible}]]),onKeydown:e[8]||(e[8]=(...l)=>t.handleKeyDown&&t.handleKeyDown(...l))},[F("div",Fn,[F("input",ae({ref:"input",type:"text"},t.$attrs,{placeholder:t.placeholder,onInput:e[0]||(e[0]=(...l)=>t.handleInput&&t.handleInput(...l)),onClick:e[1]||(e[1]=(...l)=>t.handleInputClick&&t.handleInputClick(...l)),onChange:e[2]||(e[2]=(...l)=>t.handleInputChange&&t.handleInputChange(...l)),onFocus:e[3]||(e[3]=(...l)=>t.handleInputFocus&&t.handleInputFocus(...l)),onBlur:e[4]||(e[4]=(...l)=>t.handleInputBlur&&t.handleInputBlur(...l))}),null,16,Mn),t.clearable?(P(),U("div",Vn,[F("i",{class:"company-autocomplete__clear-icon",onClick:e[5]||(e[5]=(...l)=>t.handleInputClear&&t.handleInputClear(...l)),innerHTML:t.clearIcon},null,8,Hn)])):bt("",!0)]),t.showSubmitButton?(P(),U("div",Dn,[F("button",{type:"button",onClick:e[6]||(e[6]=(...l)=>t.handleSubmit&&t.handleSubmit(...l))},le(t.submitButtonLabel),1)])):bt("",!0),(P(),ce(ge,{to:"body",disabled:!t.popupAppendToBody},[F("div",{ref:"floating",class:ft(["suggestion-popper",[{"suggestion-popper--activated":t.suggestionVisible}]]),style:pe(t.floatingStyles)},[F("div",zn,[(P(!0),U(ue,null,fe(t.suggestions,(l,u)=>(P(),U("div",{class:ft(["suggestion",[{"suggestion--keyboard-active":t.keyboardActiveIndex===u}]]),key:`${l.name}-${u}`,onClick:o=>t.handleSuggestionClick(l)},[F("div",jn,[t.suggestionType==="history"?(P(),U("i",{key:0,class:"suggestion__avatar-icon",innerHTML:t.historyItemIcon},null,8,Nn)):l.avatar?(P(),U("img",{key:1,alt:l.id,src:l.avatar},null,8,Pn)):bt("",!0)]),F("div",{class:"suggestion__label",innerHTML:l.name},null,8,qn),Wn],10,$n))),128))]),Ot(F("div",Un,[F("a",{href:"javascript:;",onClick:e[7]||(e[7]=(...l)=>t.handleHistoryClear&&t.handleHistoryClear(...l))},[F("i",{class:"suggestion-popper__icon",innerHTML:t.historyClearIcon},null,8,Qn),de(" 删除历史 ")])],512),[[he,t.historyClearable&&t.suggestionType==="history"]])],6)],8,["disabled"]))],34)),[[a,t.handleClickOutside]])}const jt=ie(Rn,[["render",Kn]]),Xn={install(t){t.component(jt.name,jt),t.component(zt.name,zt)}};export{jt as autocomplete,Xn as default,zt as teleport};
