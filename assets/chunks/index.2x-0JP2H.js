import{d as se,o as q,c as U,r as ae,n as ft,aX as le,aA as Tt,m as F,N as ce,e as bt,t as ue,b as fe,F as de,G as he,a as pe,aB as ge,R as ve,ay as me}from"./framework.vcrxid1O.js";var ye=!0;const Nt={},be=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"}));var wt={exports:{}},St=function(){return St=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},St.apply(this,arguments)};function et(t,e,n,i){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(b){try{r(i.next(b))}catch(m){a(m)}}function u(b){try{r(i.throw(b))}catch(m){a(m)}}function r(b){b.done?o(b.value):s(b.value).then(l,u)}r((i=i.apply(t,e||[])).next())})}function nt(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,s,o,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(r){return function(b){return u([r,b])}}function u(r){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,r[0]&&(n=0)),n;)try{if(i=1,s&&(o=r[0]&2?s.return:r[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,r[1])).done)return o;switch(s=0,o&&(r=[r[0]&2,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return n.label++,{value:r[1],done:!1};case 5:n.label++,s=r[1],r=[0];continue;case 7:r=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(r[0]===6||r[0]===2)){n=0;continue}if(r[0]===3&&(!o||r[1]>o[0]&&r[1]<o[3])){n.label=r[1];break}if(r[0]===6&&n.label<o[1]){n.label=o[1],o=r;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(r);break}o[2]&&n.ops.pop(),n.trys.pop();continue}r=e.call(t,n)}catch(b){r=[6,b],s=0}finally{i=o=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}var we=function(e){return e===void 0},xe=function(e,n,i){return e.replace(new RegExp(n,"g"),i)},Se=function(e){return e.replace(/(<([^>]+)>)/gi,"")},Ce=function(e){try{var n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}},ke=function(e,n){return n===void 0&&(n=""),n+Object.keys(e).map(function(i){return"".concat(i,"=").concat(e[i])}).join("&")},_e=function(e,n){for(var i=[],s=0;s<e.length;s+=n)i.push(e.slice(s,s+n));return i},Be=["https://image.qcc.com/logo/{id}.jpg","https://image.qcc.com/auto/{id}.jpg"],Ae=function(t,e){return et(void 0,void 0,void 0,function(){var n,i,s,o;return nt(this,function(a){switch(a.label){case 0:return n=t.dataset.id||"",e.avatarUrl?(i=t,[4,Ct(n,[e.avatarUrl])]):[3,2];case 1:return i.src=a.sent(),[2];case 2:switch(s=e.api,s){case"qcc_open":return[3,3]}return[3,5];case 3:return o=t,[4,Ct(n,Be)];case 4:return o.src=a.sent(),[3,5];case 5:return[2]}})})},Ct=function(t,e){return et(void 0,void 0,void 0,function(){var n,i,s,o,a,l,u;return nt(this,function(r){switch(r.label){case 0:n=0,i=e,r.label=1;case 1:if(!(n<i.length))return[3,8];s=i[n],r.label=2;case 2:return r.trys.push([2,6,,7]),o=xe(s,"{id}",t),[4,fetch(o)];case 3:return a=r.sent(),a.status!==200?[3,5]:[4,a.blob()];case 4:return l=r.sent(),[2,URL.createObjectURL(l)];case 5:return[3,7];case 6:return u=r.sent(),console.error(u),[3,7];case 7:return n++,[3,1];case 8:return[2,""]}})})},it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Te(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qt={exports:{}};function Oe(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xt={exports:{}},Ot;function Ie(){return Ot||(Ot=1,function(t,e){(function(n,i){t.exports=i()})(it,function(){var n=n||function(i,s){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof it<"u"&&it.crypto&&(o=it.crypto),!o&&typeof Oe=="function")try{o=Nt||be}catch{}var a=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function c(){}return function(f){var y;return c.prototype=f,y=new c,c.prototype=null,y}}(),u={},r=u.lib={},b=r.Base=function(){return{extend:function(c){var f=l(this);return c&&f.mixIn(c),(!f.hasOwnProperty("init")||this.init===f.init)&&(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var f in c)c.hasOwnProperty(f)&&(this[f]=c[f]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),m=r.WordArray=b.extend({init:function(c,f){c=this.words=c||[],f!=s?this.sigBytes=f:this.sigBytes=c.length*4},toString:function(c){return(c||w).stringify(this)},concat:function(c){var f=this.words,y=c.words,x=this.sigBytes,_=c.sigBytes;if(this.clamp(),x%4)for(var A=0;A<_;A++){var T=y[A>>>2]>>>24-A%4*8&255;f[x+A>>>2]|=T<<24-(x+A)%4*8}else for(var I=0;I<_;I+=4)f[x+I>>>2]=y[I>>>2];return this.sigBytes+=_,this},clamp:function(){var c=this.words,f=this.sigBytes;c[f>>>2]&=4294967295<<32-f%4*8,c.length=i.ceil(f/4)},clone:function(){var c=b.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var f=[],y=0;y<c;y+=4)f.push(a());return new m.init(f,c)}}),k=u.enc={},w=k.Hex={stringify:function(c){for(var f=c.words,y=c.sigBytes,x=[],_=0;_<y;_++){var A=f[_>>>2]>>>24-_%4*8&255;x.push((A>>>4).toString(16)),x.push((A&15).toString(16))}return x.join("")},parse:function(c){for(var f=c.length,y=[],x=0;x<f;x+=2)y[x>>>3]|=parseInt(c.substr(x,2),16)<<24-x%8*4;return new m.init(y,f/2)}},C=k.Latin1={stringify:function(c){for(var f=c.words,y=c.sigBytes,x=[],_=0;_<y;_++){var A=f[_>>>2]>>>24-_%4*8&255;x.push(String.fromCharCode(A))}return x.join("")},parse:function(c){for(var f=c.length,y=[],x=0;x<f;x++)y[x>>>2]|=(c.charCodeAt(x)&255)<<24-x%4*8;return new m.init(y,f)}},v=k.Utf8={stringify:function(c){try{return decodeURIComponent(escape(C.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return C.parse(unescape(encodeURIComponent(c)))}},S=r.BufferedBlockAlgorithm=b.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=v.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var f,y=this._data,x=y.words,_=y.sigBytes,A=this.blockSize,T=A*4,I=_/T;c?I=i.ceil(I):I=i.max((I|0)-this._minBufferSize,0);var R=I*A,z=i.min(R*4,_);if(R){for(var L=0;L<R;L+=A)this._doProcessBlock(x,L);f=x.splice(0,R),y.sigBytes-=z}return new m.init(f,z)},clone:function(){var c=b.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0});r.Hasher=S.extend({cfg:b.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var f=this._doFinalize();return f},blockSize:16,_createHelper:function(c){return function(f,y){return new c.init(y).finalize(f)}},_createHmacHelper:function(c){return function(f,y){return new B.HMAC.init(c,y).finalize(f)}}});var B=u.algo={};return u}(Math);return n})}(xt)),xt.exports}(function(t,e){(function(n,i){t.exports=i(Ie())})(it,function(n){return function(i){var s=n,o=s.lib,a=o.WordArray,l=o.Hasher,u=s.algo,r=[];(function(){for(var v=0;v<64;v++)r[v]=i.abs(i.sin(v+1))*4294967296|0})();var b=u.MD5=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,S){for(var B=0;B<16;B++){var c=S+B,f=v[c];v[c]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360}var y=this._hash.words,x=v[S+0],_=v[S+1],A=v[S+2],T=v[S+3],I=v[S+4],R=v[S+5],z=v[S+6],L=v[S+7],G=v[S+8],$=v[S+9],H=v[S+10],D=v[S+11],j=v[S+12],J=v[S+13],lt=v[S+14],ct=v[S+15],d=y[0],h=y[1],p=y[2],g=y[3];d=m(d,h,p,g,x,7,r[0]),g=m(g,d,h,p,_,12,r[1]),p=m(p,g,d,h,A,17,r[2]),h=m(h,p,g,d,T,22,r[3]),d=m(d,h,p,g,I,7,r[4]),g=m(g,d,h,p,R,12,r[5]),p=m(p,g,d,h,z,17,r[6]),h=m(h,p,g,d,L,22,r[7]),d=m(d,h,p,g,G,7,r[8]),g=m(g,d,h,p,$,12,r[9]),p=m(p,g,d,h,H,17,r[10]),h=m(h,p,g,d,D,22,r[11]),d=m(d,h,p,g,j,7,r[12]),g=m(g,d,h,p,J,12,r[13]),p=m(p,g,d,h,lt,17,r[14]),h=m(h,p,g,d,ct,22,r[15]),d=k(d,h,p,g,_,5,r[16]),g=k(g,d,h,p,z,9,r[17]),p=k(p,g,d,h,D,14,r[18]),h=k(h,p,g,d,x,20,r[19]),d=k(d,h,p,g,R,5,r[20]),g=k(g,d,h,p,H,9,r[21]),p=k(p,g,d,h,ct,14,r[22]),h=k(h,p,g,d,I,20,r[23]),d=k(d,h,p,g,$,5,r[24]),g=k(g,d,h,p,lt,9,r[25]),p=k(p,g,d,h,T,14,r[26]),h=k(h,p,g,d,G,20,r[27]),d=k(d,h,p,g,J,5,r[28]),g=k(g,d,h,p,A,9,r[29]),p=k(p,g,d,h,L,14,r[30]),h=k(h,p,g,d,j,20,r[31]),d=w(d,h,p,g,R,4,r[32]),g=w(g,d,h,p,G,11,r[33]),p=w(p,g,d,h,D,16,r[34]),h=w(h,p,g,d,lt,23,r[35]),d=w(d,h,p,g,_,4,r[36]),g=w(g,d,h,p,I,11,r[37]),p=w(p,g,d,h,L,16,r[38]),h=w(h,p,g,d,H,23,r[39]),d=w(d,h,p,g,J,4,r[40]),g=w(g,d,h,p,x,11,r[41]),p=w(p,g,d,h,T,16,r[42]),h=w(h,p,g,d,z,23,r[43]),d=w(d,h,p,g,$,4,r[44]),g=w(g,d,h,p,j,11,r[45]),p=w(p,g,d,h,ct,16,r[46]),h=w(h,p,g,d,A,23,r[47]),d=C(d,h,p,g,x,6,r[48]),g=C(g,d,h,p,L,10,r[49]),p=C(p,g,d,h,lt,15,r[50]),h=C(h,p,g,d,R,21,r[51]),d=C(d,h,p,g,j,6,r[52]),g=C(g,d,h,p,T,10,r[53]),p=C(p,g,d,h,H,15,r[54]),h=C(h,p,g,d,_,21,r[55]),d=C(d,h,p,g,G,6,r[56]),g=C(g,d,h,p,ct,10,r[57]),p=C(p,g,d,h,z,15,r[58]),h=C(h,p,g,d,J,21,r[59]),d=C(d,h,p,g,I,6,r[60]),g=C(g,d,h,p,D,10,r[61]),p=C(p,g,d,h,A,15,r[62]),h=C(h,p,g,d,$,21,r[63]),y[0]=y[0]+d|0,y[1]=y[1]+h|0,y[2]=y[2]+p|0,y[3]=y[3]+g|0},_doFinalize:function(){var v=this._data,S=v.words,B=this._nDataBytes*8,c=v.sigBytes*8;S[c>>>5]|=128<<24-c%32;var f=i.floor(B/4294967296),y=B;S[(c+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,S[(c+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,v.sigBytes=(S.length+1)*4,this._process();for(var x=this._hash,_=x.words,A=0;A<4;A++){var T=_[A];_[A]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return x},clone:function(){var v=l.clone.call(this);return v._hash=this._hash.clone(),v}});function m(v,S,B,c,f,y,x){var _=v+(S&B|~S&c)+f+x;return(_<<y|_>>>32-y)+S}function k(v,S,B,c,f,y,x){var _=v+(S&c|B&~c)+f+x;return(_<<y|_>>>32-y)+S}function w(v,S,B,c,f,y,x){var _=v+(S^B^c)+f+x;return(_<<y|_>>>32-y)+S}function C(v,S,B,c,f,y,x){var _=v+(B^(S|~c))+f+x;return(_<<y|_>>>32-y)+S}s.MD5=l._createHelper(b),s.HmacMD5=l._createHmacHelper(b)}(Math),n.MD5})})(qt);var Le=qt.exports,Ee=Te(Le),Pt=["9y16cxzg","sr2z1z63","hk2ssit3","acsevi4u","nu38i9ej","6m70kgre","hl8rvmhu","30uzkxp0","v9jggair","4ryav515","pgx6isvq","6b3zumy7","bxureygp","jff4xbhb","7j56lyfw","2tctuvza","8jfrswdr","r2as467y","jzye6ls1","bpi7fhat","ywp0p3qn","rzybga6p","84u199q5","kktjaqis","amn5oud8","a0zs4b52","x16y3u37","xku2lp9m","n8eawc7q","gw68xkfw","4wxtunev","ew2x6rzg","go9f3t54","7d0fkx5i","ai6ol58k","47jsslmm","70mxfzcz","b90wzl0c","ua78bvmr","7p60hdt4","ge5lw4u8","ref3rey2","wgay7vhx","b8l2u4mj","rk80y5ot","o37o4wq3","0moweoh0","r10m9bpy","wjilkjhj","il27pnod"],Re=_e(Pt,5),Fe="v2.0",Wt=31,Ve=function(){return Fe},It=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:t},function(){return e.charAt(Math.floor(Math.random()*e.length))}).join("")},Me=function(t){var e=De(t)%Pt.length,n=Math.floor(e/5);return Re[n][e%5]},He=function(t){return Ee(t).toString()},De=function(t){var e=Wt+(t===null?0:ze(t))|0;return Math.abs(e)},ze=function(t){for(var e=1,n=0;n<t.length;n++)e=Wt*e+t.charCodeAt(n)|0;return e},$e=function(t){var e={f:It(5),g:It(3),r:"/company/getCompanyName",searchKey:t,t:Math.floor(Date.now()/1e3),v:Ve()},n=ke(e),i=Me(e.r.toUpperCase()+n),s=He("GET".concat(n).concat(i));return"https://c.qcc.com/embed/api".concat(e.r,"?").concat(n,"&m=").concat(s)},je=function(t,e){return et(void 0,void 0,void 0,function(){var n,i,s,o;return nt(this,function(a){switch(a.label){case 0:if(t.length<2||t.length>100)throw new Error(" keyword length must be between 2 and 100");return n=$e(t),[4,fetch(n,St({method:"GET",mode:"cors",headers:{Referer:"https://c.qcc.com/"}},we(e)?null:{signal:e==null?void 0:e.signal}))];case 1:return i=a.sent(),[4,i.json()];case 2:return s=a.sent(),o=[],s.status!=="200"?[2,o]:[2,s.result.map(function(l){var u=l.keyNo||Se(l.companyName);return{name:l.companyName,id:u}})]}})})},Ne=function(t,e){return et(void 0,void 0,void 0,function(){var n,i,s;return nt(this,function(o){switch(o.label){case 0:if(t.length<2||t.length>=100)throw new Error("keyword length must be between 2 and 100");return n="https://autocomplete.clearbit.com/v1/companies/suggest?query=".concat(t),[4,fetch(n,{method:"GET",mode:"cors",signal:e==null?void 0:e.signal})];case 1:return i=o.sent(),[4,i.json()];case 2:return s=o.sent(),[2,s.map(function(a){return{name:a.name,id:a.domain,avatar:a.logo}})]}})})},qe=function(t,e){return et(void 0,void 0,void 0,function(){var n,i,s;return nt(this,function(o){switch(o.label){case 0:if(t.length<2||t.length>=100)throw new Error("keyword length must be between 2 and 100");return n="https://company-autocomplete-api.vercel.app/qcc-global/search/".concat(t),[4,fetch(n,{method:"GET",mode:"cors",signal:e==null?void 0:e.signal})];case 1:return i=o.sent(),[4,i.json()];case 2:return s=o.sent(),[2,s.resultList.map(function(a){return{name:a.name,id:a.keyNo,avatar:a.imgUrl}})]}})})},Pe=function(t,e,n){return et(void 0,void 0,void 0,function(){var i,s;return nt(this,function(o){switch(o.label){case 0:switch(s=e,s){case"qcc_open":return[3,1];case"clearbit":return[3,3];case"qcc_global":return[3,5]}return[3,7];case 1:return[4,je(t,n)];case 2:return i=o.sent(),[3,8];case 3:return[4,Ne(t,n)];case 4:return i=o.sent(),[3,8];case 5:return[4,qe(t,n)];case 6:return i=o.sent(),[3,8];case 7:return i=[],[3,8];case 8:return[2,{data:i}]}})})},We=function(t,e){if(!(!e.enabled||!e.key)){var n=e.type==="localStorage"?localStorage:sessionStorage,i=Ut(e),s=i.findIndex(function(o){return o.id===t.id});s>-1&&i.splice(s,1),i.splice(0,0,t),n.setItem(e.key,JSON.stringify(i.length>5?i.slice(0,5):i))}},Ut=function(t){if(!t.enabled||!t.key)return[];var e=t.type==="localStorage"?localStorage:sessionStorage,n=e.getItem(t.key)||"";return Ce(n)},Ue=function(t){var e=t.type==="localStorage"?localStorage:sessionStorage;e.removeItem(t.key)},Qe={target:"body",api:"clearbit",queryDelay:500,placeholder:"Input company name",clearable:!0,backFill:!1,popupAppendToBody:!0,clearIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17L12 13.41L8.41 17L7 15.59L10.59 12L7 8.41L8.41 7L12 10.59L15.59 7L17 8.41L13.41 12L17 15.59z"/></svg>',autoFocus:!0,history:{enabled:!0,type:"localStorage",key:"company-history",showClear:!0,itemIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m15.1 19.37l1 1.74c-.96.44-2.01.73-3.1.84v-2.02c.74-.09 1.44-.28 2.1-.56zM4.07 13H2.05c.11 1.1.4 2.14.84 3.1l1.74-1c-.28-.66-.47-1.36-.56-2.1zM15.1 4.63l1-1.74c-.96-.44-2-.73-3.1-.84v2.02c.74.09 1.44.28 2.1.56zM19.93 11h2.02c-.11-1.1-.4-2.14-.84-3.1l-1.74 1c.28.66.47 1.36.56 2.1zM8.9 19.37l-1 1.74c.96.44 2.01.73 3.1.84v-2.02c-.74-.09-1.44-.28-2.1-.56zM11 4.07V2.05c-1.1.11-2.14.4-3.1.84l1 1.74c.66-.28 1.36-.47 2.1-.56zm7.36 3.1l1.74-1.01c-.63-.87-1.4-1.64-2.27-2.27l-1.01 1.74c.59.45 1.1.96 1.54 1.54zM4.63 8.9l-1.74-1c-.44.96-.73 2-.84 3.1h2.02c.09-.74.28-1.44.56-2.1zm15.3 4.1c-.09.74-.28 1.44-.56 2.1l1.74 1c.44-.96.73-2.01.84-3.1h-2.02zm-3.1 5.36l1.01 1.74c.87-.63 1.64-1.4 2.27-2.27l-1.74-1.01c-.45.59-.96 1.1-1.54 1.54zM7.17 5.64l-1-1.75c-.88.64-1.64 1.4-2.27 2.28l1.74 1.01a7.7 7.7 0 0 1 1.53-1.54zM5.64 16.83l-1.74 1c.63.87 1.4 1.64 2.27 2.27l1.01-1.74a7.7 7.7 0 0 1-1.54-1.53zM13 7h-2v5.41l4.29 4.29l1.41-1.41l-3.7-3.7V7z"/></svg>',clearIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M15 2h-3.5l-1-1h-5l-1 1H1v2h14zm1 7c-.7 0-1.37.1-2 .29V5H2v12c0 1.1.9 2 2 2h5.68A6.999 6.999 0 0 0 23 16c0-3.87-3.13-7-7-7zm-7 7c0 .34.03.67.08 1H4V7h8v3.26c-1.81 1.27-3 3.36-3 5.74zm7 5c-2.76 0-5-2.24-5-5s2.24-5 5-5s5 2.24 5 5s-2.24 5-5 5z"/><path fill="currentColor" d="M16.5 12H15v5l3.6 2.1l.8-1.2l-2.9-1.7z"/></svg>'},onInput:function(){},onChange:function(){},onFetch:function(){},onAbortFetch:function(){},onSelect:function(){},onClear:function(){},onFocus:function(){},onBlur:function(){},onSubmit:function(){},onDropdownVisibleChange:function(){},showSubmitButton:!0,submitButtonLabel:"Submit",offsetTop:5,autoFlip:!1},O=Object.freeze({__proto__:null,addHistory:We,getHistory:Ut,getImageData:Ct,handleAvatar:Ae,handleQueryData:Pe,initialOptions:Qe,removeHistory:Ue});(wt.exports==null?{}:wt.exports).default||wt.exports;var Lt=function(t){return t===void 0},Ke=function(t){return t==null||t===void 0};function Ge(t,e,n){e===void 0&&(e=0);var i=n===void 0?{}:n,s=i.start,o=s===void 0?!0:s,a=i.middle,l=a===void 0?!0:a,u=i.once,r=u===void 0?!1:u,b=o,m=0,k,w=!1;function C(){for(var v=this,S=[],B=0;B<arguments.length;B++)S[B]=arguments[B];if(!w){var c=Date.now()-m;m=Date.now(),o&&l&&c>=e&&(b=!0),b?(b=!1,t.apply(this,S),r&&C.cancel()):(l&&c<e||!l)&&(clearTimeout(k),k=setTimeout(function(){m=Date.now(),t.apply(v,S),r&&C.cancel()},l?e-c:e))}}return C.cancel=function(){clearTimeout(k),w=!0},C}function Xe(t,e,n){e===void 0&&(e=0);var i=n===void 0?{}:n,s=i.start,o=s===void 0?!1:s,a=i.middle,l=a===void 0?!1:a,u=i.once,r=u===void 0?!1:u;return Ge(t,e,{start:o,middle:l,once:r})}var Et=function(t){return t.replace(/(<([^>]+)>)/gi,"")};const ot=Math.min,V=Math.max,dt=Math.round,ut=Math.floor,Q=t=>({x:t,y:t}),Ye={left:"right",right:"left",bottom:"top",top:"bottom"},Je={start:"end",end:"start"};function gt(t,e){return typeof t=="function"?t(e):t}function X(t){return t.split("-")[0]}function st(t){return t.split("-")[1]}function Ze(t){return t==="x"?"y":"x"}function Qt(t){return t==="y"?"height":"width"}function vt(t){return["top","bottom"].includes(X(t))?"y":"x"}function Kt(t){return Ze(vt(t))}function tn(t,e,n){n===void 0&&(n=!1);const i=st(t),s=Kt(t),o=Qt(s);let a=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=ht(a)),[a,ht(a)]}function en(t){const e=ht(t);return[kt(t),e,kt(e)]}function kt(t){return t.replace(/start|end/g,e=>Je[e])}function nn(t,e,n){const i=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:i:e?i:s;case"left":case"right":return e?o:a;default:return[]}}function on(t,e,n,i){const s=st(t);let o=nn(X(t),n==="start",i);return s&&(o=o.map(a=>a+"-"+s),e&&(o=o.concat(o.map(kt)))),o}function ht(t){return t.replace(/left|right|bottom|top/g,e=>Ye[e])}function rn(t){return{top:0,right:0,bottom:0,left:0,...t}}function sn(t){return typeof t!="number"?rn(t):{top:t,right:t,bottom:t,left:t}}function pt(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Rt(t,e,n){let{reference:i,floating:s}=t;const o=vt(e),a=Kt(e),l=Qt(a),u=X(e),r=o==="y",b=i.x+i.width/2-s.width/2,m=i.y+i.height/2-s.height/2,k=i[l]/2-s[l]/2;let w;switch(u){case"top":w={x:b,y:i.y-s.height};break;case"bottom":w={x:b,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:m};break;case"left":w={x:i.x-s.width,y:m};break;default:w={x:i.x,y:i.y}}switch(st(e)){case"start":w[a]-=k*(n&&r?-1:1);break;case"end":w[a]+=k*(n&&r?-1:1);break}return w}const an=async(t,e,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let r=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:b,y:m}=Rt(r,i,u),k=i,w={},C=0;for(let v=0;v<l.length;v++){const{name:S,fn:B}=l[v],{x:c,y:f,data:y,reset:x}=await B({x:b,y:m,initialPlacement:i,placement:k,strategy:s,middlewareData:w,rects:r,platform:a,elements:{reference:t,floating:e}});b=c??b,m=f??m,w={...w,[S]:{...w[S],...y}},x&&C<=50&&(C++,typeof x=="object"&&(x.placement&&(k=x.placement),x.rects&&(r=x.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):x.rects),{x:b,y:m}=Rt(r,k,u)),v=-1)}return{x:b,y:m,placement:k,strategy:s,middlewareData:w}};async function Gt(t,e){var n;e===void 0&&(e={});const{x:i,y:s,platform:o,rects:a,elements:l,strategy:u}=t,{boundary:r="clippingAncestors",rootBoundary:b="viewport",elementContext:m="floating",altBoundary:k=!1,padding:w=0}=gt(e,t),C=sn(w),S=l[k?m==="floating"?"reference":"floating":m],B=pt(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:r,rootBoundary:b,strategy:u})),c=m==="floating"?{...a.floating,x:i,y:s}:a.reference,f=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),y=await(o.isElement==null?void 0:o.isElement(f))?await(o.getScale==null?void 0:o.getScale(f))||{x:1,y:1}:{x:1,y:1},x=pt(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:c,offsetParent:f,strategy:u}):c);return{top:(B.top-x.top+C.top)/y.y,bottom:(x.bottom-B.bottom+C.bottom)/y.y,left:(B.left-x.left+C.left)/y.x,right:(x.right-B.right+C.right)/y.x}}const ln=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:u,elements:r}=e,{mainAxis:b=!0,crossAxis:m=!0,fallbackPlacements:k,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:v=!0,...S}=gt(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const B=X(s),c=X(l)===l,f=await(u.isRTL==null?void 0:u.isRTL(r.floating)),y=k||(c||!v?[ht(l)]:en(l));!k&&C!=="none"&&y.push(...on(l,v,C,f));const x=[l,...y],_=await Gt(e,S),A=[];let T=((i=o.flip)==null?void 0:i.overflows)||[];if(b&&A.push(_[B]),m){const L=tn(s,a,f);A.push(_[L[0]],_[L[1]])}if(T=[...T,{placement:s,overflows:A}],!A.every(L=>L<=0)){var I,R;const L=(((I=o.flip)==null?void 0:I.index)||0)+1,G=x[L];if(G)return{data:{index:L,overflows:T},reset:{placement:G}};let $=(R=T.filter(H=>H.overflows[0]<=0).sort((H,D)=>H.overflows[1]-D.overflows[1])[0])==null?void 0:R.placement;if(!$)switch(w){case"bestFit":{var z;const H=(z=T.map(D=>[D.placement,D.overflows.filter(j=>j>0).reduce((j,J)=>j+J,0)]).sort((D,j)=>D[1]-j[1])[0])==null?void 0:z[0];H&&($=H);break}case"initialPlacement":$=l;break}if(s!==$)return{reset:{placement:$}}}return{}}}};async function cn(t,e){const{placement:n,platform:i,elements:s}=t,o=await(i.isRTL==null?void 0:i.isRTL(s.floating)),a=X(n),l=st(n),u=vt(n)==="y",r=["left","top"].includes(a)?-1:1,b=o&&u?-1:1,m=gt(e,t);let{mainAxis:k,crossAxis:w,alignmentAxis:C}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return l&&typeof C=="number"&&(w=l==="end"?C*-1:C),u?{x:w*b,y:k*r}:{x:k*r,y:w*b}}const un=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:s,y:o,placement:a,middlewareData:l}=e,u=await cn(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+u.x,y:o+u.y,data:{...u,placement:a}}}}},fn=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:i,platform:s,elements:o}=e,{apply:a=()=>{},...l}=gt(t,e),u=await Gt(e,l),r=X(n),b=st(n),m=vt(n)==="y",{width:k,height:w}=i.floating;let C,v;r==="top"||r==="bottom"?(C=r,v=b===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(v=r,C=b==="end"?"top":"bottom");const S=w-u[C],B=k-u[v],c=!e.middlewareData.shift;let f=S,y=B;if(m){const _=k-u.left-u.right;y=b||c?ot(B,_):_}else{const _=w-u.top-u.bottom;f=b||c?ot(S,_):_}if(c&&!b){const _=V(u.left,0),A=V(u.right,0),T=V(u.top,0),I=V(u.bottom,0);m?y=k-2*(_!==0||A!==0?_+A:V(u.left,u.right)):f=w-2*(T!==0||I!==0?T+I:V(u.top,u.bottom))}await a({...e,availableWidth:y,availableHeight:f});const x=await s.getDimensions(o.floating);return k!==x.width||w!==x.height?{reset:{rects:!0}}:{}}}};function K(t){return Xt(t)?(t.nodeName||"").toLowerCase():"#document"}function E(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function W(t){var e;return(e=(Xt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Xt(t){return t instanceof Node||t instanceof E(t).Node}function P(t){return t instanceof Element||t instanceof E(t).Element}function N(t){return t instanceof HTMLElement||t instanceof E(t).HTMLElement}function Ft(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof E(t).ShadowRoot}function at(t){const{overflow:e,overflowX:n,overflowY:i,display:s}=M(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(s)}function dn(t){return["table","td","th"].includes(K(t))}function _t(t){const e=Bt(),n=M(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Yt(t){let e=tt(t);for(;N(e)&&!mt(e);){if(_t(e))return e;e=tt(e)}return null}function Bt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mt(t){return["html","body","#document"].includes(K(t))}function M(t){return E(t).getComputedStyle(t)}function yt(t){return P(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tt(t){if(K(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ft(t)&&t.host||W(t);return Ft(e)?e.host:e}function Jt(t){const e=tt(t);return mt(e)?t.ownerDocument?t.ownerDocument.body:t.body:N(e)&&at(e)?e:Jt(e)}function rt(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Jt(t),o=s===((i=t.ownerDocument)==null?void 0:i.body),a=E(s);return o?e.concat(a,a.visualViewport||[],at(s)?s:[],a.frameElement&&n?rt(a.frameElement):[]):e.concat(s,rt(s,[],n))}function Zt(t){const e=M(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=N(t),o=s?t.offsetWidth:n,a=s?t.offsetHeight:i,l=dt(n)!==o||dt(i)!==a;return l&&(n=o,i=a),{width:n,height:i,$:l}}function At(t){return P(t)?t:t.contextElement}function Z(t){const e=At(t);if(!N(e))return Q(1);const n=e.getBoundingClientRect(),{width:i,height:s,$:o}=Zt(e);let a=(o?dt(n.width):n.width)/i,l=(o?dt(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const hn=Q(0);function te(t){const e=E(t);return!Bt()||!e.visualViewport?hn:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pn(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==E(t)?!1:e}function Y(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=At(t);let a=Q(1);e&&(i?P(i)&&(a=Z(i)):a=Z(t));const l=pn(o,n,i)?te(o):Q(0);let u=(s.left+l.x)/a.x,r=(s.top+l.y)/a.y,b=s.width/a.x,m=s.height/a.y;if(o){const k=E(o),w=i&&P(i)?E(i):i;let C=k.frameElement;for(;C&&i&&w!==k;){const v=Z(C),S=C.getBoundingClientRect(),B=M(C),c=S.left+(C.clientLeft+parseFloat(B.paddingLeft))*v.x,f=S.top+(C.clientTop+parseFloat(B.paddingTop))*v.y;u*=v.x,r*=v.y,b*=v.x,m*=v.y,u+=c,r+=f,C=E(C).frameElement}}return pt({width:b,height:m,x:u,y:r})}const gn=[":popover-open",":modal"];function ee(t){let e=!1,n=0,i=0;function s(o){try{e=e||t.matches(o)}catch{}}if(gn.forEach(o=>{s(o)}),e){const o=Yt(t);if(o){const a=o.getBoundingClientRect();n=a.x,i=a.y}}return[e,n,i]}function vn(t){let{elements:e,rect:n,offsetParent:i,strategy:s}=t;const o=W(i),[a]=e?ee(e.floating):[!1];if(i===o||a)return n;let l={scrollLeft:0,scrollTop:0},u=Q(1);const r=Q(0),b=N(i);if((b||!b&&s!=="fixed")&&((K(i)!=="body"||at(o))&&(l=yt(i)),N(i))){const m=Y(i);u=Z(i),r.x=m.x+i.clientLeft,r.y=m.y+i.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+r.x,y:n.y*u.y-l.scrollTop*u.y+r.y}}function mn(t){return Array.from(t.getClientRects())}function ne(t){return Y(W(t)).left+yt(t).scrollLeft}function yn(t){const e=W(t),n=yt(t),i=t.ownerDocument.body,s=V(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=V(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-n.scrollLeft+ne(t);const l=-n.scrollTop;return M(i).direction==="rtl"&&(a+=V(e.clientWidth,i.clientWidth)-s),{width:s,height:o,x:a,y:l}}function bn(t,e){const n=E(t),i=W(t),s=n.visualViewport;let o=i.clientWidth,a=i.clientHeight,l=0,u=0;if(s){o=s.width,a=s.height;const r=Bt();(!r||r&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:o,height:a,x:l,y:u}}function wn(t,e){const n=Y(t,!0,e==="fixed"),i=n.top+t.clientTop,s=n.left+t.clientLeft,o=N(t)?Z(t):Q(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,u=s*o.x,r=i*o.y;return{width:a,height:l,x:u,y:r}}function Vt(t,e,n){let i;if(e==="viewport")i=bn(t,n);else if(e==="document")i=yn(W(t));else if(P(e))i=wn(e,n);else{const s=te(t);i={...e,x:e.x-s.x,y:e.y-s.y}}return pt(i)}function ie(t,e){const n=tt(t);return n===e||!P(n)||mt(n)?!1:M(n).position==="fixed"||ie(n,e)}function xn(t,e){const n=e.get(t);if(n)return n;let i=rt(t,[],!1).filter(l=>P(l)&&K(l)!=="body"),s=null;const o=M(t).position==="fixed";let a=o?tt(t):t;for(;P(a)&&!mt(a);){const l=M(a),u=_t(a);!u&&l.position==="fixed"&&(s=null),(o?!u&&!s:!u&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||at(a)&&!u&&ie(t,a))?i=i.filter(b=>b!==a):s=l,a=tt(a)}return e.set(t,i),i}function Sn(t){let{element:e,boundary:n,rootBoundary:i,strategy:s}=t;const a=[...n==="clippingAncestors"?xn(e,this._c):[].concat(n),i],l=a[0],u=a.reduce((r,b)=>{const m=Vt(e,b,s);return r.top=V(m.top,r.top),r.right=ot(m.right,r.right),r.bottom=ot(m.bottom,r.bottom),r.left=V(m.left,r.left),r},Vt(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Cn(t){const{width:e,height:n}=Zt(t);return{width:e,height:n}}function kn(t,e,n,i){const s=N(e),o=W(e),a=n==="fixed",l=Y(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const r=Q(0);if(s||!s&&!a)if((K(e)!=="body"||at(o))&&(u=yt(e)),s){const v=Y(e,!0,a,e);r.x=v.x+e.clientLeft,r.y=v.y+e.clientTop}else o&&(r.x=ne(o));let b=l.left+u.scrollLeft-r.x,m=l.top+u.scrollTop-r.y;const[k,w,C]=ee(i);return k&&(b+=w,m+=C,s&&(b+=e.clientLeft,m+=e.clientTop)),{x:b,y:m,width:l.width,height:l.height}}function Mt(t,e){return!N(t)||M(t).position==="fixed"?null:e?e(t):t.offsetParent}function oe(t,e){const n=E(t);if(!N(t))return n;let i=Mt(t,e);for(;i&&dn(i)&&M(i).position==="static";)i=Mt(i,e);return i&&(K(i)==="html"||K(i)==="body"&&M(i).position==="static"&&!_t(i))?n:i||Yt(t)||n}const _n=async function(t){const e=this.getOffsetParent||oe,n=this.getDimensions;return{reference:kn(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await n(t.floating)}}};function Bn(t){return M(t).direction==="rtl"}const An={convertOffsetParentRelativeRectToViewportRelativeRect:vn,getDocumentElement:W,getClippingRect:Sn,getOffsetParent:oe,getElementRects:_n,getClientRects:mn,getDimensions:Cn,getScale:Z,isElement:P,isRTL:Bn};function Tn(t,e){let n=null,i;const s=W(t);function o(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),o();const{left:r,top:b,width:m,height:k}=t.getBoundingClientRect();if(l||e(),!m||!k)return;const w=ut(b),C=ut(s.clientWidth-(r+m)),v=ut(s.clientHeight-(b+k)),S=ut(r),c={rootMargin:-w+"px "+-C+"px "+-v+"px "+-S+"px",threshold:V(0,ot(1,u))||1};let f=!0;function y(x){const _=x[0].intersectionRatio;if(_!==u){if(!f)return a();_?a(!1,_):i=setTimeout(()=>{a(!1,1e-7)},100)}f=!1}try{n=new IntersectionObserver(y,{...c,root:s.ownerDocument})}catch{n=new IntersectionObserver(y,c)}n.observe(t)}return a(!0),o}function On(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,r=At(t),b=s||o?[...r?rt(r):[],...rt(e)]:[];b.forEach(B=>{s&&B.addEventListener("scroll",n,{passive:!0}),o&&B.addEventListener("resize",n)});const m=r&&l?Tn(r,n):null;let k=-1,w=null;a&&(w=new ResizeObserver(B=>{let[c]=B;c&&c.target===r&&w&&(w.unobserve(e),cancelAnimationFrame(k),k=requestAnimationFrame(()=>{var f;(f=w)==null||f.observe(e)})),n()}),r&&!u&&w.observe(r),w.observe(e));let C,v=u?Y(t):null;u&&S();function S(){const B=Y(t);v&&(B.x!==v.x||B.y!==v.y||B.width!==v.width||B.height!==v.height)&&n(),v=B,C=requestAnimationFrame(S)}return n(),()=>{var B;b.forEach(c=>{s&&c.removeEventListener("scroll",n),o&&c.removeEventListener("resize",n)}),m==null||m(),(B=w)==null||B.disconnect(),w=null,u&&cancelAnimationFrame(C)}}const In=ln,Ln=fn,En=(t,e,n)=>{const i=new Map,s={platform:An,...n},o={...s.platform,_c:i};return an(t,e,{...s,platform:o})},Ht=(t,e)=>{let n=!1;const i=e.value,s=o=>{!t.contains(o.target)&&n&&i(),n=t.contains(o.target)};document.addEventListener("click",s,!0),t.onClickOutside=s},Dt=t=>{document.removeEventListener("click",t.onClickOutside,!0),delete t.onClickOutside},Rn={created:Ht,unmounted:Dt,bind:Ht,unbind:Dt},Fn={name:"Teleport",props:{to:{type:String,required:!0},where:{type:String,default:"after"},disabled:Boolean},data(){return{nodes:[],waiting:!1,observer:null,parent:null}},computed:{classes(){return this.disabled?["teleport"]:["teleport","teleport-hidden"]}},watch:{to:"maybeMove",where:"maybeMove",disabled(t){t?(this.disable(),this.teardownObserver()):(this.bootObserver(),this.move())}},mounted(){this.nodes=Array.from(this.$el.childNodes),this.disabled||this.bootObserver(),this.maybeMove()},beforeUnmount(){this.disable(),this.teardownObserver()},methods:{maybeMove(){this.disabled||this.move()},move(){if(this.waiting=!1,this.parent=document.querySelector(this.to),!this.parent){this.disable(),this.waiting=!0;return}this.where==="before"?this.parent.prepend(this.getFragment()):this.parent.appendChild(this.getFragment())},disable(){this.$el.appendChild(this.getFragment()),this.parent=null},getFragment(){const t=document.createDocumentFragment();return this.nodes.forEach(e=>t.appendChild(e)),t},onMutations(t){let e=!1;for(let n=0;n<t.length;n++){const i=t[n],s=Array.from(i.addedNodes).filter(o=>!this.nodes.includes(o));Array.from(i.removedNodes).includes(this.parent)?(this.disable(),this.waiting=!this.disabled):this.waiting&&s.length>0&&(e=!0)}e&&this.move()},bootObserver(){this.observer||(this.observer=new MutationObserver(t=>this.onMutations(t)),this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))},teardownObserver(){this.observer&&(this.observer.disconnect(),this.observer=null)}}},re=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};function Vn(t,e,n,i,s,o){return q(),U("div",{class:ft(o.classes)},[ae(t.$slots,"default")],2)}const zt=re(Fn,[["render",Vn]]),$t="handleDebounceQuerySuggestion",Mn=se({name:"Autocomplete",directives:{clickOutside:Rn},props:{modelValue:{type:String,default:""},api:{type:String,default:O.initialOptions.api},queryDelay:{type:Number,default:O.initialOptions.queryDelay},placeholder:{type:String,default:O.initialOptions.placeholder},clearable:{type:Boolean,default:O.initialOptions.clearable},backFill:{type:Boolean,default:O.initialOptions.backFill},popupAppendToBody:{type:Boolean,default:O.initialOptions.popupAppendToBody},autoFocus:{type:Boolean,default:O.initialOptions.autoFocus},showSubmitButton:{type:Boolean,default:O.initialOptions.showSubmitButton},submitButtonLabel:{type:String,default:O.initialOptions.submitButtonLabel},offsetTop:{type:Number,default:O.initialOptions.offsetTop},autoFlip:{type:Boolean,default:O.initialOptions.autoFlip},historyEnabled:{type:Boolean,default:O.initialOptions.history.enabled},historyType:{type:String,default:O.initialOptions.history.type},historyStorageKey:{type:String,default:O.initialOptions.history.key},historyClearable:{type:Boolean,default:O.initialOptions.history.showClear}},emits:["update:modelValue","change","input","fetch","abortFetch","select","clear","focus","blur","submit","dropdownVisibleChange"],data(){return{isVue3:ye,abortController:void 0,latestKeyword:"",selectSuggestion:void 0,suggestionVisible:!1,suggestionType:"fetch",suggestions:[],keyboardActiveIndex:void 0,floatingWidth:void 0,floatingStyles:{left:"0",top:"0",width:"auto"},clearIcon:O.initialOptions.clearIcon,historyClearIcon:O.initialOptions.history.clearIcon,historyItemIcon:O.initialOptions.history.itemIcon}},computed:{nativeInputValue(){return Ke(this.modelValue)?"":String(this.modelValue)}},watch:{nativeInputValue(){this.setNativeInputValue()}},created(){this[$t]=Xe(this.handleQuerySuggestion,this.queryDelay)},mounted(){this.autoFocus&&this.handleFocus(),this.setNativeInputValue(),this.handleCalculatePosition()},methods:{handleFocus(){this.$refs.input.focus()},handleCalculatePosition(){const t=this.$refs.reference,e=this.$refs.floating;On(t,e,()=>{En(t,e,{middleware:[un(this.offsetTop),Ln({apply:({rects:n})=>{this.floatingStyles.width=`${n.reference.width}px`}}),...this.autoFlip?[In({fallbackPlacements:["top"]})]:[]]}).then(({x:n,y:i})=>{this.floatingStyles.left=`${n}px`,this.floatingStyles.top=`${i}px`})})},handleCancelQuerySuggestion(){this.abortController&&(this.abortController.abort("repeated request"),this.abortController=void 0)},async handleQuerySuggestion(t){if(this.handleCancelQuerySuggestion(),this.nativeInputValue===this.latestKeyword){this.showSuggestion();return}this.abortController=new AbortController,O.handleQueryData(t.trim(),this.api,this.abortController).then(({data:e})=>{this.latestKeyword=t.trim(),this.suggestions=e,this.showSuggestion(),this.$emit("fetch",e)}).catch(e=>{e.name==="AbortError"&&this.$emit("abortFetch",e)})},setNativeInputValue(){const t=this.$refs.input;t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleInput(t){this.hideSuggestion();const{value:e}=t.target;if(this.handleUpdateModelValue(e),this.$emit("input",e),this.keyboardActiveIndex=void 0,this.selectSuggestion=void 0,e.length===0){this.clearSuggestion();return}this[$t](e)},handleInputClick(){this.nativeInputValue?this.handleQuerySuggestion(this.nativeInputValue):this.historyEnabled&&(this.latestKeyword="",this.handleShowHistory())},handleInputChange(t){const{value:e}=t.target;this.$emit("change",e)},handleInputFocus(){this.$emit("focus")},handleInputBlur(){this.handleCancelQuerySuggestion(),this.$emit("blur")},handleShowHistory(){const t={enabled:this.historyEnabled,key:this.historyStorageKey,type:this.historyType};this.suggestions=O.getHistory(t),this.showSuggestion("history")},clearSuggestion(){this.suggestions=[]},showSuggestion(t="fetch"){if(this.suggestions.length===0){this.clearSuggestion(),this.hideSuggestion();return}this.suggestionType=t,!this.suggestionVisible&&(this.suggestionVisible=!0,this.$emit("dropdownVisibleChange",!0))},hideSuggestion(){this.suggestionVisible&&(this.suggestionVisible=!1,this.$emit("dropdownVisibleChange",!1))},handleSubmit(){this.$emit("submit",{text:this.nativeInputValue})},handleInputClear(){this.selectSuggestion=void 0,this.handleUpdateModelValue(""),this.clearSuggestion(),this.hideSuggestion(),this.handleFocus(),this.$emit("clear")},handleClickOutside(){this.hideSuggestion()},handleKeyDown(t){switch(t.key){case"Enter":Lt(this.keyboardActiveIndex)||this.handleSuggestionClick(this.suggestions[this.keyboardActiveIndex]);break;case"ArrowUp":this.keyboardActiveIndex?this.keyboardActiveIndex--:this.keyboardActiveIndex=this.suggestions.length-1,this.backFill&&this.handleFillInput();break;case"ArrowDown":Lt(this.keyboardActiveIndex)||this.keyboardActiveIndex>=this.suggestions.length-1?this.keyboardActiveIndex=0:this.keyboardActiveIndex++,this.backFill&&this.handleFillInput();break;case"Escape":this.handleInputClear();break}},handleFillInput(){this.selectSuggestion=this.suggestions[this.keyboardActiveIndex],this.handleUpdateModelValue(Et(this.selectSuggestion.name||""))},handleHistoryClear(){const t={key:this.historyStorageKey,type:this.historyType};O.removeHistory(t),this.clearSuggestion(),this.hideSuggestion()},handleSuggestionClick(t){if(this.handleUpdateModelValue(Et(t.name)),this.selectSuggestion={id:t.id,name:t.name},this.clearSuggestion(),this.hideSuggestion(),this.historyEnabled&&this.selectSuggestion){const e={enabled:this.historyEnabled,key:this.historyStorageKey,type:this.historyType};O.addHistory(this.selectSuggestion,e)}this.$emit("select",this.selectSuggestion)},handleUpdateModelValue(t){this.$emit("update:modelValue",t)}}}),Hn={class:"company-autocomplete__input"},Dn=["placeholder"],zn={key:0,class:"company-autocomplete__clear"},$n=["innerHTML"],jn={key:0,class:"company-autocomplete__submit"},Nn={class:"suggestion-popper__body"},qn=["onClick"],Pn={class:"suggestion__avatar"},Wn=["innerHTML"],Un=["alt","src"],Qn=["innerHTML"],Kn=F("div",{class:"suggestion__extra"},null,-1),Gn={class:"suggestion-popper__footer"},Xn=["innerHTML"];function Yn(t,e,n,i,s,o){const a=le("click-outside");return Tt((q(),U("div",{ref:"reference",class:ft(["company-autocomplete",[{"company-autocomplete--show-submit":t.showSubmitButton,"company-autocomplete--words":t.nativeInputValue.length>0,"company-autocomplete--activated":t.suggestionVisible}]]),onKeydown:e[8]||(e[8]=(...l)=>t.handleKeyDown&&t.handleKeyDown(...l))},[F("div",Hn,[F("input",ce({ref:"input",type:"text"},t.$attrs,{placeholder:t.placeholder,onInput:e[0]||(e[0]=(...l)=>t.handleInput&&t.handleInput(...l)),onClick:e[1]||(e[1]=(...l)=>t.handleInputClick&&t.handleInputClick(...l)),onChange:e[2]||(e[2]=(...l)=>t.handleInputChange&&t.handleInputChange(...l)),onFocus:e[3]||(e[3]=(...l)=>t.handleInputFocus&&t.handleInputFocus(...l)),onBlur:e[4]||(e[4]=(...l)=>t.handleInputBlur&&t.handleInputBlur(...l))}),null,16,Dn),t.clearable?(q(),U("div",zn,[F("i",{class:"company-autocomplete__clear-icon",onClick:e[5]||(e[5]=(...l)=>t.handleInputClear&&t.handleInputClear(...l)),innerHTML:t.clearIcon},null,8,$n)])):bt("",!0)]),t.showSubmitButton?(q(),U("div",jn,[F("button",{type:"button",onClick:e[6]||(e[6]=(...l)=>t.handleSubmit&&t.handleSubmit(...l))},ue(t.submitButtonLabel),1)])):bt("",!0),(q(),fe(me,{to:"body",disabled:!t.popupAppendToBody},[F("div",{ref:"floating",class:ft(["suggestion-popper",[{"suggestion-popper--activated":t.suggestionVisible}]]),style:ve(t.floatingStyles)},[F("div",Nn,[(q(!0),U(de,null,he(t.suggestions,(l,u)=>(q(),U("div",{class:ft(["suggestion",[{"suggestion--keyboard-active":t.keyboardActiveIndex===u}]]),key:`${l.name}-${u}`,onClick:r=>t.handleSuggestionClick(l)},[F("div",Pn,[t.suggestionType==="history"?(q(),U("i",{key:0,class:"suggestion__avatar-icon",innerHTML:t.historyItemIcon},null,8,Wn)):l.avatar?(q(),U("img",{key:1,alt:l.id,src:l.avatar},null,8,Un)):bt("",!0)]),F("div",{class:"suggestion__label",innerHTML:l.name},null,8,Qn),Kn],10,qn))),128))]),Tt(F("div",Gn,[F("a",{href:"javascript:;",onClick:e[7]||(e[7]=(...l)=>t.handleHistoryClear&&t.handleHistoryClear(...l))},[F("i",{class:"suggestion-popper__icon",innerHTML:t.historyClearIcon},null,8,Xn),pe(" 删除历史 ")])],512),[[ge,t.historyClearable&&t.suggestionType==="history"]])],6)],8,["disabled"]))],34)),[[a,t.handleClickOutside]])}const jt=re(Mn,[["render",Yn]]),Zn={install(t){t.component(jt.name,jt),t.component(zt.name,zt)}};export{jt as autocomplete,Zn as default,zt as teleport};
